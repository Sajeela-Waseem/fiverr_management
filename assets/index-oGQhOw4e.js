(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var Uf={exports:{}},El={},Bf={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function Ax(){if(Gv)return ke;Gv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function E($){return $===null||typeof $!="object"?null:($=_&&$[_]||$["@@iterator"],typeof $=="function"?$:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,V={};function N($,Y,ge){this.props=$,this.context=Y,this.refs=V,this.updater=ge||x}N.prototype.isReactComponent={},N.prototype.setState=function($,Y){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Y,"setState")},N.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function F(){}F.prototype=N.prototype;function O($,Y,ge){this.props=$,this.context=Y,this.refs=V,this.updater=ge||x}var B=O.prototype=new F;B.constructor=O,P(B,N.prototype),B.isPureReactComponent=!0;var Q=Array.isArray,J=Object.prototype.hasOwnProperty,se={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function S($,Y,ge){var Ce,Re={},Ve=null,je=null;if(Y!=null)for(Ce in Y.ref!==void 0&&(je=Y.ref),Y.key!==void 0&&(Ve=""+Y.key),Y)J.call(Y,Ce)&&!b.hasOwnProperty(Ce)&&(Re[Ce]=Y[Ce]);var Ue=arguments.length-2;if(Ue===1)Re.children=ge;else if(1<Ue){for(var He=Array(Ue),At=0;At<Ue;At++)He[At]=arguments[At+2];Re.children=He}if($&&$.defaultProps)for(Ce in Ue=$.defaultProps,Ue)Re[Ce]===void 0&&(Re[Ce]=Ue[Ce]);return{$$typeof:n,type:$,key:Ve,ref:je,props:Re,_owner:se.current}}function C($,Y){return{$$typeof:n,type:$.type,key:Y,ref:$.ref,props:$.props,_owner:$._owner}}function D($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function j($){var Y={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ge){return Y[ge]})}var z=/\/+/g;function k($,Y){return typeof $=="object"&&$!==null&&$.key!=null?j(""+$.key):Y.toString(36)}function $e($,Y,ge,Ce,Re){var Ve=typeof $;(Ve==="undefined"||Ve==="boolean")&&($=null);var je=!1;if($===null)je=!0;else switch(Ve){case"string":case"number":je=!0;break;case"object":switch($.$$typeof){case n:case e:je=!0}}if(je)return je=$,Re=Re(je),$=Ce===""?"."+k(je,0):Ce,Q(Re)?(ge="",$!=null&&(ge=$.replace(z,"$&/")+"/"),$e(Re,Y,ge,"",function(At){return At})):Re!=null&&(D(Re)&&(Re=C(Re,ge+(!Re.key||je&&je.key===Re.key?"":(""+Re.key).replace(z,"$&/")+"/")+$)),Y.push(Re)),1;if(je=0,Ce=Ce===""?".":Ce+":",Q($))for(var Ue=0;Ue<$.length;Ue++){Ve=$[Ue];var He=Ce+k(Ve,Ue);je+=$e(Ve,Y,ge,He,Re)}else if(He=E($),typeof He=="function")for($=He.call($),Ue=0;!(Ve=$.next()).done;)Ve=Ve.value,He=Ce+k(Ve,Ue++),je+=$e(Ve,Y,ge,He,Re);else if(Ve==="object")throw Y=String($),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return je}function dt($,Y,ge){if($==null)return $;var Ce=[],Re=0;return $e($,Ce,"","",function(Ve){return Y.call(ge,Ve,Re++)}),Ce}function vt($){if($._status===-1){var Y=$._result;Y=Y(),Y.then(function(ge){($._status===0||$._status===-1)&&($._status=1,$._result=ge)},function(ge){($._status===0||$._status===-1)&&($._status=2,$._result=ge)}),$._status===-1&&($._status=0,$._result=Y)}if($._status===1)return $._result.default;throw $._result}var xe={current:null},ie={transition:null},me={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:ie,ReactCurrentOwner:se};function ae(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:dt,forEach:function($,Y,ge){dt($,function(){Y.apply(this,arguments)},ge)},count:function($){var Y=0;return dt($,function(){Y++}),Y},toArray:function($){return dt($,function(Y){return Y})||[]},only:function($){if(!D($))throw Error("React.Children.only expected to receive a single React element child.");return $}},ke.Component=N,ke.Fragment=t,ke.Profiler=s,ke.PureComponent=O,ke.StrictMode=r,ke.Suspense=f,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,ke.act=ae,ke.cloneElement=function($,Y,ge){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ce=P({},$.props),Re=$.key,Ve=$.ref,je=$._owner;if(Y!=null){if(Y.ref!==void 0&&(Ve=Y.ref,je=se.current),Y.key!==void 0&&(Re=""+Y.key),$.type&&$.type.defaultProps)var Ue=$.type.defaultProps;for(He in Y)J.call(Y,He)&&!b.hasOwnProperty(He)&&(Ce[He]=Y[He]===void 0&&Ue!==void 0?Ue[He]:Y[He])}var He=arguments.length-2;if(He===1)Ce.children=ge;else if(1<He){Ue=Array(He);for(var At=0;At<He;At++)Ue[At]=arguments[At+2];Ce.children=Ue}return{$$typeof:n,type:$.type,key:Re,ref:Ve,props:Ce,_owner:je}},ke.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},ke.createElement=S,ke.createFactory=function($){var Y=S.bind(null,$);return Y.type=$,Y},ke.createRef=function(){return{current:null}},ke.forwardRef=function($){return{$$typeof:h,render:$}},ke.isValidElement=D,ke.lazy=function($){return{$$typeof:v,_payload:{_status:-1,_result:$},_init:vt}},ke.memo=function($,Y){return{$$typeof:p,type:$,compare:Y===void 0?null:Y}},ke.startTransition=function($){var Y=ie.transition;ie.transition={};try{$()}finally{ie.transition=Y}},ke.unstable_act=ae,ke.useCallback=function($,Y){return xe.current.useCallback($,Y)},ke.useContext=function($){return xe.current.useContext($)},ke.useDebugValue=function(){},ke.useDeferredValue=function($){return xe.current.useDeferredValue($)},ke.useEffect=function($,Y){return xe.current.useEffect($,Y)},ke.useId=function(){return xe.current.useId()},ke.useImperativeHandle=function($,Y,ge){return xe.current.useImperativeHandle($,Y,ge)},ke.useInsertionEffect=function($,Y){return xe.current.useInsertionEffect($,Y)},ke.useLayoutEffect=function($,Y){return xe.current.useLayoutEffect($,Y)},ke.useMemo=function($,Y){return xe.current.useMemo($,Y)},ke.useReducer=function($,Y,ge){return xe.current.useReducer($,Y,ge)},ke.useRef=function($){return xe.current.useRef($)},ke.useState=function($){return xe.current.useState($)},ke.useSyncExternalStore=function($,Y,ge){return xe.current.useSyncExternalStore($,Y,ge)},ke.useTransition=function(){return xe.current.useTransition()},ke.version="18.3.1",ke}var Kv;function cm(){return Kv||(Kv=1,Bf.exports=Ax()),Bf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function Cx(){if(Qv)return El;Qv=1;var n=cm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var v,_={},E=null,x=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(x=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(_[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)_[v]===void 0&&(_[v]=f[v]);return{$$typeof:e,type:h,key:E,ref:x,props:_,_owner:s.current}}return El.Fragment=t,El.jsx=u,El.jsxs=u,El}var Xv;function Px(){return Xv||(Xv=1,Uf.exports=Cx()),Uf.exports}var A=Px(),M=cm(),Bc={},zf={exports:{}},un={},$f={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function Rx(){return Yv||(Yv=1,function(n){function e(ie,me){var ae=ie.length;ie.push(me);e:for(;0<ae;){var $=ae-1>>>1,Y=ie[$];if(0<s(Y,me))ie[$]=me,ie[ae]=Y,ae=$;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var me=ie[0],ae=ie.pop();if(ae!==me){ie[0]=ae;e:for(var $=0,Y=ie.length,ge=Y>>>1;$<ge;){var Ce=2*($+1)-1,Re=ie[Ce],Ve=Ce+1,je=ie[Ve];if(0>s(Re,ae))Ve<Y&&0>s(je,Re)?(ie[$]=je,ie[Ve]=ae,$=Ve):(ie[$]=Re,ie[Ce]=ae,$=Ce);else if(Ve<Y&&0>s(je,ae))ie[$]=je,ie[Ve]=ae,$=Ve;else break e}}return me}function s(ie,me){var ae=ie.sortIndex-me.sortIndex;return ae!==0?ae:ie.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],v=1,_=null,E=3,x=!1,P=!1,V=!1,N=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ie){for(var me=t(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=ie)r(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(p)}}function Q(ie){if(V=!1,B(ie),!P)if(t(f)!==null)P=!0,vt(J);else{var me=t(p);me!==null&&xe(Q,me.startTime-ie)}}function J(ie,me){P=!1,V&&(V=!1,F(S),S=-1),x=!0;var ae=E;try{for(B(me),_=t(f);_!==null&&(!(_.expirationTime>me)||ie&&!j());){var $=_.callback;if(typeof $=="function"){_.callback=null,E=_.priorityLevel;var Y=$(_.expirationTime<=me);me=n.unstable_now(),typeof Y=="function"?_.callback=Y:_===t(f)&&r(f),B(me)}else r(f);_=t(f)}if(_!==null)var ge=!0;else{var Ce=t(p);Ce!==null&&xe(Q,Ce.startTime-me),ge=!1}return ge}finally{_=null,E=ae,x=!1}}var se=!1,b=null,S=-1,C=5,D=-1;function j(){return!(n.unstable_now()-D<C)}function z(){if(b!==null){var ie=n.unstable_now();D=ie;var me=!0;try{me=b(!0,ie)}finally{me?k():(se=!1,b=null)}}else se=!1}var k;if(typeof O=="function")k=function(){O(z)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,dt=$e.port2;$e.port1.onmessage=z,k=function(){dt.postMessage(null)}}else k=function(){N(z,0)};function vt(ie){b=ie,se||(se=!0,k())}function xe(ie,me){S=N(function(){ie(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){P||x||(P=!0,vt(J))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ie){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var ae=E;E=me;try{return ie()}finally{E=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,me){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ae=E;E=ie;try{return me()}finally{E=ae}},n.unstable_scheduleCallback=function(ie,me,ae){var $=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?$+ae:$):ae=$,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ae+Y,ie={id:v++,callback:me,priorityLevel:ie,startTime:ae,expirationTime:Y,sortIndex:-1},ae>$?(ie.sortIndex=ae,e(p,ie),t(f)===null&&ie===t(p)&&(V?(F(S),S=-1):V=!0,xe(Q,ae-$))):(ie.sortIndex=Y,e(f,ie),P||x||(P=!0,vt(J))),ie},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(ie){var me=E;return function(){var ae=E;E=me;try{return ie.apply(this,arguments)}finally{E=ae}}}}(Wf)),Wf}var Jv;function kx(){return Jv||(Jv=1,$f.exports=Rx()),$f.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function bx(){if(Zv)return un;Zv=1;var n=cm(),e=kx();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function E(i){return f.call(_,i)?!0:f.call(v,i)?!1:p.test(i)?_[i]=!0:(v[i]=!0,!1)}function x(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function P(i,o,l,d){if(o===null||typeof o>"u"||x(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function V(i,o,l,d,m,y,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=T}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){N[i]=new V(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];N[o]=new V(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){N[i]=new V(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){N[i]=new V(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){N[i]=new V(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){N[i]=new V(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){N[i]=new V(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){N[i]=new V(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){N[i]=new V(i,5,!1,i.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function O(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(F,O);N[o]=new V(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(F,O);N[o]=new V(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(F,O);N[o]=new V(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){N[i]=new V(i,1,!1,i.toLowerCase(),null,!1,!1)}),N.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){N[i]=new V(i,1,!1,i.toLowerCase(),null,!0,!0)});function B(i,o,l,d){var m=N.hasOwnProperty(o)?N[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,l,m,d)&&(l=null),d||m===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,d=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),se=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),j=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),dt=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),ie=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,$;function Y(i){if($===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+i}var ge=!1;function Ce(i,o){if(!i||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var d=G}Reflect.construct(i,[],o)}else{try{o.call()}catch(G){d=G}i.call(o.prototype)}else{try{throw Error()}catch(G){d=G}i()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),y=d.stack.split(`
`),T=m.length-1,R=y.length-1;1<=T&&0<=R&&m[T]!==y[R];)R--;for(;1<=T&&0<=R;T--,R--)if(m[T]!==y[R]){if(T!==1||R!==1)do if(T--,R--,0>R||m[T]!==y[R]){var L=`
`+m[T].replace(" at new "," at ");return i.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",i.displayName)),L}while(1<=T&&0<=R);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Y(i):""}function Re(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=Ce(i.type,!1),i;case 11:return i=Ce(i.type.render,!1),i;case 1:return i=Ce(i.type,!0),i;default:return""}}function Ve(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case se:return"Portal";case C:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case $e:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case j:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case dt:return o=i.displayName||null,o!==null?o:Ve(i.type)||"Memo";case vt:o=i._payload,i=i._init;try{return Ve(i(o))}catch{}}return null}function je(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function He(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function At(i){var o=He(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,y.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Pr(i){i._valueTracker||(i._valueTracker=At(i))}function Js(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=He(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function li(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ss(i,o){var l=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Zs(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=Ue(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ca(i,o){o=o.checked,o!=null&&B(i,"checked",o,!1)}function Pa(i,o){Ca(i,o);var l=Ue(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?eo(i,o.type,l):o.hasOwnProperty("defaultValue")&&eo(i,o.type,Ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Au(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function eo(i,o,l){(o!=="number"||li(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Rr=Array.isArray;function kr(i,o,l,d){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Ue(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Ra(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function to(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Rr(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Ue(l)}}function no(i,o){var l=Ue(o.value),d=Ue(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function ka(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function _t(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?_t(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var br,ba=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(br=br||document.createElement("div"),br.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=br.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ui(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},as=["Webkit","ms","Moz","O"];Object.keys(os).forEach(function(i){as.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),os[o]=os[i]})});function Na(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||os.hasOwnProperty(i)&&os[i]?(""+o).trim():o+"px"}function Da(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=Na(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,m):i[l]=m}}var Va=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function La(i,o){if(o){if(Va[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Oa(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ls=null;function ro(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var io=null,En=null,ir=null;function so(i){if(i=ol(i)){if(typeof io!="function")throw Error(t(280));var o=i.stateNode;o&&(o=nc(o),io(i.stateNode,i.type,o))}}function sr(i){En?ir?ir.push(i):ir=[i]:En=i}function Ma(){if(En){var i=En,o=ir;if(ir=En=null,so(i),o)for(i=0;i<o.length;i++)so(o[i])}}function us(i,o){return i(o)}function Fa(){}var Nr=!1;function ja(i,o,l){if(Nr)return i(o,l);Nr=!0;try{return us(i,o,l)}finally{Nr=!1,(En!==null||ir!==null)&&(Fa(),Ma())}}function lt(i,o){var l=i.stateNode;if(l===null)return null;var d=nc(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var oo=!1;if(h)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){oo=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{oo=!1}function cs(i,o,l,d,m,y,T,R,L){var G=Array.prototype.slice.call(arguments,3);try{o.apply(l,G)}catch(te){this.onError(te)}}var hs=!1,ao=null,Fn=!1,Ua=null,fd={onError:function(i){hs=!0,ao=i}};function lo(i,o,l,d,m,y,T,R,L){hs=!1,ao=null,cs.apply(fd,arguments)}function Cu(i,o,l,d,m,y,T,R,L){if(lo.apply(this,arguments),hs){if(hs){var G=ao;hs=!1,ao=null}else throw Error(t(198));Fn||(Fn=!0,Ua=G)}}function jn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function ds(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Un(i){if(jn(i)!==i)throw Error(t(188))}function Pu(i){var o=i.alternate;if(!o){if(o=jn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,d=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return Un(m),i;if(y===d)return Un(m),o;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=y;else{for(var T=!1,R=m.child;R;){if(R===l){T=!0,l=m,d=y;break}if(R===d){T=!0,d=m,l=y;break}R=R.sibling}if(!T){for(R=y.child;R;){if(R===l){T=!0,l=y,d=m;break}if(R===d){T=!0,d=y,l=m;break}R=R.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Ba(i){return i=Pu(i),i!==null?uo(i):null}function uo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=uo(i);if(o!==null)return o;i=i.sibling}return null}var co=e.unstable_scheduleCallback,za=e.unstable_cancelCallback,Ru=e.unstable_shouldYield,pd=e.unstable_requestPaint,qe=e.unstable_now,ku=e.unstable_getCurrentPriorityLevel,fs=e.unstable_ImmediatePriority,ci=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,$a=e.unstable_LowPriority,bu=e.unstable_IdlePriority,ps=null,dn=null;function Nu(i){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(ps,i,void 0,(i.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Vu,Wa=Math.log,Du=Math.LN2;function Vu(i){return i>>>=0,i===0?32:31-(Wa(i)/Du|0)|0}var ho=64,fo=4194304;function hi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ms(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,m=i.suspendedLanes,y=i.pingedLanes,T=l&268435455;if(T!==0){var R=T&~m;R!==0?d=hi(R):(y&=T,y!==0&&(d=hi(y)))}else T=l&~m,T!==0?d=hi(T):y!==0&&(d=hi(y));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((d&4)!==0&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-Xt(o),m=1<<l,d|=i[l],o&=~m;return d}function md(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dr(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var T=31-Xt(y),R=1<<T,L=m[T];L===-1?((R&l)===0||(R&d)!==0)&&(m[T]=md(R,o)):L<=o&&(i.expiredLanes|=R),y&=~R}}function fn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function gs(){var i=ho;return ho<<=1,(ho&4194240)===0&&(ho=64),i}function di(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function fi(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Xt(o),i[o]=l}function We(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-Xt(l),y=1<<m;o[m]=0,d[m]=-1,i[m]=-1,l&=~y}}function pi(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-Xt(l),m=1<<d;m&o|i[d]&o&&(i[d]|=o),l&=~m}}var De=0;function mi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Lu,po,Ou,Mu,Fu,Ha=!1,or=[],Nt=null,Bn=null,zn=null,gi=new Map,Sn=new Map,ar=[],gd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ju(i,o){switch(i){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":gi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(o.pointerId)}}function tn(i,o,l,d,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},o!==null&&(o=ol(o),o!==null&&po(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function yd(i,o,l,d,m){switch(o){case"focusin":return Nt=tn(Nt,i,o,l,d,m),!0;case"dragenter":return Bn=tn(Bn,i,o,l,d,m),!0;case"mouseover":return zn=tn(zn,i,o,l,d,m),!0;case"pointerover":var y=m.pointerId;return gi.set(y,tn(gi.get(y)||null,i,o,l,d,m)),!0;case"gotpointercapture":return y=m.pointerId,Sn.set(y,tn(Sn.get(y)||null,i,o,l,d,m)),!0}return!1}function Uu(i){var o=Es(i.target);if(o!==null){var l=jn(o);if(l!==null){if(o=l.tag,o===13){if(o=ds(l),o!==null){i.blockedOn=o,Fu(i.priority,function(){Ou(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Vr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=mo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);ls=d,l.target.dispatchEvent(d),ls=null}else return o=ol(l),o!==null&&po(o),i.blockedOn=l,!1;o.shift()}return!0}function ys(i,o,l){Vr(i)&&l.delete(o)}function Bu(){Ha=!1,Nt!==null&&Vr(Nt)&&(Nt=null),Bn!==null&&Vr(Bn)&&(Bn=null),zn!==null&&Vr(zn)&&(zn=null),gi.forEach(ys),Sn.forEach(ys)}function $n(i,o){i.blockedOn===o&&(i.blockedOn=null,Ha||(Ha=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bu)))}function Wn(i){function o(m){return $n(m,i)}if(0<or.length){$n(or[0],i);for(var l=1;l<or.length;l++){var d=or[l];d.blockedOn===i&&(d.blockedOn=null)}}for(Nt!==null&&$n(Nt,i),Bn!==null&&$n(Bn,i),zn!==null&&$n(zn,i),gi.forEach(o),Sn.forEach(o),l=0;l<ar.length;l++)d=ar[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<ar.length&&(l=ar[0],l.blockedOn===null);)Uu(l),l.blockedOn===null&&ar.shift()}var Lr=Q.ReactCurrentBatchConfig,yi=!0;function Je(i,o,l,d){var m=De,y=Lr.transition;Lr.transition=null;try{De=1,qa(i,o,l,d)}finally{De=m,Lr.transition=y}}function vd(i,o,l,d){var m=De,y=Lr.transition;Lr.transition=null;try{De=4,qa(i,o,l,d)}finally{De=m,Lr.transition=y}}function qa(i,o,l,d){if(yi){var m=mo(i,o,l,d);if(m===null)Rd(i,o,d,vs,l),ju(i,d);else if(yd(m,i,o,l,d))d.stopPropagation();else if(ju(i,d),o&4&&-1<gd.indexOf(i)){for(;m!==null;){var y=ol(m);if(y!==null&&Lu(y),y=mo(i,o,l,d),y===null&&Rd(i,o,d,vs,l),y===m)break;m=y}m!==null&&d.stopPropagation()}else Rd(i,o,d,null,l)}}var vs=null;function mo(i,o,l,d){if(vs=null,i=ro(d),i=Es(i),i!==null)if(o=jn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=ds(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return vs=i,null}function Ga(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ku()){case fs:return 1;case ci:return 4;case Tn:case $a:return 16;case bu:return 536870912;default:return 16}default:return 16}}var pn=null,go=null,nn=null;function Ka(){if(nn)return nn;var i,o=go,l=o.length,d,m="value"in pn?pn.value:pn.textContent,y=m.length;for(i=0;i<l&&o[i]===m[i];i++);var T=l-i;for(d=1;d<=T&&o[l-d]===m[y-d];d++);return nn=m.slice(i,1<d?1-d:void 0)}function yo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function lr(){return!0}function Qa(){return!1}function Dt(i){function o(l,d,m,y,T){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(l=i[R],this[R]=l?l(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?lr:Qa,this.isPropagationStopped=Qa,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),o}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=Dt(Hn),ur=ae({},Hn,{view:0,detail:0}),_d=Dt(ur),_o,Or,vi,_s=ae({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==vi&&(vi&&i.type==="mousemove"?(_o=i.screenX-vi.screenX,Or=i.screenY-vi.screenY):Or=_o=0,vi=i),_o)},movementY:function(i){return"movementY"in i?i.movementY:Or}}),wo=Dt(_s),Xa=ae({},_s,{dataTransfer:0}),zu=Dt(Xa),Eo=ae({},ur,{relatedTarget:0}),To=Dt(Eo),$u=ae({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Mr=Dt($u),Wu=ae({},Hn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Hu=Dt(Wu),qu=ae({},Hn,{data:0}),Ya=Dt(qu),So={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Gu[i])?!!o[i]:!1}function cr(){return Ku}var c=ae({},ur,{key:function(i){if(i.key){var o=So[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=yo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Yt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(i){return i.type==="keypress"?yo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?yo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Dt(c),w=ae({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Dt(w),W=ae({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),K=Dt(W),oe=ae({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Dt(oe),Et=ae({},_s,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=Dt(Et),Ct=[9,13,27,32],ft=h&&"CompositionEvent"in window,In=null;h&&"documentMode"in document&&(In=document.documentMode);var mn=h&&"TextEvent"in window&&!In,ws=h&&(!ft||In&&8<In&&11>=In),Io=" ",Bg=!1;function zg(i,o){switch(i){case"keyup":return Ct.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $g(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var xo=!1;function S1(i,o){switch(i){case"compositionend":return $g(o);case"keypress":return o.which!==32?null:(Bg=!0,Io);case"textInput":return i=o.data,i===Io&&Bg?null:i;default:return null}}function I1(i,o){if(xo)return i==="compositionend"||!ft&&zg(i,o)?(i=Ka(),nn=go=pn=null,xo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ws&&o.locale!=="ko"?null:o.data;default:return null}}var x1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!x1[i.type]:o==="textarea"}function Hg(i,o,l,d){sr(d),o=Zu(o,"onChange"),0<o.length&&(l=new vo("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var Ja=null,Za=null;function A1(i){uy(i,0)}function Qu(i){var o=ko(i);if(Js(o))return i}function C1(i,o){if(i==="change")return o}var qg=!1;if(h){var wd;if(h){var Ed="oninput"in document;if(!Ed){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),Ed=typeof Gg.oninput=="function"}wd=Ed}else wd=!1;qg=wd&&(!document.documentMode||9<document.documentMode)}function Kg(){Ja&&(Ja.detachEvent("onpropertychange",Qg),Za=Ja=null)}function Qg(i){if(i.propertyName==="value"&&Qu(Za)){var o=[];Hg(o,Za,i,ro(i)),ja(A1,o)}}function P1(i,o,l){i==="focusin"?(Kg(),Ja=o,Za=l,Ja.attachEvent("onpropertychange",Qg)):i==="focusout"&&Kg()}function R1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Qu(Za)}function k1(i,o){if(i==="click")return Qu(o)}function b1(i,o){if(i==="input"||i==="change")return Qu(o)}function N1(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var qn=typeof Object.is=="function"?Object.is:N1;function el(i,o){if(qn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(o,m)||!qn(i[m],o[m]))return!1}return!0}function Xg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Yg(i,o){var l=Xg(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Xg(l)}}function Jg(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Jg(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Zg(){for(var i=window,o=li();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=li(i.document)}return o}function Td(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function D1(i){var o=Zg(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Jg(l.ownerDocument.documentElement,l)){if(d!==null&&Td(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!i.extend&&y>d&&(m=d,d=y,y=m),m=Yg(l,y);var T=Yg(l,d);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),y>d?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var V1=h&&"documentMode"in document&&11>=document.documentMode,Ao=null,Sd=null,tl=null,Id=!1;function ey(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Id||Ao==null||Ao!==li(d)||(d=Ao,"selectionStart"in d&&Td(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),tl&&el(tl,d)||(tl=d,d=Zu(Sd,"onSelect"),0<d.length&&(o=new vo("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=Ao)))}function Xu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Co={animationend:Xu("Animation","AnimationEnd"),animationiteration:Xu("Animation","AnimationIteration"),animationstart:Xu("Animation","AnimationStart"),transitionend:Xu("Transition","TransitionEnd")},xd={},ty={};h&&(ty=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Yu(i){if(xd[i])return xd[i];if(!Co[i])return i;var o=Co[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in ty)return xd[i]=o[l];return i}var ny=Yu("animationend"),ry=Yu("animationiteration"),iy=Yu("animationstart"),sy=Yu("transitionend"),oy=new Map,ay="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(i,o){oy.set(i,o),a(o,[i])}for(var Ad=0;Ad<ay.length;Ad++){var Cd=ay[Ad],L1=Cd.toLowerCase(),O1=Cd[0].toUpperCase()+Cd.slice(1);_i(L1,"on"+O1)}_i(ny,"onAnimationEnd"),_i(ry,"onAnimationIteration"),_i(iy,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(sy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M1=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function ly(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,Cu(d,o,void 0,i),i.currentTarget=null}function uy(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],m=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var T=d.length-1;0<=T;T--){var R=d[T],L=R.instance,G=R.currentTarget;if(R=R.listener,L!==y&&m.isPropagationStopped())break e;ly(m,R,G),y=L}else for(T=0;T<d.length;T++){if(R=d[T],L=R.instance,G=R.currentTarget,R=R.listener,L!==y&&m.isPropagationStopped())break e;ly(m,R,G),y=L}}}if(Fn)throw i=Ua,Fn=!1,Ua=null,i}function Ke(i,o){var l=o[Ld];l===void 0&&(l=o[Ld]=new Set);var d=i+"__bubble";l.has(d)||(cy(o,i,2,!1),l.add(d))}function Pd(i,o,l){var d=0;o&&(d|=4),cy(l,i,d,o)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function rl(i){if(!i[Ju]){i[Ju]=!0,r.forEach(function(l){l!=="selectionchange"&&(M1.has(l)||Pd(l,!1,i),Pd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Ju]||(o[Ju]=!0,Pd("selectionchange",!1,o))}}function cy(i,o,l,d){switch(Ga(o)){case 1:var m=Je;break;case 4:m=vd;break;default:m=qa}l=m.bind(null,o,l,i),m=void 0,!oo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function Rd(i,o,l,d,m){var y=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var R=d.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var L=T.tag;if((L===3||L===4)&&(L=T.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;T=T.return}for(;R!==null;){if(T=Es(R),T===null)return;if(L=T.tag,L===5||L===6){d=y=T;continue e}R=R.parentNode}}d=d.return}ja(function(){var G=y,te=ro(l),ne=[];e:{var Z=oy.get(i);if(Z!==void 0){var le=vo,he=i;switch(i){case"keypress":if(yo(l)===0)break e;case"keydown":case"keyup":le=g;break;case"focusin":he="focus",le=To;break;case"focusout":he="blur",le=To;break;case"beforeblur":case"afterblur":le=To;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=K;break;case ny:case ry:case iy:le=Mr;break;case sy:le=ze;break;case"scroll":le=_d;break;case"wheel":le=Le;break;case"copy":case"cut":case"paste":le=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=I}var de=(o&4)!==0,ut=!de&&i==="scroll",H=de?Z!==null?Z+"Capture":null:Z;de=[];for(var U=G,q;U!==null;){q=U;var re=q.stateNode;if(q.tag===5&&re!==null&&(q=re,H!==null&&(re=lt(U,H),re!=null&&de.push(il(U,re,q)))),ut)break;U=U.return}0<de.length&&(Z=new le(Z,he,null,l,te),ne.push({event:Z,listeners:de}))}}if((o&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",Z&&l!==ls&&(he=l.relatedTarget||l.fromElement)&&(Es(he)||he[Fr]))break e;if((le||Z)&&(Z=te.window===te?te:(Z=te.ownerDocument)?Z.defaultView||Z.parentWindow:window,le?(he=l.relatedTarget||l.toElement,le=G,he=he?Es(he):null,he!==null&&(ut=jn(he),he!==ut||he.tag!==5&&he.tag!==6)&&(he=null)):(le=null,he=G),le!==he)){if(de=wo,re="onMouseLeave",H="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(de=I,re="onPointerLeave",H="onPointerEnter",U="pointer"),ut=le==null?Z:ko(le),q=he==null?Z:ko(he),Z=new de(re,U+"leave",le,l,te),Z.target=ut,Z.relatedTarget=q,re=null,Es(te)===G&&(de=new de(H,U+"enter",he,l,te),de.target=q,de.relatedTarget=ut,re=de),ut=re,le&&he)t:{for(de=le,H=he,U=0,q=de;q;q=Po(q))U++;for(q=0,re=H;re;re=Po(re))q++;for(;0<U-q;)de=Po(de),U--;for(;0<q-U;)H=Po(H),q--;for(;U--;){if(de===H||H!==null&&de===H.alternate)break t;de=Po(de),H=Po(H)}de=null}else de=null;le!==null&&hy(ne,Z,le,de,!1),he!==null&&ut!==null&&hy(ne,ut,he,de,!0)}}e:{if(Z=G?ko(G):window,le=Z.nodeName&&Z.nodeName.toLowerCase(),le==="select"||le==="input"&&Z.type==="file")var fe=C1;else if(Wg(Z))if(qg)fe=b1;else{fe=R1;var ve=P1}else(le=Z.nodeName)&&le.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(fe=k1);if(fe&&(fe=fe(i,G))){Hg(ne,fe,l,te);break e}ve&&ve(i,Z,G),i==="focusout"&&(ve=Z._wrapperState)&&ve.controlled&&Z.type==="number"&&eo(Z,"number",Z.value)}switch(ve=G?ko(G):window,i){case"focusin":(Wg(ve)||ve.contentEditable==="true")&&(Ao=ve,Sd=G,tl=null);break;case"focusout":tl=Sd=Ao=null;break;case"mousedown":Id=!0;break;case"contextmenu":case"mouseup":case"dragend":Id=!1,ey(ne,l,te);break;case"selectionchange":if(V1)break;case"keydown":case"keyup":ey(ne,l,te)}var _e;if(ft)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else xo?zg(i,l)&&(Se="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(ws&&l.locale!=="ko"&&(xo||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&xo&&(_e=Ka()):(pn=te,go="value"in pn?pn.value:pn.textContent,xo=!0)),ve=Zu(G,Se),0<ve.length&&(Se=new Ya(Se,i,null,l,te),ne.push({event:Se,listeners:ve}),_e?Se.data=_e:(_e=$g(l),_e!==null&&(Se.data=_e)))),(_e=mn?S1(i,l):I1(i,l))&&(G=Zu(G,"onBeforeInput"),0<G.length&&(te=new Ya("onBeforeInput","beforeinput",null,l,te),ne.push({event:te,listeners:G}),te.data=_e))}uy(ne,o)})}function il(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Zu(i,o){for(var l=o+"Capture",d=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=lt(i,l),y!=null&&d.unshift(il(i,y,m)),y=lt(i,o),y!=null&&d.push(il(i,y,m))),i=i.return}return d}function Po(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function hy(i,o,l,d,m){for(var y=o._reactName,T=[];l!==null&&l!==d;){var R=l,L=R.alternate,G=R.stateNode;if(L!==null&&L===d)break;R.tag===5&&G!==null&&(R=G,m?(L=lt(l,y),L!=null&&T.unshift(il(l,L,R))):m||(L=lt(l,y),L!=null&&T.push(il(l,L,R)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var F1=/\r\n?/g,j1=/\u0000|\uFFFD/g;function dy(i){return(typeof i=="string"?i:""+i).replace(F1,`
`).replace(j1,"")}function ec(i,o,l){if(o=dy(o),dy(i)!==o&&l)throw Error(t(425))}function tc(){}var kd=null,bd=null;function Nd(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Dd=typeof setTimeout=="function"?setTimeout:void 0,U1=typeof clearTimeout=="function"?clearTimeout:void 0,fy=typeof Promise=="function"?Promise:void 0,B1=typeof queueMicrotask=="function"?queueMicrotask:typeof fy<"u"?function(i){return fy.resolve(null).then(i).catch(z1)}:Dd;function z1(i){setTimeout(function(){throw i})}function Vd(i,o){var l=o,d=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){i.removeChild(m),Wn(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);Wn(o)}function wi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function py(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),hr="__reactFiber$"+Ro,sl="__reactProps$"+Ro,Fr="__reactContainer$"+Ro,Ld="__reactEvents$"+Ro,$1="__reactListeners$"+Ro,W1="__reactHandles$"+Ro;function Es(i){var o=i[hr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Fr]||l[hr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=py(i);i!==null;){if(l=i[hr])return l;i=py(i)}return o}i=l,l=i.parentNode}return null}function ol(i){return i=i[hr]||i[Fr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ko(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function nc(i){return i[sl]||null}var Od=[],bo=-1;function Ei(i){return{current:i}}function Qe(i){0>bo||(i.current=Od[bo],Od[bo]=null,bo--)}function Ge(i,o){bo++,Od[bo]=i.current,i.current=o}var Ti={},Bt=Ei(Ti),rn=Ei(!1),Ts=Ti;function No(i,o){var l=i.type.contextTypes;if(!l)return Ti;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=o[y];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function sn(i){return i=i.childContextTypes,i!=null}function rc(){Qe(rn),Qe(Bt)}function my(i,o,l){if(Bt.current!==Ti)throw Error(t(168));Ge(Bt,o),Ge(rn,l)}function gy(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,je(i)||"Unknown",m));return ae({},l,d)}function ic(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ti,Ts=Bt.current,Ge(Bt,i),Ge(rn,rn.current),!0}function yy(i,o,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=gy(i,o,Ts),d.__reactInternalMemoizedMergedChildContext=i,Qe(rn),Qe(Bt),Ge(Bt,i)):Qe(rn),Ge(rn,l)}var jr=null,sc=!1,Md=!1;function vy(i){jr===null?jr=[i]:jr.push(i)}function H1(i){sc=!0,vy(i)}function Si(){if(!Md&&jr!==null){Md=!0;var i=0,o=De;try{var l=jr;for(De=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}jr=null,sc=!1}catch(m){throw jr!==null&&(jr=jr.slice(i+1)),co(fs,Si),m}finally{De=o,Md=!1}}return null}var Do=[],Vo=0,oc=null,ac=0,xn=[],An=0,Ss=null,Ur=1,Br="";function Is(i,o){Do[Vo++]=ac,Do[Vo++]=oc,oc=i,ac=o}function _y(i,o,l){xn[An++]=Ur,xn[An++]=Br,xn[An++]=Ss,Ss=i;var d=Ur;i=Br;var m=32-Xt(d)-1;d&=~(1<<m),l+=1;var y=32-Xt(o)+m;if(30<y){var T=m-m%5;y=(d&(1<<T)-1).toString(32),d>>=T,m-=T,Ur=1<<32-Xt(o)+m|l<<m|d,Br=y+i}else Ur=1<<y|l<<m|d,Br=i}function Fd(i){i.return!==null&&(Is(i,1),_y(i,1,0))}function jd(i){for(;i===oc;)oc=Do[--Vo],Do[Vo]=null,ac=Do[--Vo],Do[Vo]=null;for(;i===Ss;)Ss=xn[--An],xn[An]=null,Br=xn[--An],xn[An]=null,Ur=xn[--An],xn[An]=null}var gn=null,yn=null,Ze=!1,Gn=null;function wy(i,o){var l=kn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Ey(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,gn=i,yn=wi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,gn=i,yn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Ss!==null?{id:Ur,overflow:Br}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=kn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,gn=i,yn=null,!0):!1;default:return!1}}function Ud(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Bd(i){if(Ze){var o=yn;if(o){var l=o;if(!Ey(i,o)){if(Ud(i))throw Error(t(418));o=wi(l.nextSibling);var d=gn;o&&Ey(i,o)?wy(d,l):(i.flags=i.flags&-4097|2,Ze=!1,gn=i)}}else{if(Ud(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ze=!1,gn=i}}}function Ty(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;gn=i}function lc(i){if(i!==gn)return!1;if(!Ze)return Ty(i),Ze=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Nd(i.type,i.memoizedProps)),o&&(o=yn)){if(Ud(i))throw Sy(),Error(t(418));for(;o;)wy(i,o),o=wi(o.nextSibling)}if(Ty(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){yn=wi(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}yn=null}}else yn=gn?wi(i.stateNode.nextSibling):null;return!0}function Sy(){for(var i=yn;i;)i=wi(i.nextSibling)}function Lo(){yn=gn=null,Ze=!1}function zd(i){Gn===null?Gn=[i]:Gn.push(i)}var q1=Q.ReactCurrentBatchConfig;function al(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var m=d,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(T){var R=m.refs;T===null?delete R[y]:R[y]=T},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function uc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Iy(i){var o=i._init;return o(i._payload)}function xy(i){function o(H,U){if(i){var q=H.deletions;q===null?(H.deletions=[U],H.flags|=16):q.push(U)}}function l(H,U){if(!i)return null;for(;U!==null;)o(H,U),U=U.sibling;return null}function d(H,U){for(H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function m(H,U){return H=bi(H,U),H.index=0,H.sibling=null,H}function y(H,U,q){return H.index=q,i?(q=H.alternate,q!==null?(q=q.index,q<U?(H.flags|=2,U):q):(H.flags|=2,U)):(H.flags|=1048576,U)}function T(H){return i&&H.alternate===null&&(H.flags|=2),H}function R(H,U,q,re){return U===null||U.tag!==6?(U=Vf(q,H.mode,re),U.return=H,U):(U=m(U,q),U.return=H,U)}function L(H,U,q,re){var fe=q.type;return fe===b?te(H,U,q.props.children,re,q.key):U!==null&&(U.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===vt&&Iy(fe)===U.type)?(re=m(U,q.props),re.ref=al(H,U,q),re.return=H,re):(re=Dc(q.type,q.key,q.props,null,H.mode,re),re.ref=al(H,U,q),re.return=H,re)}function G(H,U,q,re){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Lf(q,H.mode,re),U.return=H,U):(U=m(U,q.children||[]),U.return=H,U)}function te(H,U,q,re,fe){return U===null||U.tag!==7?(U=Ns(q,H.mode,re,fe),U.return=H,U):(U=m(U,q),U.return=H,U)}function ne(H,U,q){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Vf(""+U,H.mode,q),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case J:return q=Dc(U.type,U.key,U.props,null,H.mode,q),q.ref=al(H,null,U),q.return=H,q;case se:return U=Lf(U,H.mode,q),U.return=H,U;case vt:var re=U._init;return ne(H,re(U._payload),q)}if(Rr(U)||me(U))return U=Ns(U,H.mode,q,null),U.return=H,U;uc(H,U)}return null}function Z(H,U,q,re){var fe=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return fe!==null?null:R(H,U,""+q,re);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case J:return q.key===fe?L(H,U,q,re):null;case se:return q.key===fe?G(H,U,q,re):null;case vt:return fe=q._init,Z(H,U,fe(q._payload),re)}if(Rr(q)||me(q))return fe!==null?null:te(H,U,q,re,null);uc(H,q)}return null}function le(H,U,q,re,fe){if(typeof re=="string"&&re!==""||typeof re=="number")return H=H.get(q)||null,R(U,H,""+re,fe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case J:return H=H.get(re.key===null?q:re.key)||null,L(U,H,re,fe);case se:return H=H.get(re.key===null?q:re.key)||null,G(U,H,re,fe);case vt:var ve=re._init;return le(H,U,q,ve(re._payload),fe)}if(Rr(re)||me(re))return H=H.get(q)||null,te(U,H,re,fe,null);uc(U,re)}return null}function he(H,U,q,re){for(var fe=null,ve=null,_e=U,Se=U=0,kt=null;_e!==null&&Se<q.length;Se++){_e.index>Se?(kt=_e,_e=null):kt=_e.sibling;var Fe=Z(H,_e,q[Se],re);if(Fe===null){_e===null&&(_e=kt);break}i&&_e&&Fe.alternate===null&&o(H,_e),U=y(Fe,U,Se),ve===null?fe=Fe:ve.sibling=Fe,ve=Fe,_e=kt}if(Se===q.length)return l(H,_e),Ze&&Is(H,Se),fe;if(_e===null){for(;Se<q.length;Se++)_e=ne(H,q[Se],re),_e!==null&&(U=y(_e,U,Se),ve===null?fe=_e:ve.sibling=_e,ve=_e);return Ze&&Is(H,Se),fe}for(_e=d(H,_e);Se<q.length;Se++)kt=le(_e,H,Se,q[Se],re),kt!==null&&(i&&kt.alternate!==null&&_e.delete(kt.key===null?Se:kt.key),U=y(kt,U,Se),ve===null?fe=kt:ve.sibling=kt,ve=kt);return i&&_e.forEach(function(Ni){return o(H,Ni)}),Ze&&Is(H,Se),fe}function de(H,U,q,re){var fe=me(q);if(typeof fe!="function")throw Error(t(150));if(q=fe.call(q),q==null)throw Error(t(151));for(var ve=fe=null,_e=U,Se=U=0,kt=null,Fe=q.next();_e!==null&&!Fe.done;Se++,Fe=q.next()){_e.index>Se?(kt=_e,_e=null):kt=_e.sibling;var Ni=Z(H,_e,Fe.value,re);if(Ni===null){_e===null&&(_e=kt);break}i&&_e&&Ni.alternate===null&&o(H,_e),U=y(Ni,U,Se),ve===null?fe=Ni:ve.sibling=Ni,ve=Ni,_e=kt}if(Fe.done)return l(H,_e),Ze&&Is(H,Se),fe;if(_e===null){for(;!Fe.done;Se++,Fe=q.next())Fe=ne(H,Fe.value,re),Fe!==null&&(U=y(Fe,U,Se),ve===null?fe=Fe:ve.sibling=Fe,ve=Fe);return Ze&&Is(H,Se),fe}for(_e=d(H,_e);!Fe.done;Se++,Fe=q.next())Fe=le(_e,H,Se,Fe.value,re),Fe!==null&&(i&&Fe.alternate!==null&&_e.delete(Fe.key===null?Se:Fe.key),U=y(Fe,U,Se),ve===null?fe=Fe:ve.sibling=Fe,ve=Fe);return i&&_e.forEach(function(xx){return o(H,xx)}),Ze&&Is(H,Se),fe}function ut(H,U,q,re){if(typeof q=="object"&&q!==null&&q.type===b&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case J:e:{for(var fe=q.key,ve=U;ve!==null;){if(ve.key===fe){if(fe=q.type,fe===b){if(ve.tag===7){l(H,ve.sibling),U=m(ve,q.props.children),U.return=H,H=U;break e}}else if(ve.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===vt&&Iy(fe)===ve.type){l(H,ve.sibling),U=m(ve,q.props),U.ref=al(H,ve,q),U.return=H,H=U;break e}l(H,ve);break}else o(H,ve);ve=ve.sibling}q.type===b?(U=Ns(q.props.children,H.mode,re,q.key),U.return=H,H=U):(re=Dc(q.type,q.key,q.props,null,H.mode,re),re.ref=al(H,U,q),re.return=H,H=re)}return T(H);case se:e:{for(ve=q.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){l(H,U.sibling),U=m(U,q.children||[]),U.return=H,H=U;break e}else{l(H,U);break}else o(H,U);U=U.sibling}U=Lf(q,H.mode,re),U.return=H,H=U}return T(H);case vt:return ve=q._init,ut(H,U,ve(q._payload),re)}if(Rr(q))return he(H,U,q,re);if(me(q))return de(H,U,q,re);uc(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,U!==null&&U.tag===6?(l(H,U.sibling),U=m(U,q),U.return=H,H=U):(l(H,U),U=Vf(q,H.mode,re),U.return=H,H=U),T(H)):l(H,U)}return ut}var Oo=xy(!0),Ay=xy(!1),cc=Ei(null),hc=null,Mo=null,$d=null;function Wd(){$d=Mo=hc=null}function Hd(i){var o=cc.current;Qe(cc),i._currentValue=o}function qd(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function Fo(i,o){hc=i,$d=Mo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(on=!0),i.firstContext=null)}function Cn(i){var o=i._currentValue;if($d!==i)if(i={context:i,memoizedValue:o,next:null},Mo===null){if(hc===null)throw Error(t(308));Mo=i,hc.dependencies={lanes:0,firstContext:i}}else Mo=Mo.next=i;return o}var xs=null;function Gd(i){xs===null?xs=[i]:xs.push(i)}function Cy(i,o,l,d){var m=o.interleaved;return m===null?(l.next=l,Gd(o)):(l.next=m.next,m.next=l),o.interleaved=l,zr(i,d)}function zr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ii=!1;function Kd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Py(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function $r(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function xi(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Me&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,zr(i,l)}return m=d.interleaved,m===null?(o.next=o,Gd(d)):(o.next=m.next,m.next=o),d.interleaved=o,zr(i,l)}function dc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,pi(i,l)}}function Ry(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function fc(i,o,l,d){var m=i.updateQueue;Ii=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var L=R,G=L.next;L.next=null,T===null?y=G:T.next=G,T=L;var te=i.alternate;te!==null&&(te=te.updateQueue,R=te.lastBaseUpdate,R!==T&&(R===null?te.firstBaseUpdate=G:R.next=G,te.lastBaseUpdate=L))}if(y!==null){var ne=m.baseState;T=0,te=G=L=null,R=y;do{var Z=R.lane,le=R.eventTime;if((d&Z)===Z){te!==null&&(te=te.next={eventTime:le,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var he=i,de=R;switch(Z=o,le=l,de.tag){case 1:if(he=de.payload,typeof he=="function"){ne=he.call(le,ne,Z);break e}ne=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,Z=typeof he=="function"?he.call(le,ne,Z):he,Z==null)break e;ne=ae({},ne,Z);break e;case 2:Ii=!0}}R.callback!==null&&R.lane!==0&&(i.flags|=64,Z=m.effects,Z===null?m.effects=[R]:Z.push(R))}else le={eventTime:le,lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},te===null?(G=te=le,L=ne):te=te.next=le,T|=Z;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);if(te===null&&(L=ne),m.baseState=L,m.firstBaseUpdate=G,m.lastBaseUpdate=te,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);Ps|=T,i.lanes=T,i.memoizedState=ne}}function ky(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var ll={},dr=Ei(ll),ul=Ei(ll),cl=Ei(ll);function As(i){if(i===ll)throw Error(t(174));return i}function Qd(i,o){switch(Ge(cl,o),Ge(ul,i),Ge(dr,ll),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:wt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=wt(o,i)}Qe(dr),Ge(dr,o)}function jo(){Qe(dr),Qe(ul),Qe(cl)}function by(i){As(cl.current);var o=As(dr.current),l=wt(o,i.type);o!==l&&(Ge(ul,i),Ge(dr,l))}function Xd(i){ul.current===i&&(Qe(dr),Qe(ul))}var nt=Ei(0);function pc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Yd=[];function Jd(){for(var i=0;i<Yd.length;i++)Yd[i]._workInProgressVersionPrimary=null;Yd.length=0}var mc=Q.ReactCurrentDispatcher,Zd=Q.ReactCurrentBatchConfig,Cs=0,rt=null,Tt=null,Pt=null,gc=!1,hl=!1,dl=0,G1=0;function zt(){throw Error(t(321))}function ef(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!qn(i[l],o[l]))return!1;return!0}function tf(i,o,l,d,m,y){if(Cs=y,rt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,mc.current=i===null||i.memoizedState===null?Y1:J1,i=l(d,m),hl){y=0;do{if(hl=!1,dl=0,25<=y)throw Error(t(301));y+=1,Pt=Tt=null,o.updateQueue=null,mc.current=Z1,i=l(d,m)}while(hl)}if(mc.current=_c,o=Tt!==null&&Tt.next!==null,Cs=0,Pt=Tt=rt=null,gc=!1,o)throw Error(t(300));return i}function nf(){var i=dl!==0;return dl=0,i}function fr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?rt.memoizedState=Pt=i:Pt=Pt.next=i,Pt}function Pn(){if(Tt===null){var i=rt.alternate;i=i!==null?i.memoizedState:null}else i=Tt.next;var o=Pt===null?rt.memoizedState:Pt.next;if(o!==null)Pt=o,Tt=i;else{if(i===null)throw Error(t(310));Tt=i,i={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Pt===null?rt.memoizedState=Pt=i:Pt=Pt.next=i}return Pt}function fl(i,o){return typeof o=="function"?o(i):o}function rf(i){var o=Pn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=Tt,m=d.baseQueue,y=l.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}d.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,d=d.baseState;var R=T=null,L=null,G=y;do{var te=G.lane;if((Cs&te)===te)L!==null&&(L=L.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:i(d,G.action);else{var ne={lane:te,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};L===null?(R=L=ne,T=d):L=L.next=ne,rt.lanes|=te,Ps|=te}G=G.next}while(G!==null&&G!==y);L===null?T=d:L.next=R,qn(d,o.memoizedState)||(on=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=L,l.lastRenderedState=d}if(i=l.interleaved,i!==null){m=i;do y=m.lane,rt.lanes|=y,Ps|=y,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function sf(i){var o=Pn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do y=i(y,T.action),T=T.next;while(T!==m);qn(y,o.memoizedState)||(on=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,d]}function Ny(){}function Dy(i,o){var l=rt,d=Pn(),m=o(),y=!qn(d.memoizedState,m);if(y&&(d.memoizedState=m,on=!0),d=d.queue,of(Oy.bind(null,l,d,i),[i]),d.getSnapshot!==o||y||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,pl(9,Ly.bind(null,l,d,m,o),void 0,null),Rt===null)throw Error(t(349));(Cs&30)!==0||Vy(l,o,m)}return m}function Vy(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=rt.updateQueue,o===null?(o={lastEffect:null,stores:null},rt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Ly(i,o,l,d){o.value=l,o.getSnapshot=d,My(o)&&Fy(i)}function Oy(i,o,l){return l(function(){My(o)&&Fy(i)})}function My(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!qn(i,l)}catch{return!0}}function Fy(i){var o=zr(i,1);o!==null&&Yn(o,i,1,-1)}function jy(i){var o=fr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:i},o.queue=i,i=i.dispatch=X1.bind(null,rt,i),[o.memoizedState,i]}function pl(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=rt.updateQueue,o===null?(o={lastEffect:null,stores:null},rt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function Uy(){return Pn().memoizedState}function yc(i,o,l,d){var m=fr();rt.flags|=i,m.memoizedState=pl(1|o,l,void 0,d===void 0?null:d)}function vc(i,o,l,d){var m=Pn();d=d===void 0?null:d;var y=void 0;if(Tt!==null){var T=Tt.memoizedState;if(y=T.destroy,d!==null&&ef(d,T.deps)){m.memoizedState=pl(o,l,y,d);return}}rt.flags|=i,m.memoizedState=pl(1|o,l,y,d)}function By(i,o){return yc(8390656,8,i,o)}function of(i,o){return vc(2048,8,i,o)}function zy(i,o){return vc(4,2,i,o)}function $y(i,o){return vc(4,4,i,o)}function Wy(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Hy(i,o,l){return l=l!=null?l.concat([i]):null,vc(4,4,Wy.bind(null,o,i),l)}function af(){}function qy(i,o){var l=Pn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&ef(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function Gy(i,o){var l=Pn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&ef(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function Ky(i,o,l){return(Cs&21)===0?(i.baseState&&(i.baseState=!1,on=!0),i.memoizedState=l):(qn(l,o)||(l=gs(),rt.lanes|=l,Ps|=l,i.baseState=!0),o)}function K1(i,o){var l=De;De=l!==0&&4>l?l:4,i(!0);var d=Zd.transition;Zd.transition={};try{i(!1),o()}finally{De=l,Zd.transition=d}}function Qy(){return Pn().memoizedState}function Q1(i,o,l){var d=Ri(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Xy(i))Yy(o,l);else if(l=Cy(i,o,l,d),l!==null){var m=Zt();Yn(l,i,d,m),Jy(l,o,d)}}function X1(i,o,l){var d=Ri(i),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xy(i))Yy(o,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,R=y(T,l);if(m.hasEagerState=!0,m.eagerState=R,qn(R,T)){var L=o.interleaved;L===null?(m.next=m,Gd(o)):(m.next=L.next,L.next=m),o.interleaved=m;return}}catch{}finally{}l=Cy(i,o,m,d),l!==null&&(m=Zt(),Yn(l,i,d,m),Jy(l,o,d))}}function Xy(i){var o=i.alternate;return i===rt||o!==null&&o===rt}function Yy(i,o){hl=gc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Jy(i,o,l){if((l&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,pi(i,l)}}var _c={readContext:Cn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},Y1={readContext:Cn,useCallback:function(i,o){return fr().memoizedState=[i,o===void 0?null:o],i},useContext:Cn,useEffect:By,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,yc(4194308,4,Wy.bind(null,o,i),l)},useLayoutEffect:function(i,o){return yc(4194308,4,i,o)},useInsertionEffect:function(i,o){return yc(4,2,i,o)},useMemo:function(i,o){var l=fr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=fr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=Q1.bind(null,rt,i),[d.memoizedState,i]},useRef:function(i){var o=fr();return i={current:i},o.memoizedState=i},useState:jy,useDebugValue:af,useDeferredValue:function(i){return fr().memoizedState=i},useTransition:function(){var i=jy(!1),o=i[0];return i=K1.bind(null,i[1]),fr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=rt,m=fr();if(Ze){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Rt===null)throw Error(t(349));(Cs&30)!==0||Vy(d,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,By(Oy.bind(null,d,y,i),[i]),d.flags|=2048,pl(9,Ly.bind(null,d,y,l,o),void 0,null),l},useId:function(){var i=fr(),o=Rt.identifierPrefix;if(Ze){var l=Br,d=Ur;l=(d&~(1<<32-Xt(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=dl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=G1++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},J1={readContext:Cn,useCallback:qy,useContext:Cn,useEffect:of,useImperativeHandle:Hy,useInsertionEffect:zy,useLayoutEffect:$y,useMemo:Gy,useReducer:rf,useRef:Uy,useState:function(){return rf(fl)},useDebugValue:af,useDeferredValue:function(i){var o=Pn();return Ky(o,Tt.memoizedState,i)},useTransition:function(){var i=rf(fl)[0],o=Pn().memoizedState;return[i,o]},useMutableSource:Ny,useSyncExternalStore:Dy,useId:Qy,unstable_isNewReconciler:!1},Z1={readContext:Cn,useCallback:qy,useContext:Cn,useEffect:of,useImperativeHandle:Hy,useInsertionEffect:zy,useLayoutEffect:$y,useMemo:Gy,useReducer:sf,useRef:Uy,useState:function(){return sf(fl)},useDebugValue:af,useDeferredValue:function(i){var o=Pn();return Tt===null?o.memoizedState=i:Ky(o,Tt.memoizedState,i)},useTransition:function(){var i=sf(fl)[0],o=Pn().memoizedState;return[i,o]},useMutableSource:Ny,useSyncExternalStore:Dy,useId:Qy,unstable_isNewReconciler:!1};function Kn(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function lf(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:ae({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var wc={isMounted:function(i){return(i=i._reactInternals)?jn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=Zt(),m=Ri(i),y=$r(d,m);y.payload=o,l!=null&&(y.callback=l),o=xi(i,y,m),o!==null&&(Yn(o,i,m,d),dc(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=Zt(),m=Ri(i),y=$r(d,m);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=xi(i,y,m),o!==null&&(Yn(o,i,m,d),dc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Zt(),d=Ri(i),m=$r(l,d);m.tag=2,o!=null&&(m.callback=o),o=xi(i,m,d),o!==null&&(Yn(o,i,d,l),dc(o,i,d))}};function Zy(i,o,l,d,m,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,T):o.prototype&&o.prototype.isPureReactComponent?!el(l,d)||!el(m,y):!0}function ev(i,o,l){var d=!1,m=Ti,y=o.contextType;return typeof y=="object"&&y!==null?y=Cn(y):(m=sn(o)?Ts:Bt.current,d=o.contextTypes,y=(d=d!=null)?No(i,m):Ti),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=wc,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),o}function tv(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&wc.enqueueReplaceState(o,o.state,null)}function uf(i,o,l,d){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Kd(i);var y=o.contextType;typeof y=="object"&&y!==null?m.context=Cn(y):(y=sn(o)?Ts:Bt.current,m.context=No(i,y)),m.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(lf(i,o,y,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&wc.enqueueReplaceState(m,m.state,null),fc(i,l,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Uo(i,o){try{var l="",d=o;do l+=Re(d),d=d.return;while(d);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:m,digest:null}}function cf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function hf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var ex=typeof WeakMap=="function"?WeakMap:Map;function nv(i,o,l){l=$r(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){Cc||(Cc=!0,Af=d),hf(i,o)},l}function rv(i,o,l){l=$r(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;l.payload=function(){return d(m)},l.callback=function(){hf(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){hf(i,o),typeof d!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function iv(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new ex;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(m.add(l),i=px.bind(null,i,o,l),o.then(i,i))}function sv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function ov(i,o,l,d,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=$r(-1,1),o.tag=2,xi(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var tx=Q.ReactCurrentOwner,on=!1;function Jt(i,o,l,d){o.child=i===null?Ay(o,null,l,d):Oo(o,i.child,l,d)}function av(i,o,l,d,m){l=l.render;var y=o.ref;return Fo(o,m),d=tf(i,o,l,d,y,m),l=nf(),i!==null&&!on?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Wr(i,o,m)):(Ze&&l&&Fd(o),o.flags|=1,Jt(i,o,d,m),o.child)}function lv(i,o,l,d,m){if(i===null){var y=l.type;return typeof y=="function"&&!Df(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,uv(i,o,y,d,m)):(i=Dc(l.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&m)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:el,l(T,d)&&i.ref===o.ref)return Wr(i,o,m)}return o.flags|=1,i=bi(y,d),i.ref=o.ref,i.return=o,o.child=i}function uv(i,o,l,d,m){if(i!==null){var y=i.memoizedProps;if(el(y,d)&&i.ref===o.ref)if(on=!1,o.pendingProps=d=y,(i.lanes&m)!==0)(i.flags&131072)!==0&&(on=!0);else return o.lanes=i.lanes,Wr(i,o,m)}return df(i,o,l,d,m)}function cv(i,o,l){var d=o.pendingProps,m=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(zo,vn),vn|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ge(zo,vn),vn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,Ge(zo,vn),vn|=d}else y!==null?(d=y.baseLanes|l,o.memoizedState=null):d=l,Ge(zo,vn),vn|=d;return Jt(i,o,m,l),o.child}function hv(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function df(i,o,l,d,m){var y=sn(l)?Ts:Bt.current;return y=No(o,y),Fo(o,m),l=tf(i,o,l,d,y,m),d=nf(),i!==null&&!on?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Wr(i,o,m)):(Ze&&d&&Fd(o),o.flags|=1,Jt(i,o,l,m),o.child)}function dv(i,o,l,d,m){if(sn(l)){var y=!0;ic(o)}else y=!1;if(Fo(o,m),o.stateNode===null)Tc(i,o),ev(o,l,d),uf(o,l,d,m),d=!0;else if(i===null){var T=o.stateNode,R=o.memoizedProps;T.props=R;var L=T.context,G=l.contextType;typeof G=="object"&&G!==null?G=Cn(G):(G=sn(l)?Ts:Bt.current,G=No(o,G));var te=l.getDerivedStateFromProps,ne=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function";ne||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==d||L!==G)&&tv(o,T,d,G),Ii=!1;var Z=o.memoizedState;T.state=Z,fc(o,d,T,m),L=o.memoizedState,R!==d||Z!==L||rn.current||Ii?(typeof te=="function"&&(lf(o,l,te,d),L=o.memoizedState),(R=Ii||Zy(o,l,R,d,Z,L,G))?(ne||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=L),T.props=d,T.state=L,T.context=G,d=R):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,Py(i,o),R=o.memoizedProps,G=o.type===o.elementType?R:Kn(o.type,R),T.props=G,ne=o.pendingProps,Z=T.context,L=l.contextType,typeof L=="object"&&L!==null?L=Cn(L):(L=sn(l)?Ts:Bt.current,L=No(o,L));var le=l.getDerivedStateFromProps;(te=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==ne||Z!==L)&&tv(o,T,d,L),Ii=!1,Z=o.memoizedState,T.state=Z,fc(o,d,T,m);var he=o.memoizedState;R!==ne||Z!==he||rn.current||Ii?(typeof le=="function"&&(lf(o,l,le,d),he=o.memoizedState),(G=Ii||Zy(o,l,G,d,Z,he,L)||!1)?(te||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,he,L),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,he,L)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=he),T.props=d,T.state=he,T.context=L,d=G):(typeof T.componentDidUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),d=!1)}return ff(i,o,l,d,y,m)}function ff(i,o,l,d,m,y){hv(i,o);var T=(o.flags&128)!==0;if(!d&&!T)return m&&yy(o,l,!1),Wr(i,o,y);d=o.stateNode,tx.current=o;var R=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&T?(o.child=Oo(o,i.child,null,y),o.child=Oo(o,null,R,y)):Jt(i,o,R,y),o.memoizedState=d.state,m&&yy(o,l,!0),o.child}function fv(i){var o=i.stateNode;o.pendingContext?my(i,o.pendingContext,o.pendingContext!==o.context):o.context&&my(i,o.context,!1),Qd(i,o.containerInfo)}function pv(i,o,l,d,m){return Lo(),zd(m),o.flags|=256,Jt(i,o,l,d),o.child}var pf={dehydrated:null,treeContext:null,retryLane:0};function mf(i){return{baseLanes:i,cachePool:null,transitions:null}}function mv(i,o,l){var d=o.pendingProps,m=nt.current,y=!1,T=(o.flags&128)!==0,R;if((R=T)||(R=i!==null&&i.memoizedState===null?!1:(m&2)!==0),R?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ge(nt,m&1),i===null)return Bd(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=d.children,i=d.fallback,y?(d=o.mode,y=o.child,T={mode:"hidden",children:T},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Vc(T,d,0,null),i=Ns(i,d,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=mf(l),o.memoizedState=pf,i):gf(o,T));if(m=i.memoizedState,m!==null&&(R=m.dehydrated,R!==null))return nx(i,o,T,d,R,m,l);if(y){y=d.fallback,T=o.mode,m=i.child,R=m.sibling;var L={mode:"hidden",children:d.children};return(T&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=L,o.deletions=null):(d=bi(m,L),d.subtreeFlags=m.subtreeFlags&14680064),R!==null?y=bi(R,y):(y=Ns(y,T,l,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,T=i.child.memoizedState,T=T===null?mf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=i.childLanes&~l,o.memoizedState=pf,d}return y=i.child,i=y.sibling,d=bi(y,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function gf(i,o){return o=Vc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Ec(i,o,l,d){return d!==null&&zd(d),Oo(o,i.child,null,l),i=gf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function nx(i,o,l,d,m,y,T){if(l)return o.flags&256?(o.flags&=-257,d=cf(Error(t(422))),Ec(i,o,T,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=d.fallback,m=o.mode,d=Vc({mode:"visible",children:d.children},m,0,null),y=Ns(y,m,T,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,(o.mode&1)!==0&&Oo(o,i.child,null,T),o.child.memoizedState=mf(T),o.memoizedState=pf,y);if((o.mode&1)===0)return Ec(i,o,T,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var R=d.dgst;return d=R,y=Error(t(419)),d=cf(y,d,void 0),Ec(i,o,T,d)}if(R=(T&i.childLanes)!==0,on||R){if(d=Rt,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|T))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,zr(i,m),Yn(d,i,m,-1))}return Nf(),d=cf(Error(t(421))),Ec(i,o,T,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=mx.bind(null,i),m._reactRetry=o,null):(i=y.treeContext,yn=wi(m.nextSibling),gn=o,Ze=!0,Gn=null,i!==null&&(xn[An++]=Ur,xn[An++]=Br,xn[An++]=Ss,Ur=i.id,Br=i.overflow,Ss=o),o=gf(o,d.children),o.flags|=4096,o)}function gv(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),qd(i.return,o,l)}function yf(i,o,l,d,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=m)}function yv(i,o,l){var d=o.pendingProps,m=d.revealOrder,y=d.tail;if(Jt(i,o,d.children,l),d=nt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gv(i,l,o);else if(i.tag===19)gv(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Ge(nt,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&pc(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),yf(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&pc(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}yf(o,!0,l,null,y);break;case"together":yf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Tc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Wr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Ps|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=bi(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=bi(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function rx(i,o,l){switch(o.tag){case 3:fv(o),Lo();break;case 5:by(o);break;case 1:sn(o.type)&&ic(o);break;case 4:Qd(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;Ge(cc,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Ge(nt,nt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?mv(i,o,l):(Ge(nt,nt.current&1),i=Wr(i,o,l),i!==null?i.sibling:null);Ge(nt,nt.current&1);break;case 19:if(d=(l&o.childLanes)!==0,(i.flags&128)!==0){if(d)return yv(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ge(nt,nt.current),d)break;return null;case 22:case 23:return o.lanes=0,cv(i,o,l)}return Wr(i,o,l)}var vv,vf,_v,wv;vv=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},vf=function(){},_v=function(i,o,l,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,As(dr.current);var y=null;switch(l){case"input":m=ss(i,m),d=ss(i,d),y=[];break;case"select":m=ae({},m,{value:void 0}),d=ae({},d,{value:void 0}),y=[];break;case"textarea":m=Ra(i,m),d=Ra(i,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=tc)}La(l,d);var T;l=null;for(G in m)if(!d.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var R=m[G];for(T in R)R.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(s.hasOwnProperty(G)?y||(y=[]):(y=y||[]).push(G,null));for(G in d){var L=d[G];if(R=m!=null?m[G]:void 0,d.hasOwnProperty(G)&&L!==R&&(L!=null||R!=null))if(G==="style")if(R){for(T in R)!R.hasOwnProperty(T)||L&&L.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in L)L.hasOwnProperty(T)&&R[T]!==L[T]&&(l||(l={}),l[T]=L[T])}else l||(y||(y=[]),y.push(G,l)),l=L;else G==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,R=R?R.__html:void 0,L!=null&&R!==L&&(y=y||[]).push(G,L)):G==="children"?typeof L!="string"&&typeof L!="number"||(y=y||[]).push(G,""+L):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(s.hasOwnProperty(G)?(L!=null&&G==="onScroll"&&Ke("scroll",i),y||R===L||(y=[])):(y=y||[]).push(G,L))}l&&(y=y||[]).push("style",l);var G=y;(o.updateQueue=G)&&(o.flags|=4)}},wv=function(i,o,l,d){l!==d&&(o.flags|=4)};function ml(i,o){if(!Ze)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function $t(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function ix(i,o,l){var d=o.pendingProps;switch(jd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(o),null;case 1:return sn(o.type)&&rc(),$t(o),null;case 3:return d=o.stateNode,jo(),Qe(rn),Qe(Bt),Jd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(lc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Gn!==null&&(Rf(Gn),Gn=null))),vf(i,o),$t(o),null;case 5:Xd(o);var m=As(cl.current);if(l=o.type,i!==null&&o.stateNode!=null)_v(i,o,l,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return $t(o),null}if(i=As(dr.current),lc(o)){d=o.stateNode,l=o.type;var y=o.memoizedProps;switch(d[hr]=o,d[sl]=y,i=(o.mode&1)!==0,l){case"dialog":Ke("cancel",d),Ke("close",d);break;case"iframe":case"object":case"embed":Ke("load",d);break;case"video":case"audio":for(m=0;m<nl.length;m++)Ke(nl[m],d);break;case"source":Ke("error",d);break;case"img":case"image":case"link":Ke("error",d),Ke("load",d);break;case"details":Ke("toggle",d);break;case"input":Zs(d,y),Ke("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Ke("invalid",d);break;case"textarea":to(d,y),Ke("invalid",d)}La(l,y),m=null;for(var T in y)if(y.hasOwnProperty(T)){var R=y[T];T==="children"?typeof R=="string"?d.textContent!==R&&(y.suppressHydrationWarning!==!0&&ec(d.textContent,R,i),m=["children",R]):typeof R=="number"&&d.textContent!==""+R&&(y.suppressHydrationWarning!==!0&&ec(d.textContent,R,i),m=["children",""+R]):s.hasOwnProperty(T)&&R!=null&&T==="onScroll"&&Ke("scroll",d)}switch(l){case"input":Pr(d),Au(d,y,!0);break;case"textarea":Pr(d),ka(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=tc)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=_t(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=T.createElement(l,{is:d.is}):(i=T.createElement(l),l==="select"&&(T=i,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):i=T.createElementNS(i,l),i[hr]=o,i[sl]=d,vv(i,o,!1,!1),o.stateNode=i;e:{switch(T=Oa(l,d),l){case"dialog":Ke("cancel",i),Ke("close",i),m=d;break;case"iframe":case"object":case"embed":Ke("load",i),m=d;break;case"video":case"audio":for(m=0;m<nl.length;m++)Ke(nl[m],i);m=d;break;case"source":Ke("error",i),m=d;break;case"img":case"image":case"link":Ke("error",i),Ke("load",i),m=d;break;case"details":Ke("toggle",i),m=d;break;case"input":Zs(i,d),m=ss(i,d),Ke("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=ae({},d,{value:void 0}),Ke("invalid",i);break;case"textarea":to(i,d),m=Ra(i,d),Ke("invalid",i);break;default:m=d}La(l,m),R=m;for(y in R)if(R.hasOwnProperty(y)){var L=R[y];y==="style"?Da(i,L):y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&ba(i,L)):y==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&ui(i,L):typeof L=="number"&&ui(i,""+L):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?L!=null&&y==="onScroll"&&Ke("scroll",i):L!=null&&B(i,y,L,T))}switch(l){case"input":Pr(i),Au(i,d,!1);break;case"textarea":Pr(i),ka(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Ue(d.value));break;case"select":i.multiple=!!d.multiple,y=d.value,y!=null?kr(i,!!d.multiple,y,!1):d.defaultValue!=null&&kr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=tc)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return $t(o),null;case 6:if(i&&o.stateNode!=null)wv(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=As(cl.current),As(dr.current),lc(o)){if(d=o.stateNode,l=o.memoizedProps,d[hr]=o,(y=d.nodeValue!==l)&&(i=gn,i!==null))switch(i.tag){case 3:ec(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ec(d.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[hr]=o,o.stateNode=d}return $t(o),null;case 13:if(Qe(nt),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ze&&yn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Sy(),Lo(),o.flags|=98560,y=!1;else if(y=lc(o),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[hr]=o}else Lo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;$t(o),y=!1}else Gn!==null&&(Rf(Gn),Gn=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(nt.current&1)!==0?St===0&&(St=3):Nf())),o.updateQueue!==null&&(o.flags|=4),$t(o),null);case 4:return jo(),vf(i,o),i===null&&rl(o.stateNode.containerInfo),$t(o),null;case 10:return Hd(o.type._context),$t(o),null;case 17:return sn(o.type)&&rc(),$t(o),null;case 19:if(Qe(nt),y=o.memoizedState,y===null)return $t(o),null;if(d=(o.flags&128)!==0,T=y.rendering,T===null)if(d)ml(y,!1);else{if(St!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=pc(i),T!==null){for(o.flags|=128,ml(y,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)y=l,i=d,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,i=T.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ge(nt,nt.current&1|2),o.child}i=i.sibling}y.tail!==null&&qe()>$o&&(o.flags|=128,d=!0,ml(y,!1),o.lanes=4194304)}else{if(!d)if(i=pc(T),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),ml(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Ze)return $t(o),null}else 2*qe()-y.renderingStartTime>$o&&l!==1073741824&&(o.flags|=128,d=!0,ml(y,!1),o.lanes=4194304);y.isBackwards?(T.sibling=o.child,o.child=T):(l=y.last,l!==null?l.sibling=T:o.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=qe(),o.sibling=null,l=nt.current,Ge(nt,d?l&1|2:l&1),o):($t(o),null);case 22:case 23:return bf(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(vn&1073741824)!==0&&($t(o),o.subtreeFlags&6&&(o.flags|=8192)):$t(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function sx(i,o){switch(jd(o),o.tag){case 1:return sn(o.type)&&rc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return jo(),Qe(rn),Qe(Bt),Jd(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Xd(o),null;case 13:if(Qe(nt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Lo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Qe(nt),null;case 4:return jo(),null;case 10:return Hd(o.type._context),null;case 22:case 23:return bf(),null;case 24:return null;default:return null}}var Sc=!1,Wt=!1,ox=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Bo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ot(i,o,d)}else l.current=null}function _f(i,o,l){try{l()}catch(d){ot(i,o,d)}}var Ev=!1;function ax(i,o){if(kd=yi,i=Zg(),Td(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,R=-1,L=-1,G=0,te=0,ne=i,Z=null;t:for(;;){for(var le;ne!==l||m!==0&&ne.nodeType!==3||(R=T+m),ne!==y||d!==0&&ne.nodeType!==3||(L=T+d),ne.nodeType===3&&(T+=ne.nodeValue.length),(le=ne.firstChild)!==null;)Z=ne,ne=le;for(;;){if(ne===i)break t;if(Z===l&&++G===m&&(R=T),Z===y&&++te===d&&(L=T),(le=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=le}l=R===-1||L===-1?null:{start:R,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(bd={focusedElem:i,selectionRange:l},yi=!1,ce=o;ce!==null;)if(o=ce,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ce=i;else for(;ce!==null;){o=ce;try{var he=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,ut=he.memoizedState,H=o.stateNode,U=H.getSnapshotBeforeUpdate(o.elementType===o.type?de:Kn(o.type,de),ut);H.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){ot(o,o.return,re)}if(i=o.sibling,i!==null){i.return=o.return,ce=i;break}ce=o.return}return he=Ev,Ev=!1,he}function gl(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&_f(o,l,y)}m=m.next}while(m!==d)}}function Ic(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function wf(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Tv(i){var o=i.alternate;o!==null&&(i.alternate=null,Tv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[hr],delete o[sl],delete o[Ld],delete o[$1],delete o[W1])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Sv(i){return i.tag===5||i.tag===3||i.tag===4}function Iv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Sv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ef(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=tc));else if(d!==4&&(i=i.child,i!==null))for(Ef(i,o,l),i=i.sibling;i!==null;)Ef(i,o,l),i=i.sibling}function Tf(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Tf(i,o,l),i=i.sibling;i!==null;)Tf(i,o,l),i=i.sibling}var Vt=null,Qn=!1;function Ai(i,o,l){for(l=l.child;l!==null;)xv(i,o,l),l=l.sibling}function xv(i,o,l){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(ps,l)}catch{}switch(l.tag){case 5:Wt||Bo(l,o);case 6:var d=Vt,m=Qn;Vt=null,Ai(i,o,l),Vt=d,Qn=m,Vt!==null&&(Qn?(i=Vt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Vt.removeChild(l.stateNode));break;case 18:Vt!==null&&(Qn?(i=Vt,l=l.stateNode,i.nodeType===8?Vd(i.parentNode,l):i.nodeType===1&&Vd(i,l),Wn(i)):Vd(Vt,l.stateNode));break;case 4:d=Vt,m=Qn,Vt=l.stateNode.containerInfo,Qn=!0,Ai(i,o,l),Vt=d,Qn=m;break;case 0:case 11:case 14:case 15:if(!Wt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&_f(l,o,T),m=m.next}while(m!==d)}Ai(i,o,l);break;case 1:if(!Wt&&(Bo(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(R){ot(l,o,R)}Ai(i,o,l);break;case 21:Ai(i,o,l);break;case 22:l.mode&1?(Wt=(d=Wt)||l.memoizedState!==null,Ai(i,o,l),Wt=d):Ai(i,o,l);break;default:Ai(i,o,l)}}function Av(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new ox),o.forEach(function(d){var m=gx.bind(null,i,d);l.has(d)||(l.add(d),d.then(m,m))})}}function Xn(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var y=i,T=o,R=T;e:for(;R!==null;){switch(R.tag){case 5:Vt=R.stateNode,Qn=!1;break e;case 3:Vt=R.stateNode.containerInfo,Qn=!0;break e;case 4:Vt=R.stateNode.containerInfo,Qn=!0;break e}R=R.return}if(Vt===null)throw Error(t(160));xv(y,T,m),Vt=null,Qn=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(G){ot(m,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Cv(o,i),o=o.sibling}function Cv(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Xn(o,i),pr(i),d&4){try{gl(3,i,i.return),Ic(3,i)}catch(de){ot(i,i.return,de)}try{gl(5,i,i.return)}catch(de){ot(i,i.return,de)}}break;case 1:Xn(o,i),pr(i),d&512&&l!==null&&Bo(l,l.return);break;case 5:if(Xn(o,i),pr(i),d&512&&l!==null&&Bo(l,l.return),i.flags&32){var m=i.stateNode;try{ui(m,"")}catch(de){ot(i,i.return,de)}}if(d&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,T=l!==null?l.memoizedProps:y,R=i.type,L=i.updateQueue;if(i.updateQueue=null,L!==null)try{R==="input"&&y.type==="radio"&&y.name!=null&&Ca(m,y),Oa(R,T);var G=Oa(R,y);for(T=0;T<L.length;T+=2){var te=L[T],ne=L[T+1];te==="style"?Da(m,ne):te==="dangerouslySetInnerHTML"?ba(m,ne):te==="children"?ui(m,ne):B(m,te,ne,G)}switch(R){case"input":Pa(m,y);break;case"textarea":no(m,y);break;case"select":var Z=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var le=y.value;le!=null?kr(m,!!y.multiple,le,!1):Z!==!!y.multiple&&(y.defaultValue!=null?kr(m,!!y.multiple,y.defaultValue,!0):kr(m,!!y.multiple,y.multiple?[]:"",!1))}m[sl]=y}catch(de){ot(i,i.return,de)}}break;case 6:if(Xn(o,i),pr(i),d&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(de){ot(i,i.return,de)}}break;case 3:if(Xn(o,i),pr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Wn(o.containerInfo)}catch(de){ot(i,i.return,de)}break;case 4:Xn(o,i),pr(i);break;case 13:Xn(o,i),pr(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(xf=qe())),d&4&&Av(i);break;case 22:if(te=l!==null&&l.memoizedState!==null,i.mode&1?(Wt=(G=Wt)||te,Xn(o,i),Wt=G):Xn(o,i),pr(i),d&8192){if(G=i.memoizedState!==null,(i.stateNode.isHidden=G)&&!te&&(i.mode&1)!==0)for(ce=i,te=i.child;te!==null;){for(ne=ce=te;ce!==null;){switch(Z=ce,le=Z.child,Z.tag){case 0:case 11:case 14:case 15:gl(4,Z,Z.return);break;case 1:Bo(Z,Z.return);var he=Z.stateNode;if(typeof he.componentWillUnmount=="function"){d=Z,l=Z.return;try{o=d,he.props=o.memoizedProps,he.state=o.memoizedState,he.componentWillUnmount()}catch(de){ot(d,l,de)}}break;case 5:Bo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){kv(ne);continue}}le!==null?(le.return=Z,ce=le):kv(ne)}te=te.sibling}e:for(te=null,ne=i;;){if(ne.tag===5){if(te===null){te=ne;try{m=ne.stateNode,G?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(R=ne.stateNode,L=ne.memoizedProps.style,T=L!=null&&L.hasOwnProperty("display")?L.display:null,R.style.display=Na("display",T))}catch(de){ot(i,i.return,de)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=G?"":ne.memoizedProps}catch(de){ot(i,i.return,de)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===i)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===i)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===i)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Xn(o,i),pr(i),d&4&&Av(i);break;case 21:break;default:Xn(o,i),pr(i)}}function pr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Sv(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(ui(m,""),d.flags&=-33);var y=Iv(i);Tf(i,y,m);break;case 3:case 4:var T=d.stateNode.containerInfo,R=Iv(i);Ef(i,R,T);break;default:throw Error(t(161))}}catch(L){ot(i,i.return,L)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function lx(i,o,l){ce=i,Pv(i)}function Pv(i,o,l){for(var d=(i.mode&1)!==0;ce!==null;){var m=ce,y=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||Sc;if(!T){var R=m.alternate,L=R!==null&&R.memoizedState!==null||Wt;R=Sc;var G=Wt;if(Sc=T,(Wt=L)&&!G)for(ce=m;ce!==null;)T=ce,L=T.child,T.tag===22&&T.memoizedState!==null?bv(m):L!==null?(L.return=T,ce=L):bv(m);for(;y!==null;)ce=y,Pv(y),y=y.sibling;ce=m,Sc=R,Wt=G}Rv(i)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,ce=y):Rv(i)}}function Rv(i){for(;ce!==null;){var o=ce;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Wt||Ic(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Wt)if(l===null)d.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Kn(o.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&ky(o,y,d);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}ky(o,T,l)}break;case 5:var R=o.stateNode;if(l===null&&o.flags&4){l=R;var L=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var te=G.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&Wn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||o.flags&512&&wf(o)}catch(Z){ot(o,o.return,Z)}}if(o===i){ce=null;break}if(l=o.sibling,l!==null){l.return=o.return,ce=l;break}ce=o.return}}function kv(i){for(;ce!==null;){var o=ce;if(o===i){ce=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ce=l;break}ce=o.return}}function bv(i){for(;ce!==null;){var o=ce;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Ic(4,o)}catch(L){ot(o,l,L)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(L){ot(o,m,L)}}var y=o.return;try{wf(o)}catch(L){ot(o,y,L)}break;case 5:var T=o.return;try{wf(o)}catch(L){ot(o,T,L)}}}catch(L){ot(o,o.return,L)}if(o===i){ce=null;break}var R=o.sibling;if(R!==null){R.return=o.return,ce=R;break}ce=o.return}}var ux=Math.ceil,xc=Q.ReactCurrentDispatcher,Sf=Q.ReactCurrentOwner,Rn=Q.ReactCurrentBatchConfig,Me=0,Rt=null,pt=null,Lt=0,vn=0,zo=Ei(0),St=0,yl=null,Ps=0,Ac=0,If=0,vl=null,an=null,xf=0,$o=1/0,Hr=null,Cc=!1,Af=null,Ci=null,Pc=!1,Pi=null,Rc=0,_l=0,Cf=null,kc=-1,bc=0;function Zt(){return(Me&6)!==0?qe():kc!==-1?kc:kc=qe()}function Ri(i){return(i.mode&1)===0?1:(Me&2)!==0&&Lt!==0?Lt&-Lt:q1.transition!==null?(bc===0&&(bc=gs()),bc):(i=De,i!==0||(i=window.event,i=i===void 0?16:Ga(i.type)),i)}function Yn(i,o,l,d){if(50<_l)throw _l=0,Cf=null,Error(t(185));fi(i,l,d),((Me&2)===0||i!==Rt)&&(i===Rt&&((Me&2)===0&&(Ac|=l),St===4&&ki(i,Lt)),ln(i,d),l===1&&Me===0&&(o.mode&1)===0&&($o=qe()+500,sc&&Si()))}function ln(i,o){var l=i.callbackNode;Dr(i,o);var d=ms(i,i===Rt?Lt:0);if(d===0)l!==null&&za(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&za(l),o===1)i.tag===0?H1(Dv.bind(null,i)):vy(Dv.bind(null,i)),B1(function(){(Me&6)===0&&Si()}),l=null;else{switch(mi(d)){case 1:l=fs;break;case 4:l=ci;break;case 16:l=Tn;break;case 536870912:l=bu;break;default:l=Tn}l=Bv(l,Nv.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Nv(i,o){if(kc=-1,bc=0,(Me&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Wo()&&i.callbackNode!==l)return null;var d=ms(i,i===Rt?Lt:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=Nc(i,d);else{o=d;var m=Me;Me|=2;var y=Lv();(Rt!==i||Lt!==o)&&(Hr=null,$o=qe()+500,ks(i,o));do try{dx();break}catch(R){Vv(i,R)}while(!0);Wd(),xc.current=y,Me=m,pt!==null?o=0:(Rt=null,Lt=0,o=St)}if(o!==0){if(o===2&&(m=fn(i),m!==0&&(d=m,o=Pf(i,m))),o===1)throw l=yl,ks(i,0),ki(i,d),ln(i,qe()),l;if(o===6)ki(i,d);else{if(m=i.current.alternate,(d&30)===0&&!cx(m)&&(o=Nc(i,d),o===2&&(y=fn(i),y!==0&&(d=y,o=Pf(i,y))),o===1))throw l=yl,ks(i,0),ki(i,d),ln(i,qe()),l;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:bs(i,an,Hr);break;case 3:if(ki(i,d),(d&130023424)===d&&(o=xf+500-qe(),10<o)){if(ms(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){Zt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Dd(bs.bind(null,i,an,Hr),o);break}bs(i,an,Hr);break;case 4:if(ki(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var T=31-Xt(d);y=1<<T,T=o[T],T>m&&(m=T),d&=~y}if(d=m,d=qe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*ux(d/1960))-d,10<d){i.timeoutHandle=Dd(bs.bind(null,i,an,Hr),d);break}bs(i,an,Hr);break;case 5:bs(i,an,Hr);break;default:throw Error(t(329))}}}return ln(i,qe()),i.callbackNode===l?Nv.bind(null,i):null}function Pf(i,o){var l=vl;return i.current.memoizedState.isDehydrated&&(ks(i,o).flags|=256),i=Nc(i,o),i!==2&&(o=an,an=l,o!==null&&Rf(o)),i}function Rf(i){an===null?an=i:an.push.apply(an,i)}function cx(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],y=m.getSnapshot;m=m.value;try{if(!qn(y(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ki(i,o){for(o&=~If,o&=~Ac,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Xt(o),d=1<<l;i[l]=-1,o&=~d}}function Dv(i){if((Me&6)!==0)throw Error(t(327));Wo();var o=ms(i,0);if((o&1)===0)return ln(i,qe()),null;var l=Nc(i,o);if(i.tag!==0&&l===2){var d=fn(i);d!==0&&(o=d,l=Pf(i,d))}if(l===1)throw l=yl,ks(i,0),ki(i,o),ln(i,qe()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,bs(i,an,Hr),ln(i,qe()),null}function kf(i,o){var l=Me;Me|=1;try{return i(o)}finally{Me=l,Me===0&&($o=qe()+500,sc&&Si())}}function Rs(i){Pi!==null&&Pi.tag===0&&(Me&6)===0&&Wo();var o=Me;Me|=1;var l=Rn.transition,d=De;try{if(Rn.transition=null,De=1,i)return i()}finally{De=d,Rn.transition=l,Me=o,(Me&6)===0&&Si()}}function bf(){vn=zo.current,Qe(zo)}function ks(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,U1(l)),pt!==null)for(l=pt.return;l!==null;){var d=l;switch(jd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&rc();break;case 3:jo(),Qe(rn),Qe(Bt),Jd();break;case 5:Xd(d);break;case 4:jo();break;case 13:Qe(nt);break;case 19:Qe(nt);break;case 10:Hd(d.type._context);break;case 22:case 23:bf()}l=l.return}if(Rt=i,pt=i=bi(i.current,null),Lt=vn=o,St=0,yl=null,If=Ac=Ps=0,an=vl=null,xs!==null){for(o=0;o<xs.length;o++)if(l=xs[o],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,y=l.pending;if(y!==null){var T=y.next;y.next=m,d.next=T}l.pending=d}xs=null}return i}function Vv(i,o){do{var l=pt;try{if(Wd(),mc.current=_c,gc){for(var d=rt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}gc=!1}if(Cs=0,Pt=Tt=rt=null,hl=!1,dl=0,Sf.current=null,l===null||l.return===null){St=1,yl=o,pt=null;break}e:{var y=i,T=l.return,R=l,L=o;if(o=Lt,R.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var G=L,te=R,ne=te.tag;if((te.mode&1)===0&&(ne===0||ne===11||ne===15)){var Z=te.alternate;Z?(te.updateQueue=Z.updateQueue,te.memoizedState=Z.memoizedState,te.lanes=Z.lanes):(te.updateQueue=null,te.memoizedState=null)}var le=sv(T);if(le!==null){le.flags&=-257,ov(le,T,R,y,o),le.mode&1&&iv(y,G,o),o=le,L=G;var he=o.updateQueue;if(he===null){var de=new Set;de.add(L),o.updateQueue=de}else he.add(L);break e}else{if((o&1)===0){iv(y,G,o),Nf();break e}L=Error(t(426))}}else if(Ze&&R.mode&1){var ut=sv(T);if(ut!==null){(ut.flags&65536)===0&&(ut.flags|=256),ov(ut,T,R,y,o),zd(Uo(L,R));break e}}y=L=Uo(L,R),St!==4&&(St=2),vl===null?vl=[y]:vl.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var H=nv(y,L,o);Ry(y,H);break e;case 1:R=L;var U=y.type,q=y.stateNode;if((y.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Ci===null||!Ci.has(q)))){y.flags|=65536,o&=-o,y.lanes|=o;var re=rv(y,R,o);Ry(y,re);break e}}y=y.return}while(y!==null)}Mv(l)}catch(fe){o=fe,pt===l&&l!==null&&(pt=l=l.return);continue}break}while(!0)}function Lv(){var i=xc.current;return xc.current=_c,i===null?_c:i}function Nf(){(St===0||St===3||St===2)&&(St=4),Rt===null||(Ps&268435455)===0&&(Ac&268435455)===0||ki(Rt,Lt)}function Nc(i,o){var l=Me;Me|=2;var d=Lv();(Rt!==i||Lt!==o)&&(Hr=null,ks(i,o));do try{hx();break}catch(m){Vv(i,m)}while(!0);if(Wd(),Me=l,xc.current=d,pt!==null)throw Error(t(261));return Rt=null,Lt=0,St}function hx(){for(;pt!==null;)Ov(pt)}function dx(){for(;pt!==null&&!Ru();)Ov(pt)}function Ov(i){var o=Uv(i.alternate,i,vn);i.memoizedProps=i.pendingProps,o===null?Mv(i):pt=o,Sf.current=null}function Mv(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=ix(l,o,vn),l!==null){pt=l;return}}else{if(l=sx(l,o),l!==null){l.flags&=32767,pt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{St=6,pt=null;return}}if(o=o.sibling,o!==null){pt=o;return}pt=o=i}while(o!==null);St===0&&(St=5)}function bs(i,o,l){var d=De,m=Rn.transition;try{Rn.transition=null,De=1,fx(i,o,l,d)}finally{Rn.transition=m,De=d}return null}function fx(i,o,l,d){do Wo();while(Pi!==null);if((Me&6)!==0)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(We(i,y),i===Rt&&(pt=Rt=null,Lt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Pc||(Pc=!0,Bv(Tn,function(){return Wo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Rn.transition,Rn.transition=null;var T=De;De=1;var R=Me;Me|=4,Sf.current=null,ax(i,l),Cv(l,i),D1(bd),yi=!!kd,bd=kd=null,i.current=l,lx(l),pd(),Me=R,De=T,Rn.transition=y}else i.current=l;if(Pc&&(Pc=!1,Pi=i,Rc=m),y=i.pendingLanes,y===0&&(Ci=null),Nu(l.stateNode),ln(i,qe()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(Cc)throw Cc=!1,i=Af,Af=null,i;return(Rc&1)!==0&&i.tag!==0&&Wo(),y=i.pendingLanes,(y&1)!==0?i===Cf?_l++:(_l=0,Cf=i):_l=0,Si(),null}function Wo(){if(Pi!==null){var i=mi(Rc),o=Rn.transition,l=De;try{if(Rn.transition=null,De=16>i?16:i,Pi===null)var d=!1;else{if(i=Pi,Pi=null,Rc=0,(Me&6)!==0)throw Error(t(331));var m=Me;for(Me|=4,ce=i.current;ce!==null;){var y=ce,T=y.child;if((ce.flags&16)!==0){var R=y.deletions;if(R!==null){for(var L=0;L<R.length;L++){var G=R[L];for(ce=G;ce!==null;){var te=ce;switch(te.tag){case 0:case 11:case 15:gl(8,te,y)}var ne=te.child;if(ne!==null)ne.return=te,ce=ne;else for(;ce!==null;){te=ce;var Z=te.sibling,le=te.return;if(Tv(te),te===G){ce=null;break}if(Z!==null){Z.return=le,ce=Z;break}ce=le}}}var he=y.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var ut=de.sibling;de.sibling=null,de=ut}while(de!==null)}}ce=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,ce=T;else e:for(;ce!==null;){if(y=ce,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:gl(9,y,y.return)}var H=y.sibling;if(H!==null){H.return=y.return,ce=H;break e}ce=y.return}}var U=i.current;for(ce=U;ce!==null;){T=ce;var q=T.child;if((T.subtreeFlags&2064)!==0&&q!==null)q.return=T,ce=q;else e:for(T=U;ce!==null;){if(R=ce,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Ic(9,R)}}catch(fe){ot(R,R.return,fe)}if(R===T){ce=null;break e}var re=R.sibling;if(re!==null){re.return=R.return,ce=re;break e}ce=R.return}}if(Me=m,Si(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(ps,i)}catch{}d=!0}return d}finally{De=l,Rn.transition=o}}return!1}function Fv(i,o,l){o=Uo(l,o),o=nv(i,o,1),i=xi(i,o,1),o=Zt(),i!==null&&(fi(i,1,o),ln(i,o))}function ot(i,o,l){if(i.tag===3)Fv(i,i,l);else for(;o!==null;){if(o.tag===3){Fv(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ci===null||!Ci.has(d))){i=Uo(l,i),i=rv(o,i,1),o=xi(o,i,1),i=Zt(),o!==null&&(fi(o,1,i),ln(o,i));break}}o=o.return}}function px(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=Zt(),i.pingedLanes|=i.suspendedLanes&l,Rt===i&&(Lt&l)===l&&(St===4||St===3&&(Lt&130023424)===Lt&&500>qe()-xf?ks(i,0):If|=l),ln(i,o)}function jv(i,o){o===0&&((i.mode&1)===0?o=1:(o=fo,fo<<=1,(fo&130023424)===0&&(fo=4194304)));var l=Zt();i=zr(i,o),i!==null&&(fi(i,o,l),ln(i,l))}function mx(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),jv(i,l)}function gx(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),jv(i,l)}var Uv;Uv=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||rn.current)on=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return on=!1,rx(i,o,l);on=(i.flags&131072)!==0}else on=!1,Ze&&(o.flags&1048576)!==0&&_y(o,ac,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Tc(i,o),i=o.pendingProps;var m=No(o,Bt.current);Fo(o,l),m=tf(null,o,d,i,m,l);var y=nf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,sn(d)?(y=!0,ic(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Kd(o),m.updater=wc,o.stateNode=m,m._reactInternals=o,uf(o,d,i,l),o=ff(null,o,d,!0,y,l)):(o.tag=0,Ze&&y&&Fd(o),Jt(null,o,m,l),o=o.child),o;case 16:d=o.elementType;e:{switch(Tc(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=vx(d),i=Kn(d,i),m){case 0:o=df(null,o,d,i,l);break e;case 1:o=dv(null,o,d,i,l);break e;case 11:o=av(null,o,d,i,l);break e;case 14:o=lv(null,o,d,Kn(d.type,i),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Kn(d,m),df(i,o,d,m,l);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Kn(d,m),dv(i,o,d,m,l);case 3:e:{if(fv(o),i===null)throw Error(t(387));d=o.pendingProps,y=o.memoizedState,m=y.element,Py(i,o),fc(o,d,null,l);var T=o.memoizedState;if(d=T.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=Uo(Error(t(423)),o),o=pv(i,o,d,l,m);break e}else if(d!==m){m=Uo(Error(t(424)),o),o=pv(i,o,d,l,m);break e}else for(yn=wi(o.stateNode.containerInfo.firstChild),gn=o,Ze=!0,Gn=null,l=Ay(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Lo(),d===m){o=Wr(i,o,l);break e}Jt(i,o,d,l)}o=o.child}return o;case 5:return by(o),i===null&&Bd(o),d=o.type,m=o.pendingProps,y=i!==null?i.memoizedProps:null,T=m.children,Nd(d,m)?T=null:y!==null&&Nd(d,y)&&(o.flags|=32),hv(i,o),Jt(i,o,T,l),o.child;case 6:return i===null&&Bd(o),null;case 13:return mv(i,o,l);case 4:return Qd(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=Oo(o,null,d,l):Jt(i,o,d,l),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Kn(d,m),av(i,o,d,m,l);case 7:return Jt(i,o,o.pendingProps,l),o.child;case 8:return Jt(i,o,o.pendingProps.children,l),o.child;case 12:return Jt(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,y=o.memoizedProps,T=m.value,Ge(cc,d._currentValue),d._currentValue=T,y!==null)if(qn(y.value,T)){if(y.children===m.children&&!rn.current){o=Wr(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var R=y.dependencies;if(R!==null){T=y.child;for(var L=R.firstContext;L!==null;){if(L.context===d){if(y.tag===1){L=$r(-1,l&-l),L.tag=2;var G=y.updateQueue;if(G!==null){G=G.shared;var te=G.pending;te===null?L.next=L:(L.next=te.next,te.next=L),G.pending=L}}y.lanes|=l,L=y.alternate,L!==null&&(L.lanes|=l),qd(y.return,l,o),R.lanes|=l;break}L=L.next}}else if(y.tag===10)T=y.type===o.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,R=T.alternate,R!==null&&(R.lanes|=l),qd(T,l,o),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===o){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Jt(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Fo(o,l),m=Cn(m),d=d(m),o.flags|=1,Jt(i,o,d,l),o.child;case 14:return d=o.type,m=Kn(d,o.pendingProps),m=Kn(d.type,m),lv(i,o,d,m,l);case 15:return uv(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Kn(d,m),Tc(i,o),o.tag=1,sn(d)?(i=!0,ic(o)):i=!1,Fo(o,l),ev(o,d,m),uf(o,d,m,l),ff(null,o,d,!0,i,l);case 19:return yv(i,o,l);case 22:return cv(i,o,l)}throw Error(t(156,o.tag))};function Bv(i,o){return co(i,o)}function yx(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(i,o,l,d){return new yx(i,o,l,d)}function Df(i){return i=i.prototype,!(!i||!i.isReactComponent)}function vx(i){if(typeof i=="function")return Df(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===dt)return 14}return 2}function bi(i,o){var l=i.alternate;return l===null?(l=kn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Dc(i,o,l,d,m,y){var T=2;if(d=i,typeof i=="function")Df(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case b:return Ns(l.children,m,y,o);case S:T=8,m|=8;break;case C:return i=kn(12,l,o,m|2),i.elementType=C,i.lanes=y,i;case k:return i=kn(13,l,o,m),i.elementType=k,i.lanes=y,i;case $e:return i=kn(19,l,o,m),i.elementType=$e,i.lanes=y,i;case xe:return Vc(l,m,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:T=10;break e;case j:T=9;break e;case z:T=11;break e;case dt:T=14;break e;case vt:T=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=kn(T,l,o,m),o.elementType=i,o.type=d,o.lanes=y,o}function Ns(i,o,l,d){return i=kn(7,i,d,o),i.lanes=l,i}function Vc(i,o,l,d){return i=kn(22,i,d,o),i.elementType=xe,i.lanes=l,i.stateNode={isHidden:!1},i}function Vf(i,o,l){return i=kn(6,i,null,o),i.lanes=l,i}function Lf(i,o,l){return o=kn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function _x(i,o,l,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=di(0),this.expirationTimes=di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Of(i,o,l,d,m,y,T,R,L){return i=new _x(i,o,l,R,L),o===1?(o=1,y===!0&&(o|=8)):o=0,y=kn(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kd(y),i}function wx(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function zv(i){if(!i)return Ti;i=i._reactInternals;e:{if(jn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(sn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(sn(l))return gy(i,l,o)}return o}function $v(i,o,l,d,m,y,T,R,L){return i=Of(l,d,!0,i,m,y,T,R,L),i.context=zv(null),l=i.current,d=Zt(),m=Ri(l),y=$r(d,m),y.callback=o??null,xi(l,y,m),i.current.lanes=m,fi(i,m,d),ln(i,d),i}function Lc(i,o,l,d){var m=o.current,y=Zt(),T=Ri(m);return l=zv(l),o.context===null?o.context=l:o.pendingContext=l,o=$r(y,T),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=xi(m,o,T),i!==null&&(Yn(i,m,T,y),dc(i,m,T)),T}function Oc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Wv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Mf(i,o){Wv(i,o),(i=i.alternate)&&Wv(i,o)}function Ex(){return null}var Hv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ff(i){this._internalRoot=i}Mc.prototype.render=Ff.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Lc(i,o,null,null)},Mc.prototype.unmount=Ff.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Rs(function(){Lc(null,i,null,null)}),o[Fr]=null}};function Mc(i){this._internalRoot=i}Mc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Mu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<ar.length&&o!==0&&o<ar[l].priority;l++);ar.splice(l,0,i),l===0&&Uu(i)}};function jf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Fc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function qv(){}function Tx(i,o,l,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var G=Oc(T);y.call(G)}}var T=$v(o,d,i,0,null,!1,!1,"",qv);return i._reactRootContainer=T,i[Fr]=T.current,rl(i.nodeType===8?i.parentNode:i),Rs(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var R=d;d=function(){var G=Oc(L);R.call(G)}}var L=Of(i,0,!1,null,null,!1,!1,"",qv);return i._reactRootContainer=L,i[Fr]=L.current,rl(i.nodeType===8?i.parentNode:i),Rs(function(){Lc(o,L,l,d)}),L}function jc(i,o,l,d,m){var y=l._reactRootContainer;if(y){var T=y;if(typeof m=="function"){var R=m;m=function(){var L=Oc(T);R.call(L)}}Lc(o,T,i,m)}else T=Tx(l,o,i,m,d);return Oc(T)}Lu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=hi(o.pendingLanes);l!==0&&(pi(o,l|1),ln(o,qe()),(Me&6)===0&&($o=qe()+500,Si()))}break;case 13:Rs(function(){var d=zr(i,1);if(d!==null){var m=Zt();Yn(d,i,1,m)}}),Mf(i,1)}},po=function(i){if(i.tag===13){var o=zr(i,134217728);if(o!==null){var l=Zt();Yn(o,i,134217728,l)}Mf(i,134217728)}},Ou=function(i){if(i.tag===13){var o=Ri(i),l=zr(i,o);if(l!==null){var d=Zt();Yn(l,i,o,d)}Mf(i,o)}},Mu=function(){return De},Fu=function(i,o){var l=De;try{return De=i,o()}finally{De=l}},io=function(i,o,l){switch(o){case"input":if(Pa(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var m=nc(d);if(!m)throw Error(t(90));Js(d),Pa(d,m)}}}break;case"textarea":no(i,l);break;case"select":o=l.value,o!=null&&kr(i,!!l.multiple,o,!1)}},us=kf,Fa=Rs;var Sx={usingClientEntryPoint:!1,Events:[ol,ko,nc,sr,Ma,kf]},wl={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ix={bundleType:wl.bundleType,version:wl.version,rendererPackageName:wl.rendererPackageName,rendererConfig:wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ba(i),i===null?null:i.stateNode},findFiberByHostInstance:wl.findFiberByHostInstance||Ex,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{ps=Uc.inject(Ix),dn=Uc}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sx,un.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jf(o))throw Error(t(200));return wx(i,o,null,l)},un.createRoot=function(i,o){if(!jf(i))throw Error(t(299));var l=!1,d="",m=Hv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Of(i,1,!1,null,null,l,!1,d,m),i[Fr]=o.current,rl(i.nodeType===8?i.parentNode:i),new Ff(o)},un.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ba(o),i=i===null?null:i.stateNode,i},un.flushSync=function(i){return Rs(i)},un.hydrate=function(i,o,l){if(!Fc(o))throw Error(t(200));return jc(null,i,o,!0,l)},un.hydrateRoot=function(i,o,l){if(!jf(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,y="",T=Hv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=$v(o,null,i,1,l??null,m,!1,y,T),i[Fr]=o.current,rl(i),d)for(i=0;i<d.length;i++)l=d[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new Mc(o)},un.render=function(i,o,l){if(!Fc(o))throw Error(t(200));return jc(null,i,o,!1,l)},un.unmountComponentAtNode=function(i){if(!Fc(i))throw Error(t(40));return i._reactRootContainer?(Rs(function(){jc(null,null,i,!1,function(){i._reactRootContainer=null,i[Fr]=null})}),!0):!1},un.unstable_batchedUpdates=kf,un.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!Fc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return jc(i,o,l,!1,d)},un.version="18.3.1-next-f1338f8080-20240426",un}var e_;function Nx(){if(e_)return zf.exports;e_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zf.exports=bx(),zf.exports}var t_;function Dx(){if(t_)return Bc;t_=1;var n=Nx();return Bc.createRoot=n.createRoot,Bc.hydrateRoot=n.hydrateRoot,Bc}var Vx=Dx(),Tl={},n_;function Lx(){if(n_)return Tl;n_=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.parse=u,Tl.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,x){const P=new a,V=E.length;if(V<2)return P;const N=(x==null?void 0:x.decode)||v;let F=0;do{const O=E.indexOf("=",F);if(O===-1)break;const B=E.indexOf(";",F),Q=B===-1?V:B;if(O>Q){F=E.lastIndexOf(";",O-1)+1;continue}const J=h(E,F,O),se=f(E,O,J),b=E.slice(J,se);if(P[b]===void 0){let S=h(E,O+1,Q),C=f(E,Q,S);const D=N(E.slice(S,C));P[b]=D}F=Q+1}while(F<V);return P}function h(E,x,P){do{const V=E.charCodeAt(x);if(V!==32&&V!==9)return x}while(++x<P);return P}function f(E,x,P){for(;x>P;){const V=E.charCodeAt(--x);if(V!==32&&V!==9)return x+1}return P}function p(E,x,P){const V=(P==null?void 0:P.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const N=V(x);if(!e.test(N))throw new TypeError(`argument val is invalid: ${x}`);let F=E+"="+N;if(!P)return F;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);F+="; Max-Age="+P.maxAge}if(P.domain){if(!t.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);F+="; Domain="+P.domain}if(P.path){if(!r.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);F+="; Path="+P.path}if(P.expires){if(!_(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);F+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(F+="; HttpOnly"),P.secure&&(F+="; Secure"),P.partitioned&&(F+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return F}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return s.call(E)==="[object Date]"}return Tl}Lx();var r_="popstate";function Ox(n={}){function e(r,s){let{pathname:a,search:u,hash:h}=r.location;return yp("",{pathname:a,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:zl(s)}return Fx(e,t,null,n)}function tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function nr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Mx(){return Math.random().toString(36).substring(2,10)}function i_(n,e){return{usr:n.state,key:n.key,idx:e}}function yp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?pa(e):e,state:t,key:e&&e.key||r||Mx()}}function zl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function pa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Fx(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,h="POP",f=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function _(){h="POP";let N=v(),F=N==null?null:N-p;p=N,f&&f({action:h,location:V.location,delta:F})}function E(N,F){h="PUSH";let O=yp(V.location,N,F);p=v()+1;let B=i_(O,p),Q=V.createHref(O);try{u.pushState(B,"",Q)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;s.location.assign(Q)}a&&f&&f({action:h,location:V.location,delta:1})}function x(N,F){h="REPLACE";let O=yp(V.location,N,F);p=v();let B=i_(O,p),Q=V.createHref(O);u.replaceState(B,"",Q),a&&f&&f({action:h,location:V.location,delta:0})}function P(N){return jx(N)}let V={get action(){return h},get location(){return n(s,u)},listen(N){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(r_,_),f=N,()=>{s.removeEventListener(r_,_),f=null}},createHref(N){return e(s,N)},createURL:P,encodeLocation(N){let F=P(N);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:E,replace:x,go(N){return u.go(N)}};return V}function jx(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),tt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:zl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function eE(n,e,t="/"){return Ux(n,e,t,!1)}function Ux(n,e,t,r){let s=typeof e=="string"?pa(e):e,a=Jr(s.pathname||"/",t);if(a==null)return null;let u=tE(n);Bx(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=Jx(a);h=Xx(u[f],p,r)}return h}function tE(n,e=[],t=[],r=""){let s=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(tt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=Qr([r,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(tt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),tE(a.children,e,v,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:Kx(p,a.index),routesMeta:v})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,u);else for(let f of nE(a.path))s(a,u,f)}),e}function nE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=nE(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function Bx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Qx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var zx=/^:[\w-]+$/,$x=3,Wx=2,Hx=1,qx=10,Gx=-2,s_=n=>n==="*";function Kx(n,e){let t=n.split("/"),r=t.length;return t.some(s_)&&(r+=Gx),e&&(r+=Wx),t.filter(s=>!s_(s)).reduce((s,a)=>s+(zx.test(a)?$x:a===""?Hx:qx),r)}function Qx(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function Xx(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",_=yh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),E=f.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=yh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:Qr([a,_.pathname]),pathnameBase:nA(Qr([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=Qr([a,_.pathnameBase]))}return u}function yh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Yx(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:_},E)=>{if(v==="*"){let P=h[E]||"";u=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const x=h[E];return _&&!x?p[v]=void 0:p[v]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function Yx(n,e=!1,t=!0){nr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Jx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Jr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Zx(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?pa(n):n;return{pathname:t?t.startsWith("/")?t:eA(t,e):e,search:rA(r),hash:iA(s)}}function eA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Hf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function hm(n){let e=tA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function dm(n,e,t,r=!1){let s;typeof n=="string"?s=pa(n):(s={...n},tt(!s.pathname||!s.pathname.includes("?"),Hf("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),Hf("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),Hf("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=Zx(s,h),p=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var Qr=n=>n.join("/").replace(/\/\/+/g,"/"),nA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),rA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,iA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function sA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var rE=["POST","PUT","PATCH","DELETE"];new Set(rE);var oA=["GET",...rE];new Set(oA);var ma=M.createContext(null);ma.displayName="DataRouter";var Wh=M.createContext(null);Wh.displayName="DataRouterState";var iE=M.createContext({isTransitioning:!1});iE.displayName="ViewTransition";var aA=M.createContext(new Map);aA.displayName="Fetchers";var lA=M.createContext(null);lA.displayName="Await";var rr=M.createContext(null);rr.displayName="Navigation";var uu=M.createContext(null);uu.displayName="Location";var Ar=M.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var fm=M.createContext(null);fm.displayName="RouteError";function uA(n,{relative:e}={}){tt(ga(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=M.useContext(rr),{hash:s,pathname:a,search:u}=cu(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:Qr([t,a])),r.createHref({pathname:h,search:u,hash:s})}function ga(){return M.useContext(uu)!=null}function Cr(){return tt(ga(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(uu).location}var sE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oE(n){M.useContext(rr).static||M.useLayoutEffect(n)}function oi(){let{isDataRoute:n}=M.useContext(Ar);return n?TA():cA()}function cA(){tt(ga(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(ma),{basename:e,navigator:t}=M.useContext(rr),{matches:r}=M.useContext(Ar),{pathname:s}=Cr(),a=JSON.stringify(hm(r)),u=M.useRef(!1);return oE(()=>{u.current=!0}),M.useCallback((f,p={})=>{if(nr(u.current,sE),!u.current)return;if(typeof f=="number"){t.go(f);return}let v=dm(f,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Qr([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,a,s,n])}M.createContext(null);function cu(n,{relative:e}={}){let{matches:t}=M.useContext(Ar),{pathname:r}=Cr(),s=JSON.stringify(hm(t));return M.useMemo(()=>dm(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function hA(n,e){return aE(n,e)}function aE(n,e,t,r){var F;tt(ga(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=M.useContext(rr),{matches:a}=M.useContext(Ar),u=a[a.length-1],h=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let O=v&&v.path||"";lE(f,!v||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let _=Cr(),E;if(e){let O=typeof e=="string"?pa(e):e;tt(p==="/"||((F=O.pathname)==null?void 0:F.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${O.pathname}" was given in the \`location\` prop.`),E=O}else E=_;let x=E.pathname||"/",P=x;if(p!=="/"){let O=p.replace(/^\//,"").split("/");P="/"+x.replace(/^\//,"").split("/").slice(O.length).join("/")}let V=eE(n,{pathname:P});nr(v||V!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),nr(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=gA(V&&V.map(O=>Object.assign({},O,{params:Object.assign({},h,O.params),pathname:Qr([p,s.encodeLocation?s.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:Qr([p,s.encodeLocation?s.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),a,t,r);return e&&N?M.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},N):N}function dA(){let n=EA(),e=sA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:a},"ErrorBoundary")," or"," ",M.createElement("code",{style:a},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:s},t):null,u)}var fA=M.createElement(dA,null),pA=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?M.createElement(Ar.Provider,{value:this.props.routeContext},M.createElement(fm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mA({routeContext:n,match:e,children:t}){let r=M.useContext(ma);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Ar.Provider,{value:n},t)}function gA(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);tt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:v,errors:_}=t,E=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,p,v)=>{let _,E=!1,x=null,P=null;t&&(_=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||fA,u&&(h<0&&v===0?(lE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,P=null):h===v&&(E=!0,P=p.route.hydrateFallbackElement||null)));let V=e.concat(s.slice(0,v+1)),N=()=>{let F;return _?F=x:E?F=P:p.route.Component?F=M.createElement(p.route.Component,null):p.route.element?F=p.route.element:F=f,M.createElement(mA,{match:p,routeContext:{outlet:f,matches:V,isDataRoute:t!=null},children:F})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?M.createElement(pA,{location:t.location,revalidation:t.revalidation,component:x,error:_,children:N(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):N()},null)}function pm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yA(n){let e=M.useContext(ma);return tt(e,pm(n)),e}function vA(n){let e=M.useContext(Wh);return tt(e,pm(n)),e}function _A(n){let e=M.useContext(Ar);return tt(e,pm(n)),e}function mm(n){let e=_A(n),t=e.matches[e.matches.length-1];return tt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function wA(){return mm("useRouteId")}function EA(){var r;let n=M.useContext(fm),e=vA("useRouteError"),t=mm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function TA(){let{router:n}=yA("useNavigate"),e=mm("useNavigate"),t=M.useRef(!1);return oE(()=>{t.current=!0}),M.useCallback(async(s,a={})=>{nr(t.current,sE),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var o_={};function lE(n,e,t){!e&&!o_[n]&&(o_[n]=!0,nr(!1,t))}M.memo(SA);function SA({routes:n,future:e,state:t}){return aE(n,void 0,t,e)}function a_({to:n,replace:e,state:t,relative:r}){tt(ga(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=M.useContext(rr);nr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=M.useContext(Ar),{pathname:u}=Cr(),h=oi(),f=dm(n,hm(a),u,r==="path"),p=JSON.stringify(f);return M.useEffect(()=>{h(JSON.parse(p),{replace:e,state:t,relative:r})},[h,p,r,e,t]),null}function Vi(n){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IA({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){tt(!ga(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=M.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=pa(t));let{pathname:f="/",search:p="",hash:v="",state:_=null,key:E="default"}=t,x=M.useMemo(()=>{let P=Jr(f,u);return P==null?null:{location:{pathname:P,search:p,hash:v,state:_,key:E},navigationType:r}},[u,f,p,v,_,E,r]);return nr(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:M.createElement(rr.Provider,{value:h},M.createElement(uu.Provider,{children:e,value:x}))}function xA({children:n,location:e}){return hA(vp(n),e)}function vp(n,e=[]){let t=[];return M.Children.forEach(n,(r,s)=>{if(!M.isValidElement(r))return;let a=[...e,s];if(r.type===M.Fragment){t.push.apply(t,vp(r.props.children,a));return}tt(r.type===Vi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=vp(r.props.children,a)),t.push(u)}),t}var th="get",nh="application/x-www-form-urlencoded";function Hh(n){return n!=null&&typeof n.tagName=="string"}function AA(n){return Hh(n)&&n.tagName.toLowerCase()==="button"}function CA(n){return Hh(n)&&n.tagName.toLowerCase()==="form"}function PA(n){return Hh(n)&&n.tagName.toLowerCase()==="input"}function RA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function kA(n,e){return n.button===0&&(!e||e==="_self")&&!RA(n)}var zc=null;function bA(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var NA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qf(n){return n!=null&&!NA.has(n)?(nr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nh}"`),null):n}function DA(n,e){let t,r,s,a,u;if(CA(n)){let h=n.getAttribute("action");r=h?Jr(h,e):null,t=n.getAttribute("method")||th,s=qf(n.getAttribute("enctype"))||nh,a=new FormData(n)}else if(AA(n)||PA(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Jr(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||th,s=qf(n.getAttribute("formenctype"))||qf(h.getAttribute("enctype"))||nh,a=new FormData(h,n),!bA()){let{name:p,type:v,value:_}=n;if(v==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,_)}}else{if(Hh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=th,r=null,s=nh,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function gm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function VA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function OA(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await VA(a,t);return u.links?u.links():[]}return[]}));return UA(r.flat(1).filter(LA).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function l_(n,e,t,r,s,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>{var v;return t[p].pathname!==f.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{var _;let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function MA(n,e,{includeHydrateFallback:t}={}){return FA(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function FA(n){return[...new Set(n)]}function jA(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function UA(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(jA(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BA=new Set([100,101,204,205]);function zA(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Jr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function uE(){let n=M.useContext(ma);return gm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function $A(){let n=M.useContext(Wh);return gm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ym=M.createContext(void 0);ym.displayName="FrameworkContext";function cE(){let n=M.useContext(ym);return gm(n,"You must render this element inside a <HydratedRouter> element"),n}function WA(n,e){let t=M.useContext(ym),[r,s]=M.useState(!1),[a,u]=M.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,E=M.useRef(null);M.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let V=F=>{F.forEach(O=>{u(O.isIntersecting)})},N=new IntersectionObserver(V,{threshold:.5});return E.current&&N.observe(E.current),()=>{N.disconnect()}}},[n]),M.useEffect(()=>{if(r){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[r]);let x=()=>{s(!0)},P=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:Sl(h,x),onBlur:Sl(f,P),onMouseEnter:Sl(p,x),onMouseLeave:Sl(v,P),onTouchStart:Sl(_,x)}]:[!1,E,{}]}function Sl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function HA({page:n,...e}){let{router:t}=uE(),r=M.useMemo(()=>eE(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?M.createElement(GA,{page:n,matches:r,...e}):null}function qA(n){let{manifest:e,routeModules:t}=cE(),[r,s]=M.useState([]);return M.useEffect(()=>{let a=!1;return OA(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function GA({page:n,matches:e,...t}){let r=Cr(),{manifest:s,routeModules:a}=cE(),{basename:u}=uE(),{loaderData:h,matches:f}=$A(),p=M.useMemo(()=>l_(n,e,f,s,r,"data"),[n,e,f,s,r]),v=M.useMemo(()=>l_(n,e,f,s,r,"assets"),[n,e,f,s,r]),_=M.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let P=new Set,V=!1;if(e.forEach(F=>{var B;let O=s.routes[F.route.id];!O||!O.hasLoader||(!p.some(Q=>Q.route.id===F.route.id)&&F.route.id in h&&((B=a[F.route.id])!=null&&B.shouldRevalidate)||O.hasClientLoader?V=!0:P.add(F.route.id))}),P.size===0)return[];let N=zA(n,u);return V&&P.size>0&&N.searchParams.set("_routes",e.filter(F=>P.has(F.route.id)).map(F=>F.route.id).join(",")),[N.pathname+N.search]},[u,h,r,s,p,e,n,a]),E=M.useMemo(()=>MA(v,s),[v,s]),x=qA(v);return M.createElement(M.Fragment,null,_.map(P=>M.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),E.map(P=>M.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),x.map(({key:P,link:V})=>M.createElement("link",{key:P,...V})))}function KA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var hE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hE&&(window.__reactRouterVersion="7.6.3")}catch{}function QA({basename:n,children:e,window:t}){let r=M.useRef();r.current==null&&(r.current=Ox({window:t,v5Compat:!0}));let s=r.current,[a,u]=M.useState({action:s.action,location:s.location}),h=M.useCallback(f=>{M.startTransition(()=>u(f))},[u]);return M.useLayoutEffect(()=>s.listen(h),[s,h]),M.createElement(IA,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var dE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fE=M.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:h,target:f,to:p,preventScrollReset:v,viewTransition:_,...E},x){let{basename:P}=M.useContext(rr),V=typeof p=="string"&&dE.test(p),N,F=!1;if(typeof p=="string"&&V&&(N=p,hE))try{let C=new URL(window.location.href),D=p.startsWith("//")?new URL(C.protocol+p):new URL(p),j=Jr(D.pathname,P);D.origin===C.origin&&j!=null?p=j+D.search+D.hash:F=!0}catch{nr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=uA(p,{relative:s}),[B,Q,J]=WA(r,E),se=ZA(p,{replace:u,state:h,target:f,preventScrollReset:v,relative:s,viewTransition:_});function b(C){e&&e(C),C.defaultPrevented||se(C)}let S=M.createElement("a",{...E,...J,href:N||O,onClick:F||a?e:b,ref:KA(x,Q),target:f,"data-discover":!V&&t==="render"?"true":void 0});return B&&!V?M.createElement(M.Fragment,null,S,M.createElement(HA,{page:O})):S});fE.displayName="Link";var XA=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:h,children:f,...p},v){let _=cu(u,{relative:p.relative}),E=Cr(),x=M.useContext(Wh),{navigator:P,basename:V}=M.useContext(rr),N=x!=null&&iC(_)&&h===!0,F=P.encodeLocation?P.encodeLocation(_).pathname:_.pathname,O=E.pathname,B=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(O=O.toLowerCase(),B=B?B.toLowerCase():null,F=F.toLowerCase()),B&&V&&(B=Jr(B,V)||B);const Q=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let J=O===F||!s&&O.startsWith(F)&&O.charAt(Q)==="/",se=B!=null&&(B===F||!s&&B.startsWith(F)&&B.charAt(F.length)==="/"),b={isActive:J,isPending:se,isTransitioning:N},S=J?e:void 0,C;typeof r=="function"?C=r(b):C=[r,J?"active":null,se?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(b):a;return M.createElement(fE,{...p,"aria-current":S,className:C,ref:v,style:D,to:u,viewTransition:h},typeof f=="function"?f(b):f)});XA.displayName="NavLink";var YA=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=th,action:h,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:_,...E},x)=>{let P=nC(),V=rC(h,{relative:p}),N=u.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&dE.test(h),O=B=>{if(f&&f(B),B.defaultPrevented)return;B.preventDefault();let Q=B.nativeEvent.submitter,J=(Q==null?void 0:Q.getAttribute("formmethod"))||u;P(Q||B.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:s,state:a,relative:p,preventScrollReset:v,viewTransition:_})};return M.createElement("form",{ref:x,method:N,action:V,onSubmit:r?f:O,...E,"data-discover":!F&&n==="render"?"true":void 0})});YA.displayName="Form";function JA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pE(n){let e=M.useContext(ma);return tt(e,JA(n)),e}function ZA(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let h=oi(),f=Cr(),p=cu(n,{relative:a});return M.useCallback(v=>{if(kA(v,e)){v.preventDefault();let _=t!==void 0?t:zl(f)===zl(p);h(n,{replace:_,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,h,p,t,r,e,n,s,a,u])}var eC=0,tC=()=>`__${String(++eC)}__`;function nC(){let{router:n}=pE("useSubmit"),{basename:e}=M.useContext(rr),t=wA();return M.useCallback(async(r,s={})=>{let{action:a,method:u,encType:h,formData:f,body:p}=DA(r,e);if(s.navigate===!1){let v=s.fetcherKey||tC();await n.fetch(v,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function rC(n,{relative:e}={}){let{basename:t}=M.useContext(rr),r=M.useContext(Ar);tt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...cu(n||".",{relative:e})},u=Cr();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let v=h.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Qr([t,a.pathname])),zl(a)}function iC(n,e={}){let t=M.useContext(iE);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=pE("useViewTransitionState"),s=cu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Jr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Jr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return yh(s.pathname,u)!=null||yh(s.pathname,a)!=null}[...BA];const sC=()=>{};var u_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},oC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},gE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,v=a>>2,_=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,x=p&63;f||(x=64,u||(E=64)),r.push(t[v],t[_],t[E],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(mE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):oC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||p==null||_==null)throw new aC;const E=a<<2|h>>4;if(r.push(E),p!==64){const x=h<<4&240|p>>2;if(r.push(x),_!==64){const P=p<<6&192|_;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class aC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lC=function(n){const e=mE(n);return gE.encodeByteArray(e,!0)},vh=function(n){return lC(n).replace(/\./g,"")},yE=function(n){try{return gE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=()=>uC().__FIREBASE_DEFAULTS__,hC=()=>{if(typeof process>"u"||typeof u_>"u")return;const n=u_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&yE(n[1]);return e&&JSON.parse(e)},qh=()=>{try{return sC()||cC()||hC()||dC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},vE=n=>{var e,t;return(t=(e=qh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},fC=n=>{const e=vE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},_E=()=>{var n;return(n=qh())===null||n===void 0?void 0:n.config},wE=n=>{var e;return(e=qh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function EE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[vh(JSON.stringify(t)),vh(JSON.stringify(u)),""].join(".")}const bl={};function gC(){const n={prod:[],emulator:[]};for(const e of Object.keys(bl))bl[e]?n.emulator.push(e):n.prod.push(e);return n}function yC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let c_=!1;function TE(n,e){if(typeof window>"u"||typeof document>"u"||!ya(window.location.host)||bl[n]===e||bl[n]||c_)return;bl[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=gC().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,x){E.setAttribute("width","24"),E.setAttribute("id",x),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{c_=!0,u()},E}function v(E,x){E.setAttribute("id",x),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=yC(r),x=t("text"),P=document.getElementById(x)||document.createElement("span"),V=t("learnmore"),N=document.getElementById(V)||document.createElement("a"),F=t("preprendIcon"),O=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const B=E.element;h(B),v(N,V);const Q=p();f(O,F),B.append(O,P,N,Q),document.body.appendChild(B)}a?(P.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function _C(){var n;const e=(n=qh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function TC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SC(){const n=Qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function IC(){return!_C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xC(){try{return typeof indexedDB=="object"}catch{return!1}}function AC(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="FirebaseError";class ai extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=CC,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?PC(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new ai(s,h,r)}}function PC(n,e){return n.replace(RC,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const RC=/\{\$([^}]+)}/g;function kC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function zs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(h_(a)&&h_(u)){if(!zs(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function h_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Al(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function bC(n,e){const t=new NC(n,e);return t.subscribe.bind(t)}class NC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");DC(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Gf),s.error===void 0&&(s.error=Gf),s.complete===void 0&&(s.complete=Gf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Gf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(n){return n&&n._delegate?n._delegate:n}class $s{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new pC;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OC(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LC(n){return n===Vs?void 0:n}function OC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new VC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(be||(be={}));const FC={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},jC=be.INFO,UC={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},BC=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=UC[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vm{constructor(e){this.name=e,this._logLevel=jC,this._logHandler=BC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const zC=(n,e)=>e.some(t=>n instanceof t);let d_,f_;function $C(){return d_||(d_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WC(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SE=new WeakMap,_p=new WeakMap,IE=new WeakMap,Kf=new WeakMap,_m=new WeakMap;function HC(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ui(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&SE.set(t,n)}).catch(()=>{}),_m.set(e,n),e}function qC(n){if(_p.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});_p.set(n,e)}let wp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return _p.get(n);if(e==="objectStoreNames")return n.objectStoreNames||IE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ui(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function GC(n){wp=n(wp)}function KC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Qf(this),e,...t);return IE.set(r,e.sort?e.sort():[e]),Ui(r)}:WC().includes(n)?function(...e){return n.apply(Qf(this),e),Ui(SE.get(this))}:function(...e){return Ui(n.apply(Qf(this),e))}}function QC(n){return typeof n=="function"?KC(n):(n instanceof IDBTransaction&&qC(n),zC(n,$C())?new Proxy(n,wp):n)}function Ui(n){if(n instanceof IDBRequest)return HC(n);if(Kf.has(n))return Kf.get(n);const e=QC(n);return e!==n&&(Kf.set(n,e),_m.set(e,n)),e}const Qf=n=>_m.get(n);function XC(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),h=Ui(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ui(u.result),f.oldVersion,f.newVersion,Ui(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const YC=["get","getKey","getAll","getAllKeys","count"],JC=["put","add","delete","clear"],Xf=new Map;function p_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Xf.get(e))return Xf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=JC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||YC.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),s&&f.done]))[0]};return Xf.set(e,a),a}GC(n=>({...n,get:(e,t,r)=>p_(e,t)||n.get(e,t,r),has:(e,t)=>!!p_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(eP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function eP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ep="@firebase/app",m_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new vm("@firebase/app"),tP="@firebase/app-compat",nP="@firebase/analytics-compat",rP="@firebase/analytics",iP="@firebase/app-check-compat",sP="@firebase/app-check",oP="@firebase/auth",aP="@firebase/auth-compat",lP="@firebase/database",uP="@firebase/data-connect",cP="@firebase/database-compat",hP="@firebase/functions",dP="@firebase/functions-compat",fP="@firebase/installations",pP="@firebase/installations-compat",mP="@firebase/messaging",gP="@firebase/messaging-compat",yP="@firebase/performance",vP="@firebase/performance-compat",_P="@firebase/remote-config",wP="@firebase/remote-config-compat",EP="@firebase/storage",TP="@firebase/storage-compat",SP="@firebase/firestore",IP="@firebase/ai",xP="@firebase/firestore-compat",AP="firebase",CP="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="[DEFAULT]",PP={[Ep]:"fire-core",[tP]:"fire-core-compat",[rP]:"fire-analytics",[nP]:"fire-analytics-compat",[sP]:"fire-app-check",[iP]:"fire-app-check-compat",[oP]:"fire-auth",[aP]:"fire-auth-compat",[lP]:"fire-rtdb",[uP]:"fire-data-connect",[cP]:"fire-rtdb-compat",[hP]:"fire-fn",[dP]:"fire-fn-compat",[fP]:"fire-iid",[pP]:"fire-iid-compat",[mP]:"fire-fcm",[gP]:"fire-fcm-compat",[yP]:"fire-perf",[vP]:"fire-perf-compat",[_P]:"fire-rc",[wP]:"fire-rc-compat",[EP]:"fire-gcs",[TP]:"fire-gcs-compat",[SP]:"fire-fst",[xP]:"fire-fst-compat",[IP]:"fire-vertex","fire-js":"fire-js",[AP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,RP=new Map,Sp=new Map;function g_(n,e){try{n.container.addComponent(e)}catch(t){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function oa(n){const e=n.name;if(Sp.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;Sp.set(e,n);for(const t of _h.values())g_(t,n);for(const t of RP.values())g_(t,n);return!0}function wm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _n(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new hu("app","Firebase",kP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=CP;function xE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tp,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Bi.create("bad-app-name",{appName:String(s)});if(t||(t=_E()),!t)throw Bi.create("no-options");const a=_h.get(s);if(a){if(zs(t,a.options)&&zs(r,a.config))return a;throw Bi.create("duplicate-app",{appName:s})}const u=new MC(s);for(const f of Sp.values())u.addComponent(f);const h=new bP(t,r,u);return _h.set(s,h),h}function AE(n=Tp){const e=_h.get(n);if(!e&&n===Tp&&_E())return xE();if(!e)throw Bi.create("no-app",{appName:n});return e}function zi(n,e,t){var r;let s=(r=PP[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(h.join(" "));return}oa(new $s(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="firebase-heartbeat-database",DP=1,$l="firebase-heartbeat-store";let Yf=null;function CE(){return Yf||(Yf=XC(NP,DP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($l)}catch(t){console.warn(t)}}}}).catch(n=>{throw Bi.create("idb-open",{originalErrorMessage:n.message})})),Yf}async function VP(n){try{const t=(await CE()).transaction($l),r=await t.objectStore($l).get(PE(n));return await t.done,r}catch(e){if(e instanceof ai)Zr.warn(e.message);else{const t=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zr.warn(t.message)}}}async function y_(n,e){try{const r=(await CE()).transaction($l,"readwrite");await r.objectStore($l).put(e,PE(n)),await r.done}catch(t){if(t instanceof ai)Zr.warn(t.message);else{const r=Bi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Zr.warn(r.message)}}}function PE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=1024,OP=30;class MP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jP(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=v_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>OP){const u=UP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=v_(),{heartbeatsToSend:r,unsentEntries:s}=FP(this._heartbeatsCache.heartbeats),a=vh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Zr.warn(t),""}}}function v_(){return new Date().toISOString().substring(0,10)}function FP(n,e=LP){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),__(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),__(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class jP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xC()?AC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await VP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return y_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return y_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function __(n){return vh(JSON.stringify({version:2,heartbeats:n})).length}function UP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(n){oa(new $s("platform-logger",e=>new ZC(e),"PRIVATE")),oa(new $s("heartbeat",e=>new MP(e),"PRIVATE")),zi(Ep,m_,n),zi(Ep,m_,"esm2017"),zi("fire-js","")}BP("");function Em(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function RE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zP=RE,kE=new hu("auth","Firebase",RE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new vm("@firebase/auth");function $P(n,...e){wh.logLevel<=be.WARN&&wh.warn(`Auth (${va}): ${n}`,...e)}function rh(n,...e){wh.logLevel<=be.ERROR&&wh.error(`Auth (${va}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(n,...e){throw Sm(n,...e)}function tr(n,...e){return Sm(n,...e)}function Tm(n,e,t){const r=Object.assign(Object.assign({},zP()),{[e]:t});return new hu("auth","Firebase",r).create(e,{appName:n.name})}function Xr(n){return Tm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WP(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&On(n,"argument-error"),Tm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return kE.create(n,...e)}function we(n,e,...t){if(!n)throw Sm(e,...t)}function Gr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw rh(e),new Error(e)}function ei(n,e){n||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function HP(){return w_()==="http:"||w_()==="https:"}function w_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HP()||EC()||"connection"in navigator)?navigator.onLine:!0}function GP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ei(t>e,"Short delay should be less than long delay!"),this.isMobile=vC()||TC()}get(){return qP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(n,e){ei(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XP=new fu(3e4,6e4);function ts(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ns(n,e,t,r,s={}){return NE(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=du(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return wC()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&ya(n.emulatorConfig.host)&&(p.credentials="include"),bE.fetch()(await DE(n,n.config.apiHost,t,h),p)})}async function NE(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},KP),e);try{const s=new JP(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw $c(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw $c(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw $c(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Tm(n,v,p);On(n,v)}}catch(s){if(s instanceof ai)throw s;On(n,"network-request-failed",{message:String(s)})}}async function pu(n,e,t,r,s={}){const a=await ns(n,e,t,r,s);return"mfaPendingCredential"in a&&On(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function DE(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?Im(n.config,s):`${n.config.apiScheme}://${s}`;return QP.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function YP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(tr(this.auth,"network-request-failed")),XP.get())})}}function $c(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=tr(n,e,r);return s.customData._tokenResponse=t,s}function E_(n){return n!==void 0&&n.enterprise!==void 0}class ZP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return YP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eR(n,e){return ns(n,"GET","/v2/recaptchaConfig",ts(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(n,e){return ns(n,"POST","/v1/accounts:delete",e)}async function Eh(n,e){return ns(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nR(n,e=!1){const t=wn(n),r=await t.getIdToken(e),s=xm(r);we(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Nl(Jf(s.auth_time)),issuedAtTime:Nl(Jf(s.iat)),expirationTime:Nl(Jf(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Jf(n){return Number(n)*1e3}function xm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const s=yE(t);return s?JSON.parse(s):(rh("Failed to decode base64 JWT payload"),null)}catch(s){return rh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function T_(n){const e=xm(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ai&&rR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function rR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Wl(n,Eh(t,{idToken:r}));we(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?VE(a.providerUserInfo):[],h=oR(n.providerData,u),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),v=f?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new xp(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,_)}async function sR(n){const e=wn(n);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oR(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function VE(n){return n.map(e=>{var{providerId:t}=e,r=Em(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(n,e){const t=await NE(n,{},async()=>{const r=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await DE(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&ya(n.emulatorConfig.host)&&(f.credentials="include"),bE.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function lR(n,e){return ns(n,"POST","/v2/accounts:revokeToken",ts(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=T_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await aR(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new ea;return r&&(we(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(we(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(we(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ea,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zn{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=Em(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new xp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return nR(this,e)}reload(){return sR(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Xr(this.auth));const e=await this.getIdToken();return await Wl(this,tR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,h,f,p,v;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,x=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,P=(u=t.photoURL)!==null&&u!==void 0?u:void 0,V=(h=t.tenantId)!==null&&h!==void 0?h:void 0,N=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,F=(p=t.createdAt)!==null&&p!==void 0?p:void 0,O=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:B,emailVerified:Q,isAnonymous:J,providerData:se,stsTokenManager:b}=t;we(B&&b,e,"internal-error");const S=ea.fromJSON(this.name,b);we(typeof B=="string",e,"internal-error"),Di(_,e.name),Di(E,e.name),we(typeof Q=="boolean",e,"internal-error"),we(typeof J=="boolean",e,"internal-error"),Di(x,e.name),Di(P,e.name),Di(V,e.name),Di(N,e.name),Di(F,e.name),Di(O,e.name);const C=new Zn({uid:B,auth:e,email:E,emailVerified:Q,displayName:_,isAnonymous:J,photoURL:P,phoneNumber:x,tenantId:V,stsTokenManager:S,createdAt:F,lastLoginAt:O});return se&&Array.isArray(se)&&(C.providerData=se.map(D=>Object.assign({},D))),N&&(C._redirectEventId=N),C}static async _fromIdTokenResponse(e,t,r=!1){const s=new ea;s.updateFromServerResponse(t);const a=new Zn({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Th(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];we(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?VE(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new ea;h.updateFromIdToken(r);const f=new Zn({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new xp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=new Map;function Kr(n){ei(n instanceof Function,"Expected a class definition");let e=S_.get(n);return e?(ei(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,S_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}LE.type="NONE";const I_=LE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(n,e,t){return`firebase:${n}:${e}:${t}`}class ta{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=ih(this.userKey,s.apiKey,a),this.fullPersistenceKey=ih("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Eh(this.auth,{idToken:e}).catch(()=>{});return t?Zn._fromGetAccountInfoResponse(this.auth,t,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ta(Kr(I_),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Kr(I_);const u=ih(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const v=await p._get(u);if(v){let _;if(typeof v=="string"){const E=await Eh(e,{idToken:v}).catch(()=>{});if(!E)break;_=await Zn._fromGetAccountInfoResponse(e,E,v)}else _=Zn._fromJSON(e,v);p!==a&&(h=_),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ta(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new ta(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BE(e))return"Blackberry";if(zE(e))return"Webos";if(ME(e))return"Safari";if((e.includes("chrome/")||FE(e))&&!e.includes("edge/"))return"Chrome";if(UE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function OE(n=Qt()){return/firefox\//i.test(n)}function ME(n=Qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FE(n=Qt()){return/crios\//i.test(n)}function jE(n=Qt()){return/iemobile/i.test(n)}function UE(n=Qt()){return/android/i.test(n)}function BE(n=Qt()){return/blackberry/i.test(n)}function zE(n=Qt()){return/webos/i.test(n)}function Am(n=Qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uR(n=Qt()){var e;return Am(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cR(){return SC()&&document.documentMode===10}function $E(n=Qt()){return Am(n)||UE(n)||zE(n)||BE(n)||/windows phone/i.test(n)||jE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(n,e=[]){let t;switch(n){case"Browser":t=x_(Qt());break;case"Worker":t=`${x_(Qt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${va}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(n,e={}){return ns(n,"GET","/v2/passwordPolicy",ts(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=6;class pR{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:fR,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A_(this),this.idTokenSubscription=new A_(this),this.beforeStateQueue=new hR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Kr(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await ta.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Eh(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(_n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(Xr(this));const t=e?wn(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(Xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dR(this),t=new pR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await lR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Kr(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await ta.create(this,[Kr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&$P(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function rs(n){return wn(n)}class A_{constructor(e){this.auth=e,this.observer=null,this.addObserver=bC(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gR(n){Gh=n}function HE(n){return Gh.loadJS(n)}function yR(){return Gh.recaptchaEnterpriseScript}function vR(){return Gh.gapiScript}function _R(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class wR{constructor(){this.enterprise=new ER}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ER{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const TR="recaptcha-enterprise",qE="NO_RECAPTCHA";class SR{constructor(e){this.type=TR,this.auth=rs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{eR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new ZP(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function s(a,u,h){const f=window.grecaptcha;E_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(qE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wR().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!t&&E_(window.grecaptcha))s(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=yR();f.length!==0&&(f+=h),HE(f).then(()=>{s(h,a,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function C_(n,e,t,r=!1,s=!1){const a=new SR(n);let u;if(s)u=qE;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ap(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await C_(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await C_(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(n,e){const t=wm(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(zs(a,e??{}))return s;On(s,"already-initialized")}return t.initialize({options:e})}function xR(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Kr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AR(n,e,t){const r=rs(n);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=GE(e),{host:u,port:h}=CR(e),f=h===null?"":`:${h}`,p={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(zs(p,r.config.emulator)&&zs(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ya(u)?(EE(`${a}//${u}${f}`),TE("Auth",!0)):PR()}function GE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function CR(n){const e=GE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:P_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:P_(u)}}}function P_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function PR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,t){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}async function RR(n,e){return ns(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(n,e){return pu(n,"POST","/v1/accounts:signInWithPassword",ts(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(n,e){return pu(n,"POST","/v1/accounts:signInWithEmailLink",ts(n,e))}async function NR(n,e){return pu(n,"POST","/v1/accounts:signInWithEmailLink",ts(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends Cm{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Hl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Hl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ap(e,t,"signInWithPassword",kR);case"emailLink":return bR(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ap(e,r,"signUpPassword",RR);case"emailLink":return NR(e,{idToken:t,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(n,e){return pu(n,"POST","/v1/accounts:signInWithIdp",ts(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="http://localhost";class Ws extends Cm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):On("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=Em(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Ws(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return na(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,na(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,na(e,t)}buildRequest(){const e={requestUri:DR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=du(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LR(n){const e=xl(Al(n)).link,t=e?xl(Al(e)).deep_link_id:null,r=xl(Al(n)).deep_link_id;return(r?xl(Al(r)).link:null)||r||t||e||n}class Pm{constructor(e){var t,r,s,a,u,h;const f=xl(Al(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(r=f.oobCode)!==null&&r!==void 0?r:null,_=VR((s=f.mode)!==null&&s!==void 0?s:null);we(p&&v&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=LR(e);try{return new Pm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.providerId=_a.PROVIDER_ID}static credential(e,t){return Hl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Pm.parseLink(t);return we(r,"argument-error"),Hl._fromEmailAndCode(e,r.code,r.tenantId)}}_a.PROVIDER_ID="password";_a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Rm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends mu{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ws._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return qr.credential(t,r)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends mu{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends mu{constructor(){super("twitter.com")}static credential(e,t){return Ws._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(n,e){return pu(n,"POST","/v1/accounts:signUp",ts(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Zn._fromIdTokenResponse(e,r,s),u=R_(r);return new Hs({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=R_(r);return new Hs({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function R_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends ai{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Sh(e,t,r,s)}}function KE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(n,a,e,r):a})}async function MR(n,e,t=!1){const r=await Wl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Hs._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(n,e,t=!1){const{auth:r}=n;if(_n(r.app))return Promise.reject(Xr(r));const s="reauthenticate";try{const a=await Wl(n,KE(r,s,e,n),t);we(a.idToken,r,"internal-error");const u=xm(a.idToken);we(u,r,"internal-error");const{sub:h}=u;return we(n.uid===h,r,"user-mismatch"),Hs._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&On(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QE(n,e,t=!1){if(_n(n.app))return Promise.reject(Xr(n));const r="signIn",s=await KE(n,r,e),a=await Hs._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function jR(n,e){return QE(rs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XE(n){const e=rs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UR(n,e,t){if(_n(n.app))return Promise.reject(Xr(n));const r=rs(n),u=await Ap(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OR).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&XE(n),f}),h=await Hs._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function BR(n,e,t){return _n(n.app)?Promise.reject(Xr(n)):jR(wn(n),_a.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XE(n),r})}function zR(n,e,t,r){return wn(n).onIdTokenChanged(e,t,r)}function $R(n,e,t){return wn(n).beforeAuthStateChanged(e,t)}function WR(n){return wn(n).signOut()}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=1e3,qR=10;class JE extends YE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$E(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);cR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,qR):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},HR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}JE.type="LOCAL";const GR=JE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends YE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ZE.type="SESSION";const eT=ZE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Kh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async p=>p(t.origin,a)),f=await KR(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const p=km("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function XR(n){gr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function YR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function ZR(){return tT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="firebaseLocalStorageDb",ek=1,xh="firebaseLocalStorage",rT="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qh(n,e){return n.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function tk(){const n=indexedDB.deleteDatabase(nT);return new gu(n).toPromise()}function Cp(){const n=indexedDB.open(nT,ek);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(xh,{keyPath:rT})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(xh)?e(r):(r.close(),await tk(),e(await Cp()))})})}async function k_(n,e,t){const r=Qh(n,!0).put({[rT]:e,value:t});return new gu(r).toPromise()}async function nk(n,e){const t=Qh(n,!1).get(e),r=await new gu(t).toPromise();return r===void 0?null:r.value}function b_(n,e){const t=Qh(n,!0).delete(e);return new gu(t).toPromise()}const rk=800,ik=3;class iT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>ik)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(ZR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await YR(),!this.activeServiceWorker)return;this.sender=new QR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cp();return await k_(e,Ih,"1"),await b_(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>k_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>nk(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>b_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Qh(s,!1).getAll();return new gu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iT.type="LOCAL";const sk=iT;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(n,e){return e?Kr(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends Cm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return na(e,this._buildIdpRequest())}_linkToIdToken(e,t){return na(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return na(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ok(n){return QE(n.auth,new bm(n),n.bypassAuthState)}function ak(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),FR(t,new bm(n),n.bypassAuthState)}async function lk(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),MR(t,new bm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ok;case"linkViaPopup":case"linkViaRedirect":return lk;case"reauthViaPopup":case"reauthViaRedirect":return ak;default:On(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=new fu(2e3,1e4);async function aT(n,e,t){if(_n(n.app))return Promise.reject(tr(n,"operation-not-supported-in-this-environment"));const r=rs(n);WP(n,e,Rm);const s=sT(r,t);return new Os(r,"signInViaPopup",e,s).executeNotNull()}class Os extends oT{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Os.currentPopupAction&&Os.currentPopupAction.cancel(),Os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uk.get())};e()}}Os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="pendingRedirect",sh=new Map;class hk extends oT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const r=await dk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dk(n,e){const t=mk(e),r=pk(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function fk(n,e){sh.set(n._key(),e)}function pk(n){return Kr(n._redirectPersistence)}function mk(n){return ih(ck,n.config.apiKey,n.name)}async function gk(n,e,t=!1){if(_n(n.app))return Promise.reject(Xr(n));const r=rs(n),s=sT(r,e),u=await new hk(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=10*60*1e3;class vk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_k(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!lT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(tr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yk&&this.cachedEventUids.clear(),this.cachedEventUids.has(N_(e))}saveEventToCache(e){this.cachedEventUids.add(N_(e)),this.lastProcessedEventTime=Date.now()}}function N_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function lT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _k(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk(n,e={}){return ns(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tk=/^https?/;async function Sk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wk(n);for(const t of e)try{if(Ik(t))return}catch{}On(n,"unauthorized-domain")}function Ik(n){const e=Ip(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!Tk.test(t))return!1;if(Ek.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=new fu(3e4,6e4);function D_(){const n=gr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Ak(n){return new Promise((e,t)=>{var r,s,a;function u(){D_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{D_(),t(tr(n,"network-request-failed"))},timeout:xk.get()})}if(!((s=(r=gr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=gr().gapi)===null||a===void 0)&&a.load)u();else{const h=_R("iframefcb");return gr()[h]=()=>{gapi.load?u():t(tr(n,"network-request-failed"))},HE(`${vR()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw oh=null,e})}let oh=null;function Ck(n){return oh=oh||Ak(n),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=new fu(5e3,15e3),Rk="__/auth/iframe",kk="emulator/auth/iframe",bk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dk(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Im(e,kk):`https://${n.config.authDomain}/${Rk}`,r={apiKey:e.apiKey,appName:n.name,v:va},s=Nk.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${du(r).slice(1)}`}async function Vk(n){const e=await Ck(n),t=gr().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:Dk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bk,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=tr(n,"network-request-failed"),h=gr().setTimeout(()=>{a(u)},Pk.get());function f(){gr().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ok=500,Mk=600,Fk="_blank",jk="http://localhost";class V_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uk(n,e,t,r=Ok,s=Mk){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},Lk),{width:r.toString(),height:s.toString(),top:a,left:u}),p=Qt().toLowerCase();t&&(h=FE(p)?Fk:t),OE(p)&&(e=e||jk,f.scrollbars="yes");const v=Object.entries(f).reduce((E,[x,P])=>`${E}${x}=${P},`,"");if(uR(p)&&h!=="_self")return Bk(e||"",h),new V_(null);const _=window.open(e||"",h,v);we(_,n,"popup-blocked");try{_.focus()}catch{}return new V_(_)}function Bk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="__/auth/handler",$k="emulator/auth/handler",Wk=encodeURIComponent("fac");async function L_(n,e,t,r,s,a){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:va,eventId:s};if(e instanceof Rm){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",kC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof mu){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),p=f?`#${Wk}=${encodeURIComponent(f)}`:"";return`${Hk(n)}?${du(h).slice(1)}${p}`}function Hk({config:n}){return n.emulator?Im(n,$k):`https://${n.authDomain}/${zk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="webStorageSupport";class qk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eT,this._completeRedirectFn=gk,this._overrideRedirectResult=fk}async _openPopup(e,t,r,s){var a;ei((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await L_(e,t,r,Ip(),s);return Uk(e,u,km())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await L_(e,t,r,Ip(),s);return XR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ei(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Vk(e),r=new vk(e);return t.register("authEvent",s=>(we(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zf,{type:Zf},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Zf];u!==void 0&&t(!!u),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Sk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $E()||ME()||Am()}}const Gk=qk;var O_="@firebase/auth",M_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xk(n){oa(new $s("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WE(n)},p=new mR(r,s,a,f);return xR(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),oa(new $s("auth-internal",e=>{const t=rs(e.getProvider("auth").getImmediate());return(r=>new Kk(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(O_,M_,Qk(n)),zi(O_,M_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=5*60,Jk=wE("authIdTokenMaxAge")||Yk;let F_=null;const Zk=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Jk)return;const s=t==null?void 0:t.token;F_!==s&&(F_=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function eb(n=AE()){const e=wm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=IR(n,{popupRedirectResolver:Gk,persistence:[sk,GR,eT]}),r=wE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=Zk(a.toString());$R(t,u,()=>u(t.currentUser)),zR(t,h=>u(h))}}const s=vE("auth");return s&&AR(t,`http://${s}`),t}function tb(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}gR({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=tr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",tb().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xk("Browser");var nb="firebase",rb="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi(nb,rb,"app");var j_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $i,uT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,S){function C(){}C.prototype=S.prototype,b.D=S.prototype,b.prototype=new C,b.prototype.constructor=b,b.C=function(D,j,z){for(var k=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)k[$e-2]=arguments[$e];return S.prototype[j].apply(D,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,S,C){C||(C=0);var D=Array(16);if(typeof S=="string")for(var j=0;16>j;++j)D[j]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(j=0;16>j;++j)D[j]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=b.g[0],C=b.g[1],j=b.g[2];var z=b.g[3],k=S+(z^C&(j^z))+D[0]+3614090360&4294967295;S=C+(k<<7&4294967295|k>>>25),k=z+(j^S&(C^j))+D[1]+3905402710&4294967295,z=S+(k<<12&4294967295|k>>>20),k=j+(C^z&(S^C))+D[2]+606105819&4294967295,j=z+(k<<17&4294967295|k>>>15),k=C+(S^j&(z^S))+D[3]+3250441966&4294967295,C=j+(k<<22&4294967295|k>>>10),k=S+(z^C&(j^z))+D[4]+4118548399&4294967295,S=C+(k<<7&4294967295|k>>>25),k=z+(j^S&(C^j))+D[5]+1200080426&4294967295,z=S+(k<<12&4294967295|k>>>20),k=j+(C^z&(S^C))+D[6]+2821735955&4294967295,j=z+(k<<17&4294967295|k>>>15),k=C+(S^j&(z^S))+D[7]+4249261313&4294967295,C=j+(k<<22&4294967295|k>>>10),k=S+(z^C&(j^z))+D[8]+1770035416&4294967295,S=C+(k<<7&4294967295|k>>>25),k=z+(j^S&(C^j))+D[9]+2336552879&4294967295,z=S+(k<<12&4294967295|k>>>20),k=j+(C^z&(S^C))+D[10]+4294925233&4294967295,j=z+(k<<17&4294967295|k>>>15),k=C+(S^j&(z^S))+D[11]+2304563134&4294967295,C=j+(k<<22&4294967295|k>>>10),k=S+(z^C&(j^z))+D[12]+1804603682&4294967295,S=C+(k<<7&4294967295|k>>>25),k=z+(j^S&(C^j))+D[13]+4254626195&4294967295,z=S+(k<<12&4294967295|k>>>20),k=j+(C^z&(S^C))+D[14]+2792965006&4294967295,j=z+(k<<17&4294967295|k>>>15),k=C+(S^j&(z^S))+D[15]+1236535329&4294967295,C=j+(k<<22&4294967295|k>>>10),k=S+(j^z&(C^j))+D[1]+4129170786&4294967295,S=C+(k<<5&4294967295|k>>>27),k=z+(C^j&(S^C))+D[6]+3225465664&4294967295,z=S+(k<<9&4294967295|k>>>23),k=j+(S^C&(z^S))+D[11]+643717713&4294967295,j=z+(k<<14&4294967295|k>>>18),k=C+(z^S&(j^z))+D[0]+3921069994&4294967295,C=j+(k<<20&4294967295|k>>>12),k=S+(j^z&(C^j))+D[5]+3593408605&4294967295,S=C+(k<<5&4294967295|k>>>27),k=z+(C^j&(S^C))+D[10]+38016083&4294967295,z=S+(k<<9&4294967295|k>>>23),k=j+(S^C&(z^S))+D[15]+3634488961&4294967295,j=z+(k<<14&4294967295|k>>>18),k=C+(z^S&(j^z))+D[4]+3889429448&4294967295,C=j+(k<<20&4294967295|k>>>12),k=S+(j^z&(C^j))+D[9]+568446438&4294967295,S=C+(k<<5&4294967295|k>>>27),k=z+(C^j&(S^C))+D[14]+3275163606&4294967295,z=S+(k<<9&4294967295|k>>>23),k=j+(S^C&(z^S))+D[3]+4107603335&4294967295,j=z+(k<<14&4294967295|k>>>18),k=C+(z^S&(j^z))+D[8]+1163531501&4294967295,C=j+(k<<20&4294967295|k>>>12),k=S+(j^z&(C^j))+D[13]+2850285829&4294967295,S=C+(k<<5&4294967295|k>>>27),k=z+(C^j&(S^C))+D[2]+4243563512&4294967295,z=S+(k<<9&4294967295|k>>>23),k=j+(S^C&(z^S))+D[7]+1735328473&4294967295,j=z+(k<<14&4294967295|k>>>18),k=C+(z^S&(j^z))+D[12]+2368359562&4294967295,C=j+(k<<20&4294967295|k>>>12),k=S+(C^j^z)+D[5]+4294588738&4294967295,S=C+(k<<4&4294967295|k>>>28),k=z+(S^C^j)+D[8]+2272392833&4294967295,z=S+(k<<11&4294967295|k>>>21),k=j+(z^S^C)+D[11]+1839030562&4294967295,j=z+(k<<16&4294967295|k>>>16),k=C+(j^z^S)+D[14]+4259657740&4294967295,C=j+(k<<23&4294967295|k>>>9),k=S+(C^j^z)+D[1]+2763975236&4294967295,S=C+(k<<4&4294967295|k>>>28),k=z+(S^C^j)+D[4]+1272893353&4294967295,z=S+(k<<11&4294967295|k>>>21),k=j+(z^S^C)+D[7]+4139469664&4294967295,j=z+(k<<16&4294967295|k>>>16),k=C+(j^z^S)+D[10]+3200236656&4294967295,C=j+(k<<23&4294967295|k>>>9),k=S+(C^j^z)+D[13]+681279174&4294967295,S=C+(k<<4&4294967295|k>>>28),k=z+(S^C^j)+D[0]+3936430074&4294967295,z=S+(k<<11&4294967295|k>>>21),k=j+(z^S^C)+D[3]+3572445317&4294967295,j=z+(k<<16&4294967295|k>>>16),k=C+(j^z^S)+D[6]+76029189&4294967295,C=j+(k<<23&4294967295|k>>>9),k=S+(C^j^z)+D[9]+3654602809&4294967295,S=C+(k<<4&4294967295|k>>>28),k=z+(S^C^j)+D[12]+3873151461&4294967295,z=S+(k<<11&4294967295|k>>>21),k=j+(z^S^C)+D[15]+530742520&4294967295,j=z+(k<<16&4294967295|k>>>16),k=C+(j^z^S)+D[2]+3299628645&4294967295,C=j+(k<<23&4294967295|k>>>9),k=S+(j^(C|~z))+D[0]+4096336452&4294967295,S=C+(k<<6&4294967295|k>>>26),k=z+(C^(S|~j))+D[7]+1126891415&4294967295,z=S+(k<<10&4294967295|k>>>22),k=j+(S^(z|~C))+D[14]+2878612391&4294967295,j=z+(k<<15&4294967295|k>>>17),k=C+(z^(j|~S))+D[5]+4237533241&4294967295,C=j+(k<<21&4294967295|k>>>11),k=S+(j^(C|~z))+D[12]+1700485571&4294967295,S=C+(k<<6&4294967295|k>>>26),k=z+(C^(S|~j))+D[3]+2399980690&4294967295,z=S+(k<<10&4294967295|k>>>22),k=j+(S^(z|~C))+D[10]+4293915773&4294967295,j=z+(k<<15&4294967295|k>>>17),k=C+(z^(j|~S))+D[1]+2240044497&4294967295,C=j+(k<<21&4294967295|k>>>11),k=S+(j^(C|~z))+D[8]+1873313359&4294967295,S=C+(k<<6&4294967295|k>>>26),k=z+(C^(S|~j))+D[15]+4264355552&4294967295,z=S+(k<<10&4294967295|k>>>22),k=j+(S^(z|~C))+D[6]+2734768916&4294967295,j=z+(k<<15&4294967295|k>>>17),k=C+(z^(j|~S))+D[13]+1309151649&4294967295,C=j+(k<<21&4294967295|k>>>11),k=S+(j^(C|~z))+D[4]+4149444226&4294967295,S=C+(k<<6&4294967295|k>>>26),k=z+(C^(S|~j))+D[11]+3174756917&4294967295,z=S+(k<<10&4294967295|k>>>22),k=j+(S^(z|~C))+D[2]+718787259&4294967295,j=z+(k<<15&4294967295|k>>>17),k=C+(z^(j|~S))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+S&4294967295,b.g[1]=b.g[1]+(j+(k<<21&4294967295|k>>>11))&4294967295,b.g[2]=b.g[2]+j&4294967295,b.g[3]=b.g[3]+z&4294967295}r.prototype.u=function(b,S){S===void 0&&(S=b.length);for(var C=S-this.blockSize,D=this.B,j=this.h,z=0;z<S;){if(j==0)for(;z<=C;)s(this,b,z),z+=this.blockSize;if(typeof b=="string"){for(;z<S;)if(D[j++]=b.charCodeAt(z++),j==this.blockSize){s(this,D),j=0;break}}else for(;z<S;)if(D[j++]=b[z++],j==this.blockSize){s(this,D),j=0;break}}this.h=j,this.o+=S},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var S=1;S<b.length-8;++S)b[S]=0;var C=8*this.o;for(S=b.length-8;S<b.length;++S)b[S]=C&255,C/=256;for(this.u(b),b=Array(16),S=C=0;4>S;++S)for(var D=0;32>D;D+=8)b[C++]=this.g[S]>>>D&255;return b};function a(b,S){var C=h;return Object.prototype.hasOwnProperty.call(C,b)?C[b]:C[b]=S(b)}function u(b,S){this.h=S;for(var C=[],D=!0,j=b.length-1;0<=j;j--){var z=b[j]|0;D&&z==S||(C[j]=z,D=!1)}this.g=C}var h={};function f(b){return-128<=b&&128>b?a(b,function(S){return new u([S|0],0>S?-1:0)}):new u([b|0],0>b?-1:0)}function p(b){if(isNaN(b)||!isFinite(b))return _;if(0>b)return N(p(-b));for(var S=[],C=1,D=0;b>=C;D++)S[D]=b/C|0,C*=4294967296;return new u(S,0)}function v(b,S){if(b.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b.charAt(0)=="-")return N(v(b.substring(1),S));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(S,8)),D=_,j=0;j<b.length;j+=8){var z=Math.min(8,b.length-j),k=parseInt(b.substring(j,j+z),S);8>z?(z=p(Math.pow(S,z)),D=D.j(z).add(p(k))):(D=D.j(C),D=D.add(p(k)))}return D}var _=f(0),E=f(1),x=f(16777216);n=u.prototype,n.m=function(){if(V(this))return-N(this).m();for(var b=0,S=1,C=0;C<this.g.length;C++){var D=this.i(C);b+=(0<=D?D:4294967296+D)*S,S*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(P(this))return"0";if(V(this))return"-"+N(this).toString(b);for(var S=p(Math.pow(b,6)),C=this,D="";;){var j=Q(C,S).g;C=F(C,j.j(S));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(b);if(C=j,P(C))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function P(b){if(b.h!=0)return!1;for(var S=0;S<b.g.length;S++)if(b.g[S]!=0)return!1;return!0}function V(b){return b.h==-1}n.l=function(b){return b=F(this,b),V(b)?-1:P(b)?0:1};function N(b){for(var S=b.g.length,C=[],D=0;D<S;D++)C[D]=~b.g[D];return new u(C,~b.h).add(E)}n.abs=function(){return V(this)?N(this):this},n.add=function(b){for(var S=Math.max(this.g.length,b.g.length),C=[],D=0,j=0;j<=S;j++){var z=D+(this.i(j)&65535)+(b.i(j)&65535),k=(z>>>16)+(this.i(j)>>>16)+(b.i(j)>>>16);D=k>>>16,z&=65535,k&=65535,C[j]=k<<16|z}return new u(C,C[C.length-1]&-2147483648?-1:0)};function F(b,S){return b.add(N(S))}n.j=function(b){if(P(this)||P(b))return _;if(V(this))return V(b)?N(this).j(N(b)):N(N(this).j(b));if(V(b))return N(this.j(N(b)));if(0>this.l(x)&&0>b.l(x))return p(this.m()*b.m());for(var S=this.g.length+b.g.length,C=[],D=0;D<2*S;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(var j=0;j<b.g.length;j++){var z=this.i(D)>>>16,k=this.i(D)&65535,$e=b.i(j)>>>16,dt=b.i(j)&65535;C[2*D+2*j]+=k*dt,O(C,2*D+2*j),C[2*D+2*j+1]+=z*dt,O(C,2*D+2*j+1),C[2*D+2*j+1]+=k*$e,O(C,2*D+2*j+1),C[2*D+2*j+2]+=z*$e,O(C,2*D+2*j+2)}for(D=0;D<S;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=S;D<2*S;D++)C[D]=0;return new u(C,0)};function O(b,S){for(;(b[S]&65535)!=b[S];)b[S+1]+=b[S]>>>16,b[S]&=65535,S++}function B(b,S){this.g=b,this.h=S}function Q(b,S){if(P(S))throw Error("division by zero");if(P(b))return new B(_,_);if(V(b))return S=Q(N(b),S),new B(N(S.g),N(S.h));if(V(S))return S=Q(b,N(S)),new B(N(S.g),S.h);if(30<b.g.length){if(V(b)||V(S))throw Error("slowDivide_ only works with positive integers.");for(var C=E,D=S;0>=D.l(b);)C=J(C),D=J(D);var j=se(C,1),z=se(D,1);for(D=se(D,2),C=se(C,2);!P(D);){var k=z.add(D);0>=k.l(b)&&(j=j.add(C),z=k),D=se(D,1),C=se(C,1)}return S=F(b,j.j(S)),new B(j,S)}for(j=_;0<=b.l(S);){for(C=Math.max(1,Math.floor(b.m()/S.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=p(C),k=z.j(S);V(k)||0<k.l(b);)C-=D,z=p(C),k=z.j(S);P(z)&&(z=E),j=j.add(z),b=F(b,k)}return new B(j,b)}n.A=function(b){return Q(this,b).h},n.and=function(b){for(var S=Math.max(this.g.length,b.g.length),C=[],D=0;D<S;D++)C[D]=this.i(D)&b.i(D);return new u(C,this.h&b.h)},n.or=function(b){for(var S=Math.max(this.g.length,b.g.length),C=[],D=0;D<S;D++)C[D]=this.i(D)|b.i(D);return new u(C,this.h|b.h)},n.xor=function(b){for(var S=Math.max(this.g.length,b.g.length),C=[],D=0;D<S;D++)C[D]=this.i(D)^b.i(D);return new u(C,this.h^b.h)};function J(b){for(var S=b.g.length+1,C=[],D=0;D<S;D++)C[D]=b.i(D)<<1|b.i(D-1)>>>31;return new u(C,b.h)}function se(b,S){var C=S>>5;S%=32;for(var D=b.g.length-C,j=[],z=0;z<D;z++)j[z]=0<S?b.i(z+C)>>>S|b.i(z+C+1)<<32-S:b.i(z+C);return new u(j,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,$i=u}).apply(typeof j_<"u"?j_:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cT,Cl,hT,ah,Pp,dT,fT,pT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,w){return c==Array.prototype||c==Object.prototype||(c[g]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var g=0;g<c.length;++g){var w=c[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var w=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var W=c[I];if(!(W in w))break e;w=w[W]}c=c[c.length-1],I=w[c],g=g(I),g!=I&&g!=null&&e(w,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var w=0,I=!1,W={next:function(){if(!I&&w<c.length){var K=w++;return{value:g(K,c[K]),done:!1}}return I=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,w){return c.call.apply(c.bind,arguments)}function _(c,g,w){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,I),c.apply(g,W)}}return function(){return c.apply(g,arguments)}}function E(c,g,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:_,E.apply(null,arguments)}function x(c,g){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function P(c,g){function w(){}w.prototype=g.prototype,c.aa=g.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(I,W,K){for(var oe=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)oe[ze-2]=arguments[ze];return g.prototype[W].apply(I,oe)}}function V(c){const g=c.length;if(0<g){const w=Array(g);for(let I=0;I<g;I++)w[I]=c[I];return w}return[]}function N(c,g){for(let w=1;w<arguments.length;w++){const I=arguments[w];if(f(I)){const W=c.length||0,K=I.length||0;c.length=W+K;for(let oe=0;oe<K;oe++)c[W+oe]=I[oe]}else c.push(I)}}class F{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function O(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function Q(c){return Q[" "](c),c}Q[" "]=function(){};var J=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function se(c,g,w){for(const I in c)g.call(w,c[I],I,c)}function b(c,g){for(const w in c)g.call(void 0,c[w],w,c)}function S(c){const g={};for(const w in c)g[w]=c[w];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let w,I;for(let W=1;W<arguments.length;W++){I=arguments[W];for(w in I)c[w]=I[w];for(let K=0;K<C.length;K++)w=C[K],Object.prototype.hasOwnProperty.call(I,w)&&(c[w]=I[w])}}function j(c){var g=1;c=c.split(":");const w=[];for(;0<g&&c.length;)w.push(c.shift()),g--;return c.length&&w.push(c.join(":")),w}function z(c){h.setTimeout(()=>{throw c},0)}function k(){var c=me;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class $e{constructor(){this.h=this.g=null}add(g,w){const I=dt.get();I.set(g,w),this.h?this.h.next=I:this.g=I,this.h=I}}var dt=new F(()=>new vt,c=>c.reset());class vt{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,ie=!1,me=new $e,ae=()=>{const c=h.Promise.resolve(void 0);xe=()=>{c.then($)}};var $=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(w){z(w)}var g=dt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ie=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};h.addEventListener("test",w,g),h.removeEventListener("test",w,g)}catch{}return c}();function Re(c,g){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(J){e:{try{Q(g.nodeName);var W=!0;break e}catch{}W=!1}W||(g=null)}}else w=="mouseover"?g=c.fromElement:w=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}P(Re,ge);var Ve={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function He(c,g,w,I,W){this.listener=c,this.proxy=null,this.src=g,this.type=w,this.capture=!!I,this.ha=W,this.key=++Ue,this.da=this.fa=!1}function At(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pr(c){this.src=c,this.g={},this.h=0}Pr.prototype.add=function(c,g,w,I,W){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var oe=li(c,g,I,W);return-1<oe?(g=c[oe],w||(g.fa=!1)):(g=new He(g,this.src,K,!!I,W),g.fa=w,c.push(g)),g};function Js(c,g){var w=g.type;if(w in c.g){var I=c.g[w],W=Array.prototype.indexOf.call(I,g,void 0),K;(K=0<=W)&&Array.prototype.splice.call(I,W,1),K&&(At(g),c.g[w].length==0&&(delete c.g[w],c.h--))}}function li(c,g,w,I){for(var W=0;W<c.length;++W){var K=c[W];if(!K.da&&K.listener==g&&K.capture==!!w&&K.ha==I)return W}return-1}var ss="closure_lm_"+(1e6*Math.random()|0),Zs={};function Ca(c,g,w,I,W){if(Array.isArray(g)){for(var K=0;K<g.length;K++)Ca(c,g[K],w,I,W);return null}return w=ka(w),c&&c[je]?c.K(g,w,p(I)?!!I.capture:!1,W):Pa(c,g,w,!1,I,W)}function Pa(c,g,w,I,W,K){if(!g)throw Error("Invalid event type");var oe=p(W)?!!W.capture:!!W,ze=to(c);if(ze||(c[ss]=ze=new Pr(c)),w=ze.add(g,w,I,oe,K),w.proxy)return w;if(I=Au(),w.proxy=I,I.src=c,I.listener=w,c.addEventListener)Ce||(W=oe),W===void 0&&(W=!1),c.addEventListener(g.toString(),I,W);else if(c.attachEvent)c.attachEvent(kr(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Au(){function c(w){return g.call(c.src,c.listener,w)}const g=Ra;return c}function eo(c,g,w,I,W){if(Array.isArray(g))for(var K=0;K<g.length;K++)eo(c,g[K],w,I,W);else I=p(I)?!!I.capture:!!I,w=ka(w),c&&c[je]?(c=c.i,g=String(g).toString(),g in c.g&&(K=c.g[g],w=li(K,w,I,W),-1<w&&(At(K[w]),Array.prototype.splice.call(K,w,1),K.length==0&&(delete c.g[g],c.h--)))):c&&(c=to(c))&&(g=c.g[g.toString()],c=-1,g&&(c=li(g,w,I,W)),(w=-1<c?g[c]:null)&&Rr(w))}function Rr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[je])Js(g.i,c);else{var w=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(w,I,c.capture):g.detachEvent?g.detachEvent(kr(w),I):g.addListener&&g.removeListener&&g.removeListener(I),(w=to(g))?(Js(w,c),w.h==0&&(w.src=null,g[ss]=null)):At(c)}}}function kr(c){return c in Zs?Zs[c]:Zs[c]="on"+c}function Ra(c,g){if(c.da)c=!0;else{g=new Re(g,this);var w=c.listener,I=c.ha||c.src;c.fa&&Rr(c),c=w.call(I,g)}return c}function to(c){return c=c[ss],c instanceof Pr?c:null}var no="__closure_events_fn_"+(1e9*Math.random()>>>0);function ka(c){return typeof c=="function"?c:(c[no]||(c[no]=function(g){return c.handleEvent(g)}),c[no])}function _t(){Y.call(this),this.i=new Pr(this),this.M=this,this.F=null}P(_t,Y),_t.prototype[je]=!0,_t.prototype.removeEventListener=function(c,g,w,I){eo(this,c,g,w,I)};function wt(c,g){var w,I=c.F;if(I)for(w=[];I;I=I.F)w.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new ge(g,c);else if(g instanceof ge)g.target=g.target||c;else{var W=g;g=new ge(I,c),D(g,W)}if(W=!0,w)for(var K=w.length-1;0<=K;K--){var oe=g.g=w[K];W=br(oe,I,!0,g)&&W}if(oe=g.g=c,W=br(oe,I,!0,g)&&W,W=br(oe,I,!1,g)&&W,w)for(K=0;K<w.length;K++)oe=g.g=w[K],W=br(oe,I,!1,g)&&W}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var w=c.g[g],I=0;I<w.length;I++)At(w[I]);delete c.g[g],c.h--}}this.F=null},_t.prototype.K=function(c,g,w,I){return this.i.add(String(c),g,!1,w,I)},_t.prototype.L=function(c,g,w,I){return this.i.add(String(c),g,!0,w,I)};function br(c,g,w,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var W=!0,K=0;K<g.length;++K){var oe=g[K];if(oe&&!oe.da&&oe.capture==w){var ze=oe.listener,Et=oe.ha||oe.src;oe.fa&&Js(c.i,oe),W=ze.call(Et,I)!==!1&&W}}return W&&!I.defaultPrevented}function ba(c,g,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function ui(c){c.g=ba(()=>{c.g=null,c.i&&(c.i=!1,ui(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class os extends Y{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ui(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){Y.call(this),this.h=c,this.g={}}P(as,Y);var Na=[];function Da(c){se(c.g,function(g,w){this.g.hasOwnProperty(w)&&Rr(g)},c),c.g={}}as.prototype.N=function(){as.aa.N.call(this),Da(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Va=h.JSON.stringify,La=h.JSON.parse,Oa=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function ls(){}ls.prototype.h=null;function ro(c){return c.h||(c.h=c.i())}function io(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){ge.call(this,"d")}P(ir,ge);function so(){ge.call(this,"c")}P(so,ge);var sr={},Ma=null;function us(){return Ma=Ma||new _t}sr.La="serverreachability";function Fa(c){ge.call(this,sr.La,c)}P(Fa,ge);function Nr(c){const g=us();wt(g,new Fa(g))}sr.STAT_EVENT="statevent";function ja(c,g){ge.call(this,sr.STAT_EVENT,c),this.stat=g}P(ja,ge);function lt(c){const g=us();wt(g,new ja(g,c))}sr.Ma="timingevent";function oo(c,g){ge.call(this,sr.Ma,c),this.size=g}P(oo,ge);function Mn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function cs(){this.g=!0}cs.prototype.xa=function(){this.g=!1};function hs(c,g,w,I,W,K){c.info(function(){if(c.g)if(K)for(var oe="",ze=K.split("&"),Et=0;Et<ze.length;Et++){var Le=ze[Et].split("=");if(1<Le.length){var Ct=Le[0];Le=Le[1];var ft=Ct.split("_");oe=2<=ft.length&&ft[1]=="type"?oe+(Ct+"="+Le+"&"):oe+(Ct+"=redacted&")}}else oe=null;else oe=K;return"XMLHTTP REQ ("+I+") [attempt "+W+"]: "+g+`
`+w+`
`+oe})}function ao(c,g,w,I,W,K,oe){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+W+"]: "+g+`
`+w+`
`+K+" "+oe})}function Fn(c,g,w,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+fd(c,w)+(I?" "+I:"")})}function Ua(c,g){c.info(function(){return"TIMEOUT: "+g})}cs.prototype.info=function(){};function fd(c,g){if(!c.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var I=w[c];if(!(2>I.length)){var W=I[1];if(Array.isArray(W)&&!(1>W.length)){var K=W[0];if(K!="noop"&&K!="stop"&&K!="close")for(var oe=1;oe<W.length;oe++)W[oe]=""}}}}return Va(w)}catch{return g}}var lo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function ds(){}P(ds,ls),ds.prototype.g=function(){return new XMLHttpRequest},ds.prototype.i=function(){return{}},jn=new ds;function Un(c,g,w,I){this.j=c,this.i=g,this.l=w,this.R=I||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pu}function Pu(){this.i=null,this.g="",this.h=!1}var Ba={},uo={};function co(c,g,w){c.L=1,c.v=pi(fn(g)),c.m=w,c.P=!0,za(c,null)}function za(c,g){c.F=Date.now(),qe(c),c.A=fn(c.v);var w=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),gi(w.i,"t",I),c.C=0,w=c.j.J,c.h=new Pu,c.g=qu(c.j,w?g:null,!c.m),0<c.O&&(c.M=new os(E(c.Y,c,c.g),c.O)),g=c.U,w=c.g,I=c.ca;var W="readystatechange";Array.isArray(W)||(W&&(Na[0]=W.toString()),W=Na);for(var K=0;K<W.length;K++){var oe=Ca(w,W[K],I||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Nr(),hs(c.i,c.u,c.A,c.l,c.R,c.m)}Un.prototype.ca=function(c){c=c.target;const g=this.M;g&&nn(c)==3?g.j():this.Y(c)},Un.prototype.Y=function(c){try{if(c==this.g)e:{const ft=nn(this.g);var g=this.g.Ba();const In=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||Ka(this.g)))){this.J||ft!=4||g==7||(g==8||0>=In?Nr(3):Nr(2)),fs(this);var w=this.g.Z();this.X=w;t:if(Ru(this)){var I=Ka(this.g);c="";var W=I.length,K=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),ci(this);var oe="";break t}this.h.i=new h.TextDecoder}for(g=0;g<W;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(K&&g==W-1)});I.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=w==200,ao(this.i,this.u,this.A,this.l,this.R,ft,w),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Et=this.g;if((ze=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(ze)){var Le=ze;break t}}Le=null}if(w=Le)Fn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$a(this,w);else{this.o=!1,this.s=3,lt(12),Tn(this),ci(this);break e}}if(this.P){w=!0;let mn;for(;!this.J&&this.C<oe.length;)if(mn=pd(this,oe),mn==uo){ft==4&&(this.s=4,lt(14),w=!1),Fn(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Ba){this.s=4,lt(15),Fn(this.i,this.l,oe,"[Invalid Chunk]"),w=!1;break}else Fn(this.i,this.l,mn,null),$a(this,mn);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||oe.length!=0||this.h.h||(this.s=1,lt(16),w=!1),this.o=this.o&&w,!w)Fn(this.i,this.l,oe,"[Invalid Chunked Response]"),Tn(this),ci(this);else if(0<oe.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Xa(Ct),Ct.M=!0,lt(11))}}else Fn(this.i,this.l,oe,null),$a(this,oe);ft==4&&Tn(this),this.o&&!this.J&&(ft==4?To(this.j,this):(this.o=!1,qe(this)))}else yo(this.g),w==400&&0<oe.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Tn(this),ci(this)}}}catch{}finally{}};function Ru(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function pd(c,g){var w=c.C,I=g.indexOf(`
`,w);return I==-1?uo:(w=Number(g.substring(w,I)),isNaN(w)?Ba:(I+=1,I+w>g.length?uo:(g=g.slice(I,I+w),c.C=I+w,g)))}Un.prototype.cancel=function(){this.J=!0,Tn(this)};function qe(c){c.S=Date.now()+c.I,ku(c,c.I)}function ku(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Mn(E(c.ba,c),g)}function fs(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ua(this.i,this.A),this.L!=2&&(Nr(),lt(17)),Tn(this),this.s=2,ci(this)):ku(this,this.S-c)};function ci(c){c.j.G==0||c.J||To(c.j,c)}function Tn(c){fs(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Da(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function $a(c,g){try{var w=c.j;if(w.G!=0&&(w.g==c||Xt(w.h,c))){if(!c.K&&Xt(w.h,c)&&w.G==3){try{var I=w.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var W=I;if(W[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Eo(w),Hn(w);else break e;wo(w),lt(18)}}else w.za=W[1],0<w.za-w.T&&37500>W[2]&&w.F&&w.v==0&&!w.C&&(w.C=Mn(E(w.Za,w),6e3));if(1>=Nu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Mr(w,11)}else if((c.K||w.g==c)&&Eo(w),!O(g))for(W=w.Da.g.parse(g),g=0;g<W.length;g++){let Le=W[g];if(w.T=Le[0],Le=Le[1],w.G==2)if(Le[0]=="c"){w.K=Le[1],w.ia=Le[2];const Ct=Le[3];Ct!=null&&(w.la=Ct,w.j.info("VER="+w.la));const ft=Le[4];ft!=null&&(w.Aa=ft,w.j.info("SVER="+w.Aa));const In=Le[5];In!=null&&typeof In=="number"&&0<In&&(I=1.5*In,w.L=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const mn=c.g;if(mn){const ws=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var K=I.h;K.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Wa(K,K.h),K.h=null))}if(I.D){const Io=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Io&&(I.ya=Io,We(I.I,I.D,Io))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),I=w;var oe=c;if(I.qa=Hu(I,I.J?I.ia:null,I.W),oe.K){Du(I.h,oe);var ze=oe,Et=I.L;Et&&(ze.I=Et),ze.B&&(fs(ze),qe(ze)),I.g=oe}else _s(I);0<w.i.length&&ur(w)}else Le[0]!="stop"&&Le[0]!="close"||Mr(w,7);else w.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Mr(w,7):Dt(w):Le[0]!="noop"&&w.l&&w.l.ta(Le),w.v=0)}}Nr(4)}catch{}}var bu=class{constructor(c,g){this.g=c,this.map=g}};function ps(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Nu(c){return c.h?1:c.g?c.g.size:0}function Xt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Wa(c,g){c.g?c.g.add(g):c.h=g}function Du(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ps.prototype.cancel=function(){if(this.i=Vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const w of c.g.values())g=g.concat(w.D);return g}return V(c.i)}function ho(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],w=c.length,I=0;I<w;I++)g.push(c[I]);return g}g=[],w=0;for(I in c)g[w++]=c[I];return g}function fo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var w=0;w<c;w++)g.push(w);return g}g=[],w=0;for(const I in c)g[w++]=I;return g}}}function hi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var w=fo(c),I=ho(c),W=I.length,K=0;K<W;K++)g.call(void 0,I[K],w&&w[K],c)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function md(c,g){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var I=c[w].indexOf("="),W=null;if(0<=I){var K=c[w].substring(0,I);W=c[w].substring(I+1)}else K=c[w];g(K,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Dr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Dr){this.h=c.h,gs(this,c.j),this.o=c.o,this.g=c.g,di(this,c.s),this.l=c.l;var g=c.i,w=new or;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),fi(this,w),this.m=c.m}else c&&(g=String(c).match(ms))?(this.h=!1,gs(this,g[1]||"",!0),this.o=De(g[2]||""),this.g=De(g[3]||"",!0),di(this,g[4]),this.l=De(g[5]||"",!0),fi(this,g[6]||"",!0),this.m=De(g[7]||"")):(this.h=!1,this.i=new or(null,this.h))}Dr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(mi(g,po,!0),":");var w=this.g;return(w||g=="file")&&(c.push("//"),(g=this.o)&&c.push(mi(g,po,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(mi(w,w.charAt(0)=="/"?Mu:Ou,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",mi(w,Ha)),c.join("")};function fn(c){return new Dr(c)}function gs(c,g,w){c.j=w?De(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function di(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function fi(c,g,w){g instanceof or?(c.i=g,ar(c.i,c.h)):(w||(g=mi(g,Fu)),c.i=new or(g,c.h))}function We(c,g,w){c.i.set(g,w)}function pi(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function De(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function mi(c,g,w){return typeof c=="string"?(c=encodeURI(c).replace(g,Lu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var po=/[#\/\?@]/g,Ou=/[#\?:]/g,Mu=/[#\?]/g,Fu=/[#\?@]/g,Ha=/#/g;function or(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Nt(c){c.g||(c.g=new Map,c.h=0,c.i&&md(c.i,function(g,w){c.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}n=or.prototype,n.add=function(c,g){Nt(this),this.i=null,c=Sn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(g),this.h+=1,this};function Bn(c,g){Nt(c),g=Sn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function zn(c,g){return Nt(c),g=Sn(c,g),c.g.has(g)}n.forEach=function(c,g){Nt(this),this.g.forEach(function(w,I){w.forEach(function(W){c.call(g,W,I,this)},this)},this)},n.na=function(){Nt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let I=0;I<g.length;I++){const W=c[I];for(let K=0;K<W.length;K++)w.push(g[I])}return w},n.V=function(c){Nt(this);let g=[];if(typeof c=="string")zn(this,c)&&(g=g.concat(this.g.get(Sn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)g=g.concat(c[w])}return g},n.set=function(c,g){return Nt(this),this.i=null,c=Sn(this,c),zn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function gi(c,g,w){Bn(c,g),0<w.length&&(c.i=null,c.g.set(Sn(c,g),V(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var I=g[w];const K=encodeURIComponent(String(I)),oe=this.V(I);for(I=0;I<oe.length;I++){var W=K;oe[I]!==""&&(W+="="+encodeURIComponent(String(oe[I]))),c.push(W)}}return this.i=c.join("&")};function Sn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ar(c,g){g&&!c.j&&(Nt(c),c.i=null,c.g.forEach(function(w,I){var W=I.toLowerCase();I!=W&&(Bn(this,I),gi(this,W,w))},c)),c.j=g}function gd(c,g){const w=new cs;if(h.Image){const I=new Image;I.onload=x(tn,w,"TestLoadImage: loaded",!0,g,I),I.onerror=x(tn,w,"TestLoadImage: error",!1,g,I),I.onabort=x(tn,w,"TestLoadImage: abort",!1,g,I),I.ontimeout=x(tn,w,"TestLoadImage: timeout",!1,g,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function ju(c,g){const w=new cs,I=new AbortController,W=setTimeout(()=>{I.abort(),tn(w,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(K=>{clearTimeout(W),K.ok?tn(w,"TestPingServer: ok",!0,g):tn(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(W),tn(w,"TestPingServer: error",!1,g)})}function tn(c,g,w,I,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),I(w)}catch{}}function yd(){this.g=new Oa}function Uu(c,g,w){const I=w||"";try{hi(c,function(W,K){let oe=W;p(W)&&(oe=Va(W)),g.push(I+K+"="+encodeURIComponent(oe))})}catch(W){throw g.push(I+"type="+encodeURIComponent("_badmap")),W}}function Vr(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Vr,ls),Vr.prototype.g=function(){return new ys(this.l,this.j)},Vr.prototype.i=function(c){return function(){return c}}({});function ys(c,g){_t.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(ys,_t),n=ys.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Wn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?$n(this):Wn(this),this.readyState==3&&Bu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,$n(this))},n.Qa=function(c){this.g&&(this.response=c,$n(this))},n.ga=function(){this.g&&$n(this)};function $n(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=g.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Lr(c){let g="";return se(c,function(w,I){g+=I,g+=":",g+=w,g+=`\r
`}),g}function yi(c,g,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=Lr(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):We(c,g,w))}function Je(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Je,_t);var vd=/^https?$/i,qa=["POST","PUT"];n=Je.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?ro(this.o):ro(jn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){vs(this,K);return}if(c=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var W in I)w.set(W,I[W]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const K of I.keys())w.set(K,I.get(K));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(K=>K.toLowerCase()=="content-type"),W=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(qa,g,void 0))||I||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of w)this.g.setRequestHeader(K,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{go(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){vs(this,K)}};function vs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,mo(c),pn(c)}function mo(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pn(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ga(this):this.bb())},n.bb=function(){Ga(this)};function Ga(c){if(c.h&&typeof u<"u"&&(!c.v[1]||nn(c)!=4||c.Z()!=2)){if(c.u&&nn(c)==4)ba(c.Ea,0,c);else if(wt(c,"readystatechange"),nn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var I;if(I=oe===0){var W=String(c.D).match(ms)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),I=!vd.test(W?W.toLowerCase():"")}w=I}if(w)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var K=2<nn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",mo(c)}}finally{pn(c)}}}}function pn(c,g){if(c.g){go(c);const w=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||wt(c,"ready");try{w.onreadystatechange=I}catch{}}}function go(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function nn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),La(g)}};function Ka(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function yo(c){const g={};c=(c.g&&2<=nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(O(c[I]))continue;var w=j(c[I]);const W=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const K=g[W]||[];g[W]=K,K.push(w)}b(g,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(c,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||g}function Qa(c){this.Aa=0,this.i=[],this.j=new cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lr("baseRetryDelayMs",5e3,c),this.cb=lr("retryDelaySeedMs",1e4,c),this.Wa=lr("forwardChannelMaxRetries",2,c),this.wa=lr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ps(c&&c.concurrentRequestLimit),this.Da=new yd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Qa.prototype,n.la=8,n.G=1,n.connect=function(c,g,w,I){lt(0),this.W=c,this.H=g||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.I=Hu(this,null,this.W),ur(this)};function Dt(c){if(vo(c),c.G==3){var g=c.U++,w=fn(c.I);if(We(w,"SID",c.K),We(w,"RID",g),We(w,"TYPE","terminate"),Or(c,w),g=new Un(c,c.j,g),g.L=2,g.v=pi(fn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=g.v,w=!0),w||(g.g=qu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),qe(g)}Wu(c)}function Hn(c){c.g&&(Xa(c),c.g.cancel(),c.g=null)}function vo(c){Hn(c),c.u&&(h.clearTimeout(c.u),c.u=null),Eo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function ur(c){if(!dn(c.h)&&!c.s){c.s=!0;var g=c.Ga;xe||ae(),ie||(xe(),ie=!0),me.add(g,c),c.B=0}}function _d(c,g){return Nu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Mn(E(c.Ga,c,g),$u(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const W=new Un(this,this.j,c);let K=this.o;if(this.S&&(K?(K=S(K),D(K,this.S)):K=this.S),this.m!==null||this.O||(W.H=K,K=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=vi(this,W,g),w=fn(this.I),We(w,"RID",c),We(w,"CVER",22),this.D&&We(w,"X-HTTP-Session-Id",this.D),Or(this,w),K&&(this.O?g="headers="+encodeURIComponent(String(Lr(K)))+"&"+g:this.m&&yi(w,this.m,K)),Wa(this.h,W),this.Ua&&We(w,"TYPE","init"),this.P?(We(w,"$req",g),We(w,"SID","null"),W.T=!0,co(W,w,null)):co(W,w,g),this.G=2}}else this.G==3&&(c?_o(this,c):this.i.length==0||dn(this.h)||_o(this))};function _o(c,g){var w;g?w=g.l:w=c.U++;const I=fn(c.I);We(I,"SID",c.K),We(I,"RID",w),We(I,"AID",c.T),Or(c,I),c.m&&c.o&&yi(I,c.m,c.o),w=new Un(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),g&&(c.i=g.D.concat(c.i)),g=vi(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Wa(c.h,w),co(w,I,g)}function Or(c,g){c.H&&se(c.H,function(w,I){We(g,I,w)}),c.l&&hi({},function(w,I){We(g,I,w)})}function vi(c,g,w){w=Math.min(c.i.length,w);var I=c.l?E(c.l.Na,c.l,c):null;e:{var W=c.i;let K=-1;for(;;){const oe=["count="+w];K==-1?0<w?(K=W[0].g,oe.push("ofs="+K)):K=0:oe.push("ofs="+K);let ze=!0;for(let Et=0;Et<w;Et++){let Le=W[Et].g;const Ct=W[Et].map;if(Le-=K,0>Le)K=Math.max(0,W[Et].g-100),ze=!1;else try{Uu(Ct,oe,"req"+Le+"_")}catch{I&&I(Ct)}}if(ze){I=oe.join("&");break e}}}return c=c.i.splice(0,w),g.D=c,I}function _s(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;xe||ae(),ie||(xe(),ie=!0),me.add(g,c),c.v=0}}function wo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Mn(E(c.Fa,c),$u(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Mn(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Hn(this),zu(this))};function Xa(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function zu(c){c.g=new Un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=fn(c.qa);We(g,"RID","rpc"),We(g,"SID",c.K),We(g,"AID",c.T),We(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(g,"TO",c.ja),We(g,"TYPE","xmlhttp"),Or(c,g),c.m&&c.o&&yi(g,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=pi(fn(g)),w.m=null,w.P=!0,za(w,c)}n.Za=function(){this.C!=null&&(this.C=null,Hn(this),wo(this),lt(19))};function Eo(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function To(c,g){var w=null;if(c.g==g){Eo(c),Xa(c),c.g=null;var I=2}else if(Xt(c.h,g))w=g.D,Du(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var W=c.B;I=us(),wt(I,new oo(I,w)),ur(c)}else _s(c);else if(W=g.s,W==3||W==0&&0<g.X||!(I==1&&_d(c,g)||I==2&&wo(c)))switch(w&&0<w.length&&(g=c.h,g.i=g.i.concat(w)),W){case 1:Mr(c,5);break;case 4:Mr(c,10);break;case 3:Mr(c,6);break;default:Mr(c,2)}}}function $u(c,g){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*g}function Mr(c,g){if(c.j.info("Error code "+g),g==2){var w=E(c.fb,c),I=c.Xa;const W=!I;I=new Dr(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||gs(I,"https"),pi(I),W?gd(I.toString(),w):ju(I.toString(),w)}else lt(2);c.G=0,c.l&&c.l.sa(g),Wu(c),vo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Wu(c){if(c.G=0,c.ka=[],c.l){const g=Vu(c.h);(g.length!=0||c.i.length!=0)&&(N(c.ka,g),N(c.ka,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.ra()}}function Hu(c,g,w){var I=w instanceof Dr?fn(w):new Dr(w);if(I.g!="")g&&(I.g=g+"."+I.g),di(I,I.s);else{var W=h.location;I=W.protocol,g=g?g+"."+W.hostname:W.hostname,W=+W.port;var K=new Dr(null);I&&gs(K,I),g&&(K.g=g),W&&di(K,W),w&&(K.l=w),I=K}return w=c.D,g=c.ya,w&&g&&We(I,w,g),We(I,"VER",c.la),Or(c,I),I}function qu(c,g,w){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Je(new Vr({eb:w})):new Je(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ya(){}n=Ya.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function So(){}So.prototype.g=function(c,g){return new Yt(c,g)};function Yt(c,g){_t.call(this),this.g=new Qa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!O(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!O(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new cr(this)}P(Yt,_t),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Dt(this.g)},Yt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Va(c),c=w);g.i.push(new bu(g.Ya++,c)),g.G==3&&ur(g)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Dt(this.g),delete this.g,Yt.aa.N.call(this)};function Gu(c){ir.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const w in g){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}P(Gu,ir);function Ku(){so.call(this),this.status=1}P(Ku,so);function cr(c){this.g=c}P(cr,Ya),cr.prototype.ua=function(){wt(this.g,"a")},cr.prototype.ta=function(c){wt(this.g,new Gu(c))},cr.prototype.sa=function(c){wt(this.g,new Ku)},cr.prototype.ra=function(){wt(this.g,"b")},So.prototype.createWebChannel=So.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,pT=function(){return new So},fT=function(){return us()},dT=sr,Pp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lo.NO_ERROR=0,lo.TIMEOUT=8,lo.HTTP_ERROR=6,ah=lo,Cu.COMPLETE="complete",hT=Cu,io.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Cl=io,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,cT=Je}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const U_="@firebase/firestore",B_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new vm("@firebase/firestore");function Ho(){return qs.logLevel}function ue(n,...e){if(qs.logLevel<=be.DEBUG){const t=e.map(Nm);qs.debug(`Firestore (${wa}): ${n}`,...t)}}function ti(n,...e){if(qs.logLevel<=be.ERROR){const t=e.map(Nm);qs.error(`Firestore (${wa}): ${n}`,...t)}}function qi(n,...e){if(qs.logLevel<=be.WARN){const t=e.map(Nm);qs.warn(`Firestore (${wa}): ${n}`,...t)}}function Nm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,mT(n,r,t)}function mT(n,e,t){let r=`FIRESTORE (${wa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ti(r),new Error(r)}function Be(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||mT(e,s,r)}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ai{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ib{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qt.UNAUTHENTICATED))}shutdown(){}}class sb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ob{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Wi,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string",31837,{l:r}),new gT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new qt(e)}}class ab{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lb{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new ab(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ub{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0,3512);const r=a=>{a.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new z_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new z_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=cb(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function Pe(n,e){return n<e?-1:n>e?1:0}function Rp(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return Pe(r,s);{const a=yT(),u=hb(a.encode($_(n,t)),a.encode($_(e,t)));return u!==0?u:Pe(r,s)}}t+=r>65535?2:1}return Pe(n.length,e.length)}function $_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function hb(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Pe(n[t],e[t]);return Pe(n.length,e.length)}function aa(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="__name__";class mr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ee(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=mr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Pe(e.length,t.length)}static compareSegments(e,t){const r=mr.isNumericId(e),s=mr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?mr.extractNumericId(e).compare(mr.extractNumericId(t)):Rp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $i.fromString(e.substring(4,e.length-2))}}class Xe extends mr{construct(e,t,r){return new Xe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Xe(t)}static emptyPath(){return new Xe([])}}const db=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends mr{construct(e,t,r){return new Ft(e,t,r)}static isValidIdentifier(e){return db.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W_}static keyField(){return new Ft([W_])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new pe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new pe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new pe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Xe.fromString(e))}static fromName(e){return new ye(Xe.fromString(e).popFirst(5))}static empty(){return new ye(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(n,e,t){if(!t)throw new pe(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function fb(n,e,t,r){if(e===!0&&r===!0)throw new pe(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function H_(n){if(!ye.isDocumentKey(n))throw new pe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function q_(n){if(ye.isDocumentKey(n))throw new pe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _T(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Vm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function Ah(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Vm(n);throw new pe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(n,e){const t={typeString:n};return e&&(t.value=e),t}function yu(n,e){if(!_T(n))throw new pe(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new pe(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=-62135596800,K_=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*K_);return new Ye(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<G_)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K_}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-G_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:yt("string",Ye._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Ye(0,0))}static max(){return new Ie(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function pb(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(r===1e9?new Ye(t+1,0):new Ye(t,r));return new Gi(s,ye.empty(),e)}function mb(n){return new Gi(n.readTime,n.key,ql)}class Gi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Gi(Ie.min(),ye.empty(),ql)}static max(){return new Gi(Ie.max(),ye.empty(),ql)}}function gb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Pe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==yb)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let s=0,a=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(s=>s?X.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new X((r,s)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(v=>{u[p]=v,++h,h===a&&r(u)},v=>s(v))}})}static doWhile(e,t){return new X((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function _b(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ta(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Xh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=-1;function Yh(n){return n==null}function Ch(n){return n===0&&1/n==-1/0}function wb(n){return typeof n=="number"&&Number.isInteger(n)&&!Ch(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="";function Eb(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Q_(e)),e=Tb(n.get(t),e);return Q_(e)}function Tb(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case wT:t+="";break;default:t+=a}}return t}function Q_(n){return n+wT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ks(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ET(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||Mt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Mt.RED,this.left=s??Mt.EMPTY,this.right=a??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Mt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Mt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Mt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Y_(this.data.getIterator())}getIteratorFrom(e){return new Y_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xt(this.comparator);return t.data=e,t}}class Y_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new er([])}unionWith(e){let t=new xt(Ft.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new TT("Invalid base64 string: "+a):a}}(e);return new Ut(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const Sb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(n){if(Be(!!n,39018),typeof n=="string"){let e=0;const t=Sb.exec(n);if(Be(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(n.seconds),nanos:ht(n.nanos)}}function ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qi(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="server_timestamp",IT="__type__",xT="__previous_value__",AT="__local_write_time__";function Om(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[IT])===null||t===void 0?void 0:t.stringValue)===ST}function Jh(n){const e=n.mapValue.fields[xT];return Om(e)?Jh(e):e}function Gl(n){const e=Ki(n.mapValue.fields[AT].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,t,r,s,a,u,h,f,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=v}}const Ph="(default)";class Kl{constructor(e,t){this.projectId=e,this.database=t||Ph}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="__type__",xb="__max__",qc={mapValue:{}},PT="__vector__",Rh="value";function Xi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Om(n)?4:Cb(n)?9007199254740991:Ab(n)?10:11:Ee(28295,{value:n})}function Ir(n,e){if(n===e)return!0;const t=Xi(n);if(t!==Xi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gl(n).isEqual(Gl(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Ki(s.timestampValue),h=Ki(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Qi(s.bytesValue).isEqual(Qi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return ht(s.geoPointValue.latitude)===ht(a.geoPointValue.latitude)&&ht(s.geoPointValue.longitude)===ht(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ht(s.integerValue)===ht(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=ht(s.doubleValue),h=ht(a.doubleValue);return u===h?Ch(u)===Ch(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return aa(n.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},h=a.mapValue.fields||{};if(X_(u)!==X_(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Ir(u[f],h[f])))return!1;return!0}(n,e);default:return Ee(52216,{left:n})}}function Ql(n,e){return(n.values||[]).find(t=>Ir(t,e))!==void 0}function la(n,e){if(n===e)return 0;const t=Xi(n),r=Xi(e);if(t!==r)return Pe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=ht(a.integerValue||a.doubleValue),f=ht(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return J_(n.timestampValue,e.timestampValue);case 4:return J_(Gl(n),Gl(e));case 5:return Rp(n.stringValue,e.stringValue);case 6:return function(a,u){const h=Qi(a),f=Qi(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const v=Pe(h[p],f[p]);if(v!==0)return v}return Pe(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=Pe(ht(a.latitude),ht(u.latitude));return h!==0?h:Pe(ht(a.longitude),ht(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Z_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,p,v;const _=a.fields||{},E=u.fields||{},x=(h=_[Rh])===null||h===void 0?void 0:h.arrayValue,P=(f=E[Rh])===null||f===void 0?void 0:f.arrayValue,V=Pe(((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0,((v=P==null?void 0:P.values)===null||v===void 0?void 0:v.length)||0);return V!==0?V:Z_(x,P)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===qc.mapValue&&u===qc.mapValue)return 0;if(a===qc.mapValue)return 1;if(u===qc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=u.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let _=0;_<f.length&&_<v.length;++_){const E=Rp(f[_],v[_]);if(E!==0)return E;const x=la(h[f[_]],p[v[_]]);if(x!==0)return x}return Pe(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Ee(23264,{le:t})}}function J_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Pe(n,e);const t=Ki(n),r=Ki(e),s=Pe(t.seconds,r.seconds);return s!==0?s:Pe(t.nanos,r.nanos)}function Z_(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=la(t[s],r[s]);if(a)return a}return Pe(t.length,r.length)}function ua(n){return kp(n)}function kp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ki(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Qi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=kp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${kp(t.fields[u])}`;return s+"}"}(n.mapValue):Ee(61005,{value:n})}function lh(n){switch(Xi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(n);return e?16+lh(e):16;case 5:return 2*n.stringValue.length;case 6:return Qi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+lh(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Ks(r.fields,(a,u)=>{s+=a.length+lh(u)}),s}(n.mapValue);default:throw Ee(13486,{value:n})}}function bp(n){return!!n&&"integerValue"in n}function Mm(n){return!!n&&"arrayValue"in n}function e0(n){return!!n&&"nullValue"in n}function t0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uh(n){return!!n&&"mapValue"in n}function Ab(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[CT])===null||t===void 0?void 0:t.stringValue)===PT}function Dl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ks(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Dl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Cb(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===xb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!uh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dl(t)}setAll(e){let t=Ft.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=Dl(u):s.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());uh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];uh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ks(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Dn(Dl(this.value))}}function RT(n){const e=[];return Ks(n.fields,(t,r)=>{const s=new Ft([t]);if(uh(r)){const a=RT(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,t,r,s,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Gt(e,0,Ie.min(),Ie.min(),Ie.min(),Dn.empty(),0)}static newFoundDocument(e,t,r,s){return new Gt(e,1,t,Ie.min(),r,s,0)}static newNoDocument(e,t){return new Gt(e,2,t,Ie.min(),Ie.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new Gt(e,3,t,Ie.min(),Ie.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t){this.position=e,this.inclusive=t}}function n0(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=la(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function r0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ir(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Pb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{}class It extends kT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new kb(e,t,r):t==="array-contains"?new Db(e,r):t==="in"?new Vb(e,r):t==="not-in"?new Lb(e,r):t==="array-contains-any"?new Ob(e,r):new It(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new bb(e,r):new Nb(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(la(t,this.value)):t!==null&&Xi(this.value)===Xi(t)&&this.matchesComparison(la(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends kT{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new xr(e,t)}matches(e){return bT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function bT(n){return n.op==="and"}function NT(n){return Rb(n)&&bT(n)}function Rb(n){for(const e of n.filters)if(e instanceof xr)return!1;return!0}function Np(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+ua(n.value);if(NT(n))return n.filters.map(e=>Np(e)).join(",");{const e=n.filters.map(t=>Np(t)).join(",");return`${n.op}(${e})`}}function DT(n,e){return n instanceof It?function(r,s){return s instanceof It&&r.op===s.op&&r.field.isEqual(s.field)&&Ir(r.value,s.value)}(n,e):n instanceof xr?function(r,s){return s instanceof xr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,h)=>a&&DT(u,s.filters[h]),!0):!1}(n,e):void Ee(19439)}function VT(n){return n instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${ua(t.value)}`}(n):n instanceof xr?function(t){return t.op.toString()+" {"+t.getFilters().map(VT).join(" ,")+"}"}(n):"Filter"}class kb extends It{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class bb extends It{constructor(e,t){super(e,"in",t),this.keys=LT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Nb extends It{constructor(e,t){super(e,"not-in",t),this.keys=LT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function LT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ye.fromName(r.referenceValue))}class Db extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mm(t)&&Ql(t.arrayValue,this.value)}}class Vb extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ql(this.value.arrayValue,t)}}class Lb extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ql(this.value.arrayValue,t)}}class Ob extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ql(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,t=null,r=[],s=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=h,this.Pe=null}}function i0(n,e=null,t=[],r=[],s=null,a=null,u=null){return new Mb(n,e,t,r,s,a,u)}function Fm(n){const e=Ae(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Np(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ua(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ua(r)).join(",")),e.Pe=t}return e.Pe}function jm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Pb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!DT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!r0(n.startAt,e.startAt)&&r0(n.endAt,e.endAt)}function Dp(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t=null,r=[],s=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Fb(n,e,t,r,s,a,u,h){return new Zh(n,e,t,r,s,a,u,h)}function OT(n){return new Zh(n)}function s0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function jb(n){return n.collectionGroup!==null}function Vl(n){const e=Ae(n);if(e.Te===null){e.Te=[];const t=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new xt(Ft.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Te.push(new bh(a,r))}),t.has(Ft.keyField().canonicalString())||e.Te.push(new bh(Ft.keyField(),r))}return e.Te}function yr(n){const e=Ae(n);return e.Ie||(e.Ie=Ub(e,Vl(n))),e.Ie}function Ub(n,e){if(n.limitType==="F")return i0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new bh(s.field,a)});const t=n.endAt?new kh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new kh(n.startAt.position,n.startAt.inclusive):null;return i0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Vp(n,e,t){return new Zh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ed(n,e){return jm(yr(n),yr(e))&&n.limitType===e.limitType}function MT(n){return`${Fm(yr(n))}|lt:${n.limitType}`}function qo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>VT(s)).join(", ")}]`),Yh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>ua(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>ua(s)).join(",")),`Target(${r})`}(yr(n))}; limitType=${n.limitType})`}function td(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Vl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,f){const p=n0(u,h,f);return u.inclusive?p<=0:p<0}(r.startAt,Vl(r),s)||r.endAt&&!function(u,h,f){const p=n0(u,h,f);return u.inclusive?p>=0:p>0}(r.endAt,Vl(r),s))}(n,e)}function Bb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function FT(n){return(e,t)=>{let r=!1;for(const s of Vl(n)){const a=zb(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function zb(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),p=h.data.field(a);return f!==null&&p!==null?la(f,p):Ee(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return ET(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=new st(ye.comparator);function ni(){return $b}const jT=new st(ye.comparator);function Pl(...n){let e=jT;for(const t of n)e=e.insert(t.key,t);return e}function UT(n){let e=jT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ms(){return Ll()}function BT(){return Ll()}function Ll(){return new Qs(n=>n.toString(),(n,e)=>n.isEqual(e))}const Wb=new st(ye.comparator),Hb=new xt(ye.comparator);function Ne(...n){let e=Hb;for(const t of n)e=e.add(t);return e}const qb=new xt(Pe);function Gb(){return qb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function zT(n){return{integerValue:""+n}}function Kb(n,e){return wb(e)?zT(e):Um(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this._=void 0}}function Qb(n,e,t){return n instanceof Xl?function(s,a){const u={fields:{[IT]:{stringValue:ST},[AT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Om(a)&&(a=Jh(a)),a&&(u.fields[xT]=a),{mapValue:u}}(t,e):n instanceof Yl?WT(n,e):n instanceof Jl?HT(n,e):function(s,a){const u=$T(s,a),h=o0(u)+o0(s.Ee);return bp(u)&&bp(s.Ee)?zT(h):Um(s.serializer,h)}(n,e)}function Xb(n,e,t){return n instanceof Yl?WT(n,e):n instanceof Jl?HT(n,e):t}function $T(n,e){return n instanceof Nh?function(r){return bp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Xl extends nd{}class Yl extends nd{constructor(e){super(),this.elements=e}}function WT(n,e){const t=qT(e);for(const r of n.elements)t.some(s=>Ir(s,r))||t.push(r);return{arrayValue:{values:t}}}class Jl extends nd{constructor(e){super(),this.elements=e}}function HT(n,e){let t=qT(e);for(const r of n.elements)t=t.filter(s=>!Ir(s,r));return{arrayValue:{values:t}}}class Nh extends nd{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function o0(n){return ht(n.integerValue||n.doubleValue)}function qT(n){return Mm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,t){this.field=e,this.transform=t}}function Jb(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Yl&&s instanceof Yl||r instanceof Jl&&s instanceof Jl?aa(r.elements,s.elements,Ir):r instanceof Nh&&s instanceof Nh?Ir(r.Ee,s.Ee):r instanceof Xl&&s instanceof Xl}(n.transform,e.transform)}class Zb{constructor(e,t){this.version=e,this.transformResults=t}}class Yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class rd{}function GT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new QT(n.key,Yr.none()):new vu(n.key,n.data,Yr.none());{const t=n.data,r=Dn.empty();let s=new xt(Ft.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new Xs(n.key,r,new er(s.toArray()),Yr.none())}}function eN(n,e,t){n instanceof vu?function(s,a,u){const h=s.value.clone(),f=l0(s.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Xs?function(s,a,u){if(!ch(s.precondition,a))return void a.convertToUnknownDocument(u.version);const h=l0(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(KT(s)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Ol(n,e,t,r){return n instanceof vu?function(a,u,h,f){if(!ch(a.precondition,u))return h;const p=a.value.clone(),v=u0(a.fieldTransforms,f,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Xs?function(a,u,h,f){if(!ch(a.precondition,u))return h;const p=u0(a.fieldTransforms,f,u),v=u.data;return v.setAll(KT(a)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,u,h){return ch(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function tN(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=$T(r.transform,s||null);a!=null&&(t===null&&(t=Dn.empty()),t.set(r.field,a))}return t||null}function a0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&aa(r,s,(a,u)=>Jb(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class vu extends rd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xs extends rd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function KT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function l0(n,e,t){const r=new Map;Be(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,h=e.data.field(a.field);r.set(a.field,Xb(u,h,t[s]))}return r}function u0(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,Qb(a,u,e))}return r}class QT extends rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nN extends rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&eN(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ol(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ol(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=BT();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(s.key)?null:h;const f=GT(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,(t,r)=>a0(t,r))&&aa(this.baseMutations,e.baseMutations,(t,r)=>a0(t,r))}}class Bm{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Be(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return Wb}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Bm(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Oe;function oN(n){switch(n){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function XT(n){if(n===void 0)return ti("GRPC error has no .code"),ee.UNKNOWN;switch(n){case mt.OK:return ee.OK;case mt.CANCELLED:return ee.CANCELLED;case mt.UNKNOWN:return ee.UNKNOWN;case mt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case mt.INTERNAL:return ee.INTERNAL;case mt.UNAVAILABLE:return ee.UNAVAILABLE;case mt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case mt.NOT_FOUND:return ee.NOT_FOUND;case mt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case mt.ABORTED:return ee.ABORTED;case mt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case mt.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:n})}}(Oe=mt||(mt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new $i([4294967295,4294967295],0);function c0(n){const e=yT().encode(n),t=new uT;return t.update(e),new Uint8Array(t.digest())}function h0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new $i([t,r],0),new $i([s,a],0)]}class zm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Rl(`Invalid padding: ${t}`);if(r<0)throw new Rl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=$i.fromNumber(this.fe)}pe(e,t,r){let s=e.add(t.multiply($i.fromNumber(r)));return s.compare(aN)===1&&(s=new $i([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=c0(e),[r,s]=h0(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,s,a);if(!this.ye(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new zm(a,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.fe===0)return;const t=c0(e),[r,s]=h0(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,s,a);this.we(u)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new id(Ie.min(),s,new st(Pe),ni(),Ne())}}class _u{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new _u(r,t,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=s}}class YT{constructor(e,t){this.targetId=e,this.De=t}}class JT{constructor(e,t,r=Ut.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class d0{constructor(){this.ve=0,this.Ce=f0(),this.Fe=Ut.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ne(),t=Ne(),r=Ne();return this.Ce.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ee(38017,{changeType:a})}}),new _u(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=f0()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class lN{constructor(e){this.We=e,this.Ge=new Map,this.ze=ni(),this.je=Gc(),this.Je=Gc(),this.He=new st(Pe)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,s)=>{this.nt(s)&&t(s)})}it(e){const t=e.targetId,r=e.De.count,s=this.st(t);if(s){const a=s.target;if(Dp(a))if(r===0){const u=new ye(a.path);this.Xe(t,u,Gt.newNoDocument(u,Ie.min()))}else Be(r===1,20013,{expectedCount:r});else{const u=this.ot(t);if(u!==r){const h=this._t(e),f=h?this.ut(h,e,u):1;if(f!==0){this.rt(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,p)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,h;try{u=Qi(r).toUint8Array()}catch(f){if(f instanceof TT)return qi("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new zm(u,s,a)}catch(f){return qi(f instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.fe===0?null:h}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.We.lt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.Xe(t,a,null),s++)}),s}Pt(e){const t=new Map;this.Ge.forEach((a,u)=>{const h=this.st(u);if(h){if(a.current&&Dp(h.target)){const f=new ye(h.target.path);this.Tt(f).has(u)||this.It(u,f)||this.Xe(u,f,Gt.newNoDocument(f,e))}a.Ne&&(t.set(u,a.Le()),a.ke())}});let r=Ne();this.Je.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const p=this.st(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.ze.forEach((a,u)=>u.setReadTime(e));const s=new id(e,t,this.He,this.ze,r);return this.ze=ni(),this.je=Gc(),this.Je=Gc(),this.He=new st(Pe),s}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,t)?s.qe(t,1):s.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new d0,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new xt(Pe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new xt(Pe),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new d0),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Gc(){return new st(ye.comparator)}function f0(){return new st(ye.comparator)}const uN={asc:"ASCENDING",desc:"DESCENDING"},cN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hN={and:"AND",or:"OR"};class dN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lp(n,e){return n.useProto3Json||Yh(e)?e:{value:e}}function Dh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function fN(n,e){return Dh(n,e.toTimestamp())}function vr(n){return Be(!!n,49232),Ie.fromTimestamp(function(t){const r=Ki(t);return new Ye(r.seconds,r.nanos)}(n))}function $m(n,e){return Op(n,e).canonicalString()}function Op(n,e){const t=function(s){return new Xe(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function eS(n){const e=Xe.fromString(n);return Be(sS(e),10190,{key:e.toString()}),e}function Mp(n,e){return $m(n.databaseId,e.path)}function ep(n,e){const t=eS(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(nS(t))}function tS(n,e){return $m(n.databaseId,e)}function pN(n){const e=eS(n);return e.length===4?Xe.emptyPath():nS(e)}function Fp(n){return new Xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nS(n){return Be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function p0(n,e,t){return{name:Mp(n,e),fields:t.value.mapValue.fields}}function mN(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,v){return p.useProto3Json?(Be(v===void 0||typeof v=="string",58123),Ut.fromBase64String(v||"")):(Be(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ut.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const v=p.code===void 0?ee.UNKNOWN:XT(p.code);return new pe(v,p.message||"")}(u);t=new JT(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ep(n,r.document.name),a=vr(r.document.updateTime),u=r.document.createTime?vr(r.document.createTime):Ie.min(),h=new Dn({mapValue:{fields:r.document.fields}}),f=Gt.newFoundDocument(s,a,u,h),p=r.targetIds||[],v=r.removedTargetIds||[];t=new hh(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ep(n,r.document),a=r.readTime?vr(r.readTime):Ie.min(),u=Gt.newNoDocument(s,a),h=r.removedTargetIds||[];t=new hh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ep(n,r.document),a=r.removedTargetIds||[];t=new hh([],a,s,null)}else{if(!("filter"in e))return Ee(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new sN(s,a),h=r.targetId;t=new YT(h,u)}}return t}function gN(n,e){let t;if(e instanceof vu)t={update:p0(n,e.key,e.value)};else if(e instanceof QT)t={delete:Mp(n,e.key)};else if(e instanceof Xs)t={update:p0(n,e.key,e.data),updateMask:xN(e.fieldMask)};else{if(!(e instanceof nN))return Ee(16599,{Rt:e.type});t={verify:Mp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof Xl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Yl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Jl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Nh)return{fieldPath:u.field.canonicalString(),increment:h.Ee};throw Ee(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:fN(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ee(27497)}(n,e.precondition)),t}function yN(n,e){return n&&n.length>0?(Be(e!==void 0,14353),n.map(t=>function(s,a){let u=s.updateTime?vr(s.updateTime):vr(a);return u.isEqual(Ie.min())&&(u=vr(a)),new Zb(u,s.transformResults||[])}(t,e))):[]}function vN(n,e){return{documents:[tS(n,e.path)]}}function _N(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=tS(n,s);const a=function(p){if(p.length!==0)return iS(xr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(v=>function(E){return{field:Go(E.field),direction:TN(E.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Lp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:t,parent:s}}function wN(n){let e=pN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Be(r===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(_){const E=rS(_);return E instanceof xr&&NT(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(E=>function(P){return new bh(Ko(P.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,Yh(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(_){const E=!!_.before,x=_.values||[];return new kh(x,E)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const E=!_.before,x=_.values||[];return new kh(x,E)}(t.endAt)),Fb(e,s,u,a,h,"F",f,p)}function EN(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ko(t.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ko(t.unaryFilter.field);return It.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ko(t.unaryFilter.field);return It.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ko(t.unaryFilter.field);return It.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(n):n.fieldFilter!==void 0?function(t){return It.create(Ko(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return xr.create(t.compositeFilter.filters.map(r=>rS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(n):Ee(30097,{filter:n})}function TN(n){return uN[n]}function SN(n){return cN[n]}function IN(n){return hN[n]}function Go(n){return{fieldPath:n.canonicalString()}}function Ko(n){return Ft.fromServerFormat(n.fieldPath)}function iS(n){return n instanceof It?function(t){if(t.op==="=="){if(t0(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NAN"}};if(e0(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(t0(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NOT_NAN"}};if(e0(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(t.field),op:SN(t.op),value:t.value}}}(n):n instanceof xr?function(t){const r=t.getFilters().map(s=>iS(s));return r.length===1?r[0]:{compositeFilter:{op:IN(t.op),filters:r}}}(n):Ee(54877,{filter:n})}function xN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,t,r,s,a=Ie.min(),u=Ie.min(),h=Ut.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.gt=e}}function CN(n){const e=wN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Vp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.Dn=new RN}addToCollectionParentIndex(e,t){return this.Dn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Gi.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Gi.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class RN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new xt(Xe.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new xt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oS=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(oS,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ca(0)}static ur(){return new ca(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="LruGarbageCollector",kN=1048576;function y0([n,e],[t,r]){const s=Pe(n,t);return s===0?Pe(e,r):s}class bN{constructor(e){this.Tr=e,this.buffer=new xt(y0),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();y0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class NN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ue(g0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ta(t)?ue(g0,"Ignoring IndexedDB error during garbage collection: ",t):await Ea(t)}await this.Rr(3e5)})}}class DN{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Xh.ue);const r=new bN(t);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(m0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m0):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,s,a,u,h,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Ho()<=be.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function VN(n,e){return new DN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.changes=new Qs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Ol(r.mutation,s,er.empty(),Ye.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ne()){const s=Ms();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=Pl();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Ms();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ne()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let a=ni();const u=Ll(),h=function(){return Ll()}();return t.forEach((f,p)=>{const v=r.get(p.key);s.has(p.key)&&(v===void 0||v.mutation instanceof Xs)?a=a.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Ol(v.mutation,p,v.mutation.getFieldMask(),Ye.now())):u.set(p.key,er.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,v)=>u.set(p,v)),t.forEach((p,v)=>{var _;return h.set(p,new ON(v,(_=u.get(p))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Ll();let s=new st((u,h)=>u-h),a=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let v=r.get(f)||er.empty();v=h.applyToLocalView(p,v),r.set(f,v);const _=(s.get(h.batchId)||Ne()).add(f);s=s.insert(h.batchId,_)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,v=f.value,_=BT();v.forEach(E=>{if(!a.has(E)){const x=GT(t.get(E),r.get(E));x!==null&&_.set(E,x),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return X.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):X.resolve(Ms());let h=ql,f=a;return u.next(p=>X.forEach(p,(v,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(v)?X.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{f=f.insert(v,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Ne())).next(v=>({batchId:h,changes:UT(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let s=Pl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Pl();return this.indexManager.getCollectionParents(e,a).next(h=>X.forEach(h,f=>{const p=function(_,E){return new Zh(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(v=>{v.forEach((_,E)=>{u=u.insert(_,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,Gt.newInvalidDocument(v)))});let h=Pl();return u.forEach((f,p)=>{const v=a.get(f);v!==void 0&&Ol(v.mutation,p,er.empty(),Ye.now()),td(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return X.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(s){return{id:s.id,version:s.version,createTime:vr(s.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(s){return{name:s.name,query:CN(s.bundledQuery),readTime:vr(s.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.overlays=new st(ye.comparator),this.kr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ms();return X.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.wt(e,t,a)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const s=Ms(),a=t.length+1,u=new ye(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return X.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new st((p,v)=>p-v);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=a.get(p.largestBatchId);v===null&&(v=Ms(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=Ms(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,v)=>h.set(p,v)),!(h.size()>=s)););return X.resolve(h)}wt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new iN(t,r));let a=this.kr.get(t);a===void 0&&(a=Ne(),this.kr.set(t,a)),this.kr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this.qr=new xt(bt.Qr),this.$r=new xt(bt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new bt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new bt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new ye(new Xe([])),r=new bt(t,e),s=new bt(t,e+1),a=[];return this.$r.forEachInRange([r,s],u=>{this.Wr(u),a.push(u.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ye(new Xe([])),r=new bt(t,e),s=new bt(t,e+1);let a=Ne();return this.$r.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new bt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class bt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ye.comparator(e.key,t.key)||Pe(e.Hr,t.Hr)}static Ur(e,t){return Pe(e.Hr,t.Hr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new xt(bt.Qr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new rN(a,t,r,s);this.mutationQueue.push(u);for(const h of s)this.Yr=this.Yr.add(new bt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),a=s<0?0:s;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Lm:this.er-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new bt(t,0),s=new bt(t,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,s],u=>{const h=this.Zr(u.Hr);a.push(h)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xt(Pe);return t.forEach(s=>{const a=new bt(s,0),u=new bt(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,u],h=>{r=r.add(h.Hr)})}),X.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;ye.isDocumentKey(a)||(a=a.child(""));const u=new bt(new ye(a),0);let h=new xt(Pe);return this.Yr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(f.Hr)),!0)},u),X.resolve(this.ei(h))}ei(e){const t=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Be(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return X.forEach(t.mutations,s=>{const a=new bt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new bt(t,0),s=this.Yr.firstAfterOrEqual(r);return X.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.ni=e,this.docs=function(){return new st(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(t))}getEntries(e,t){let r=ni();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Gt.newInvalidDocument(s))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ni();const u=t.path,h=new ye(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||gb(mb(v),r)<=0||(s.has(v.key)||td(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Ee(9500)}ri(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $N(this)}getSize(e){return X.resolve(this.size)}}class $N extends LN{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.persistence=e,this.ii=new Qs(t=>Fm(t),jm),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.si=0,this.oi=new Wm,this.targetCount=0,this._i=ca.ar()}forEachTarget(e,t){return this.ii.forEach((r,s)=>t(s)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),X.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new ca(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.hr(t),X.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.ii.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ii.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),X.waitFor(a).next(()=>s)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,t){this.ai={},this.overlays={},this.ui=new Xh(0),this.ci=!1,this.ci=!0,this.li=new UN,this.referenceDelegate=e(this),this.hi=new WN(this),this.indexManager=new PN,this.remoteDocumentCache=function(s){return new zN(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new AN(t),this.Ti=new FN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new BN(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const s=new HN(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ei(e,t){return X.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class HN extends vb{constructor(e){super(),this.currentSequenceNumber=e}}class Hm{constructor(e){this.persistence=e,this.Ai=new Wm,this.Ri=null}static Vi(e){return new Hm(e)}get mi(){if(this.Ri)return this.Ri;throw Ee(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.mi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.mi,r=>{const s=ye.fromPath(r);return this.fi(e,s).next(a=>{a||t.removeEntry(s,Ie.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return X.or([()=>X.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Vh{constructor(e,t){this.persistence=e,this.gi=new Qs(r=>Eb(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=VN(this,t)}static Vi(e,t){return new Vh(e,t)}Ii(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return X.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(a=>a?X.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ri(e,u=>this.Sr(e,u,t).next(h=>{h||(r++,a.removeEntry(u,Ie.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),X.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=lh(e.data.value)),t}Sr(e,t,r){return X.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.gi.get(t);return X.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=s}static Es(e,t){let r=Ne(),s=Ne();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new qm(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return IC()?8:_b(Qt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ps(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ys(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new qN;return this.ws(e,t,u).next(h=>{if(a.result=h,this.Rs)return this.Ss(e,t,u,h.size)})}).next(()=>a.result)}Ss(e,t,r,s){return r.documentReadCount<this.Vs?(Ho()<=be.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ho()<=be.DEBUG&&ue("QueryEngine","Query:",qo(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Ho()<=be.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(t))):X.resolve())}ps(e,t){if(s0(t))return X.resolve(null);let r=yr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Vp(t,null,"F"),r=yr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Ne(...a);return this.gs.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.bs(t,h);return this.Ds(t,p,u,f.readTime)?this.ps(e,Vp(t,null,"F")):this.vs(e,p,t,f)}))})))}ys(e,t,r,s){return s0(t)||s.isEqual(Ie.min())?X.resolve(null):this.gs.getDocuments(e,r).next(a=>{const u=this.bs(t,a);return this.Ds(t,u,r,s)?X.resolve(null):(Ho()<=be.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),qo(t)),this.vs(e,u,t,pb(s,ql)).next(h=>h))})}bs(e,t){let r=new xt(FT(e));return t.forEach((s,a)=>{td(e,a)&&(r=r.add(a))}),r}Ds(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ws(e,t,r){return Ho()<=be.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",qo(t)),this.gs.getDocumentsMatchingQuery(e,t,Gi.min(),r)}vs(e,t,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="LocalStore",KN=3e8;class QN{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.Fs=new st(Pe),this.Ms=new Qs(a=>Fm(a),jm),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function XN(n,e,t,r){return new QN(n,e,t,r)}async function lS(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let f=Ne();for(const p of s){u.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of a){h.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Bs:p,removedBatchIds:u,addedBatchIds:h}))})})}function YN(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.Os.newChangeBuffer({trackRemovals:!0});return function(h,f,p,v){const _=p.batch,E=_.keys();let x=X.resolve();return E.forEach(P=>{x=x.next(()=>v.getEntry(f,P)).next(V=>{const N=p.docVersions.get(P);Be(N!==null,48541),V.version.compareTo(N)<0&&(_.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),v.addEntry(V)))})}),x.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Ne();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function uS(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function JN(n,e){const t=Ae(n),r=e.snapshotVersion;let s=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Os.newChangeBuffer({trackRemovals:!0});s=t.Fs;const h=[];e.targetChanges.forEach((v,_)=>{const E=s.get(_);if(!E)return;h.push(t.hi.removeMatchingKeys(a,v.removedDocuments,_).next(()=>t.hi.addMatchingKeys(a,v.addedDocuments,_)));let x=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?x=x.withResumeToken(Ut.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,r)),s=s.insert(_,x),function(V,N,F){return V.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=KN?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(E,x,v)&&h.push(t.hi.updateTargetData(a,x))});let f=ni(),p=Ne();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),h.push(ZN(a,u,e.documentUpdates).next(v=>{f=v.Ls,p=v.ks})),!r.isEqual(Ie.min())){const v=t.hi.getLastRemoteSnapshotVersion(a).next(_=>t.hi.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(v)}return X.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Fs=s,a))}function ZN(n,e,t){let r=Ne(),s=Ne();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ni();return t.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ue(Gm,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{Ls:u,ks:s}})}function eD(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Lm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tD(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.hi.getTargetData(r,e).next(a=>a?(s=a,X.resolve(s)):t.hi.allocateTargetId(r).next(u=>(s=new ji(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function jp(n,e,t){const r=Ae(n),s=r.Fs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Ta(u))throw u;ue(Gm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function v0(n,e,t){const r=Ae(n);let s=Ie.min(),a=Ne();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,v){const _=Ae(f),E=_.Ms.get(v);return E!==void 0?X.resolve(_.Fs.get(E)):_.hi.getTargetData(p,v)}(r,u,yr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>r.Cs.getDocumentsMatchingQuery(u,e,t?s:Ie.min(),t?a:Ne())).next(h=>(nD(r,Bb(e),h),{documents:h,qs:a})))}function nD(n,e,t){let r=n.xs.get(e)||Ie.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.xs.set(e,r)}class _0{constructor(){this.activeTargetIds=Gb()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rD{constructor(){this.Fo=new _0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new _0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="ConnectivityMonitor";class E0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ue(w0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ue(w0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc=null;function Up(){return Kc===null?Kc=function(){return 268435456+Math.round(2147483648*Math.random())}():Kc++,"0x"+Kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="RestConnection",sD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===Ph?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,a){const u=Up(),h=this.Go(e,t.toUriEncodedString());ue(tp,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,s,a);const{host:p}=new URL(h),v=ya(p);return this.jo(e,h,f,r,v).then(_=>(ue(tp,`Received RPC '${e}' ${u}: `,_),_),_=>{throw qi(tp,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_})}Jo(e,t,r,s,a,u){return this.Wo(e,t,r,s,a)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}Go(e,t){const r=sD[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class lD extends oD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,s,a){const u=Up();return new Promise((h,f)=>{const p=new cT;p.setWithCredentials(!0),p.listenOnce(hT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ah.NO_ERROR:const _=p.getResponseJson();ue(Ht,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case ah.TIMEOUT:ue(Ht,`RPC '${e}' ${u} timed out`),f(new pe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const E=p.getStatus();if(ue(Ht,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const P=x==null?void 0:x.error;if(P&&P.status&&P.message){const V=function(F){const O=F.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(O)>=0?O:ee.UNKNOWN}(P.status);f(new pe(V,P.message))}else f(new pe(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new pe(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{c_:e,streamId:u,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{ue(Ht,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(s);ue(Ht,`RPC '${e}' ${u} sending request:`,s),p.send(t,"POST",v,r,15)})}P_(e,t,r){const s=Up(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=pT(),h=fT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");ue(Ht,`Creating RPC '${e}' stream ${s}: ${v}`,f);const _=u.createWebChannel(v,f);this.T_(_);let E=!1,x=!1;const P=new aD({Ho:N=>{x?ue(Ht,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(E||(ue(Ht,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),ue(Ht,`RPC '${e}' stream ${s} sending:`,N),_.send(N))},Yo:()=>_.close()}),V=(N,F,O)=>{N.listen(F,B=>{try{O(B)}catch(Q){setTimeout(()=>{throw Q},0)}})};return V(_,Cl.EventType.OPEN,()=>{x||(ue(Ht,`RPC '${e}' stream ${s} transport opened.`),P.s_())}),V(_,Cl.EventType.CLOSE,()=>{x||(x=!0,ue(Ht,`RPC '${e}' stream ${s} transport closed`),P.__(),this.I_(_))}),V(_,Cl.EventType.ERROR,N=>{x||(x=!0,qi(Ht,`RPC '${e}' stream ${s} transport errored. Name:`,N.name,"Message:",N.message),P.__(new pe(ee.UNAVAILABLE,"The operation could not be completed")))}),V(_,Cl.EventType.MESSAGE,N=>{var F;if(!x){const O=N.data[0];Be(!!O,16349);const B=O,Q=(B==null?void 0:B.error)||((F=B[0])===null||F===void 0?void 0:F.error);if(Q){ue(Ht,`RPC '${e}' stream ${s} received error:`,Q);const J=Q.status;let se=function(C){const D=mt[C];if(D!==void 0)return XT(D)}(J),b=Q.message;se===void 0&&(se=ee.INTERNAL,b="Unknown error status: "+J+" with message "+Q.message),x=!0,P.__(new pe(se,b)),_.close()}else ue(Ht,`RPC '${e}' stream ${s} received:`,O),P.a_(O)}}),V(h,dT.STAT_EVENT,N=>{N.stat===Pp.PROXY?ue(Ht,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===Pp.NOPROXY&&ue(Ht,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{P.o_()},0),P}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(n){return new dN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=s,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-r);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="PersistentStream";class hS{constructor(e,t,r,s,a,u,h,f){this.Fi=e,this.w_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new cS(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(ti(t.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===t&&this.W_(r,s)},r=>{e(()=>{const s=new pe(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ue(T0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ue(T0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uD extends hS{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=mN(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ie.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?vr(u.readTime):Ie.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=Fp(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=Dp(f)?{documents:vN(a,f)}:{query:_N(a,f).Vt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=ZT(a,u.resumeToken);const p=Lp(a,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=Dh(a,u.snapshotVersion.toTimestamp());const p=Lp(a,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=EN(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=Fp(this.serializer),t.removeTarget=e,this.k_(t)}}class cD extends hS{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=yN(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=Fp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>gN(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{}class dD extends hD{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Wo(e,Op(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(ee.UNKNOWN,a.toString())})}Jo(e,t,r,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Jo(e,Op(t,r),s,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ee.UNKNOWN,u.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class fD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ti(t),this._a=!1):ue("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="RemoteStore";class pD{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(u=>{r.enqueueAndForget(async()=>{Ys(this)&&(ue(Gs,"Restarting streams for network reachability change."),await async function(f){const p=Ae(f);p.Ia.add(4),await wu(p),p.Aa.set("Unknown"),p.Ia.delete(4),await od(p)}(this))})}),this.Aa=new fD(r,s)}}async function od(n){if(Ys(n))for(const e of n.da)await e(!0)}async function wu(n){for(const e of n.da)await e(!1)}function dS(n,e){const t=Ae(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Ym(t)?Xm(t):Sa(t).x_()&&Qm(t,e))}function Km(n,e){const t=Ae(n),r=Sa(t);t.Ta.delete(e),r.x_()&&fS(t,e),t.Ta.size===0&&(r.x_()?r.B_():Ys(t)&&t.Aa.set("Unknown"))}function Qm(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sa(n).H_(e)}function fS(n,e){n.Ra.$e(e),Sa(n).Y_(e)}function Xm(n){n.Ra=new lN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Sa(n).start(),n.Aa.aa()}function Ym(n){return Ys(n)&&!Sa(n).M_()&&n.Ta.size>0}function Ys(n){return Ae(n).Ia.size===0}function pS(n){n.Ra=void 0}async function mD(n){n.Aa.set("Online")}async function gD(n){n.Ta.forEach((e,t)=>{Qm(n,e)})}async function yD(n,e){pS(n),Ym(n)?(n.Aa.la(e),Xm(n)):n.Aa.set("Unknown")}async function vD(n,e,t){if(n.Aa.set("Online"),e instanceof JT&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const h of a.targetIds)s.Ta.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ta.delete(h),s.Ra.removeTarget(h))}(n,e)}catch(r){ue(Gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lh(n,r)}else if(e instanceof hh?n.Ra.Ye(e):e instanceof YT?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ie.min()))try{const r=await uS(n.localStore);t.compareTo(r)>=0&&await function(a,u){const h=a.Ra.Pt(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ta.get(p);v&&a.Ta.set(p,v.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const v=a.Ta.get(f);if(!v)return;a.Ta.set(f,v.withResumeToken(Ut.EMPTY_BYTE_STRING,v.snapshotVersion)),fS(a,f);const _=new ji(v.target,f,p,v.sequenceNumber);Qm(a,_)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){ue(Gs,"Failed to raise snapshot:",r),await Lh(n,r)}}async function Lh(n,e,t){if(!Ta(e))throw e;n.Ia.add(1),await wu(n),n.Aa.set("Offline"),t||(t=()=>uS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(Gs,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await od(n)})}function mS(n,e){return e().catch(t=>Lh(n,t,e))}async function ad(n){const e=Ae(n),t=Yi(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Lm;for(;_D(e);)try{const s=await eD(e.localStore,r);if(s===null){e.Pa.length===0&&t.B_();break}r=s.batchId,wD(e,s)}catch(s){await Lh(e,s)}gS(e)&&yS(e)}function _D(n){return Ys(n)&&n.Pa.length<10}function wD(n,e){n.Pa.push(e);const t=Yi(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function gS(n){return Ys(n)&&!Yi(n).M_()&&n.Pa.length>0}function yS(n){Yi(n).start()}async function ED(n){Yi(n).na()}async function TD(n){const e=Yi(n);for(const t of n.Pa)e.X_(t.mutations)}async function SD(n,e,t){const r=n.Pa.shift(),s=Bm.from(r,e,t);await mS(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await ad(n)}async function ID(n,e){e&&Yi(n).Z_&&await async function(r,s){if(function(u){return oN(u)&&u!==ee.ABORTED}(s.code)){const a=r.Pa.shift();Yi(r).N_(),await mS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await ad(r)}}(n,e),gS(n)&&yS(n)}async function S0(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),ue(Gs,"RemoteStore received new credentials");const r=Ys(t);t.Ia.add(3),await wu(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await od(t)}async function xD(n,e){const t=Ae(n);e?(t.Ia.delete(2),await od(t)):e||(t.Ia.add(2),await wu(t),t.Aa.set("Unknown"))}function Sa(n){return n.Va||(n.Va=function(t,r,s){const a=Ae(t);return a.ia(),new uD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Zo:mD.bind(null,n),e_:gD.bind(null,n),n_:yD.bind(null,n),J_:vD.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),Ym(n)?Xm(n):n.Aa.set("Unknown")):(await n.Va.stop(),pS(n))})),n.Va}function Yi(n){return n.ma||(n.ma=function(t,r,s){const a=Ae(t);return a.ia(),new cD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:ED.bind(null,n),n_:ID.bind(null,n),ea:TD.bind(null,n),ta:SD.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await ad(n)):(await n.ma.stop(),n.Pa.length>0&&(ue(Gs,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,h=new Jm(e,t,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(n,e){if(ti("AsyncQueue",`${e}: ${n}`),Ta(n))return new pe(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{static emptySet(e){return new ra(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=Pl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ra)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ra;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.fa=new st(ye.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ee(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class ha{constructor(e,t,r,s,a,u,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new ha(e,t,ra.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class CD{constructor(){this.queries=x0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const s=Ae(t),a=s.queries;s.queries=x0(),a.forEach((u,h)=>{for(const f of h.wa)f.onError(r)})})(this,new pe(ee.ABORTED,"Firestore shutting down"))}}function x0(){return new Qs(n=>MT(n),ed)}async function PD(n,e){const t=Ae(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Sa()&&e.ba()&&(r=2):(a=new AD,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await t.onListen(s,!0);break;case 1:a.ya=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=Zm(u,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,a),a.wa.push(e),e.va(t.onlineState),a.ya&&e.Ca(a.ya)&&eg(t)}async function RD(n,e){const t=Ae(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.wa.indexOf(e);u>=0&&(a.wa.splice(u,1),a.wa.length===0?s=e.ba()?0:1:!a.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function kD(n,e){const t=Ae(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const h of u.wa)h.Ca(s)&&(r=!0);u.ya=s}}r&&eg(t)}function bD(n,e,t){const r=Ae(n),s=r.queries.get(e);if(s)for(const a of s.wa)a.onError(t);r.queries.delete(e)}function eg(n){n.Da.forEach(e=>{e.next()})}var Bp,A0;(A0=Bp||(Bp={})).Fa="default",A0.Cache="cache";class ND{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.key=e}}class _S{constructor(e){this.key=e}}class DD{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ne(),this.mutatedKeys=Ne(),this.Xa=FT(e),this.eu=new ra(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new I0,s=t?t.eu:this.eu;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,_)=>{const E=s.get(v),x=td(this.query,_)?_:null,P=!!E&&this.mutatedKeys.has(E.key),V=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let N=!1;E&&x?E.data.isEqual(x.data)?P!==V&&(r.track({type:3,doc:x}),N=!0):this.iu(E,x)||(r.track({type:2,doc:x}),N=!0,(f&&this.Xa(x,f)>0||p&&this.Xa(x,p)<0)&&(h=!0)):!E&&x?(r.track({type:0,doc:x}),N=!0):E&&!x&&(r.track({type:1,doc:E}),N=!0,(f||p)&&(h=!0)),N&&(x?(u=u.add(x),a=V?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{eu:u,ru:r,Ds:h,mutatedKeys:a}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort((v,_)=>function(x,P){const V=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{At:N})}};return V(x)-V(P)}(v.type,_.type)||this.Xa(v.doc,_.doc)),this.su(r),s=s!=null&&s;const h=t&&!s?this.ou():[],f=this.Za.size===0&&this.current&&!s?1:0,p=f!==this.Ya;return this.Ya=f,u.length!==0||p?{snapshot:new ha(this.query,e.eu,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:h}:{_u:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new I0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ne(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new _S(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new vS(r))}),t}uu(e){this.Ha=e.qs,this.Za=Ne();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return ha.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const tg="SyncEngine";class VD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class LD{constructor(e){this.key=e,this.lu=!1}}class OD{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new Qs(h=>MT(h),ed),this.Tu=new Map,this.Iu=new Set,this.du=new st(ye.comparator),this.Eu=new Map,this.Au=new Wm,this.Ru={},this.Vu=new Map,this.mu=ca.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function MD(n,e,t=!0){const r=xS(n);let s;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.cu()):s=await wS(r,e,t,!0),s}async function FD(n,e){const t=xS(n);await wS(t,e,!0,!1)}async function wS(n,e,t,r){const s=await tD(n.localStore,yr(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await jD(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&dS(n.remoteStore,s),h}async function jD(n,e,t,r,s){n.gu=(_,E,x)=>async function(V,N,F,O){let B=N.view.nu(F);B.Ds&&(B=await v0(V.localStore,N.query,!1).then(({documents:b})=>N.view.nu(b,B)));const Q=O&&O.targetChanges.get(N.targetId),J=O&&O.targetMismatches.get(N.targetId)!=null,se=N.view.applyChanges(B,V.isPrimaryClient,Q,J);return P0(V,N.targetId,se._u),se.snapshot}(n,_,E,x);const a=await v0(n.localStore,e,!0),u=new DD(e,a.qs),h=u.nu(a.documents),f=_u.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(h,n.isPrimaryClient,f);P0(n,t,p._u);const v=new VD(e,t,u);return n.Pu.set(e,v),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),p.snapshot}async function UD(n,e,t){const r=Ae(n),s=r.Pu.get(e),a=r.Tu.get(s.targetId);if(a.length>1)return r.Tu.set(s.targetId,a.filter(u=>!ed(u,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await jp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Km(r.remoteStore,s.targetId),zp(r,s.targetId)}).catch(Ea)):(zp(r,s.targetId),await jp(r.localStore,s.targetId,!0))}async function BD(n,e){const t=Ae(n),r=t.Pu.get(e),s=t.Tu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Km(t.remoteStore,r.targetId))}async function zD(n,e,t){const r=QD(n);try{const s=await function(u,h){const f=Ae(u),p=Ye.now(),v=h.reduce((x,P)=>x.add(P.key),Ne());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let P=ni(),V=Ne();return f.Os.getEntries(x,v).next(N=>{P=N,P.forEach((F,O)=>{O.isValidDocument()||(V=V.add(F))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,P)).next(N=>{_=N;const F=[];for(const O of h){const B=tN(O,_.get(O.key).overlayedDocument);B!=null&&F.push(new Xs(O.key,B,RT(B.value.mapValue),Yr.exists(!0)))}return f.mutationQueue.addMutationBatch(x,p,F,h)}).next(N=>{E=N;const F=N.applyToLocalDocumentSet(_,V);return f.documentOverlayCache.saveOverlays(x,N.batchId,F)})}).then(()=>({batchId:E.batchId,changes:UT(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let p=u.Ru[u.currentUser.toKey()];p||(p=new st(Pe)),p=p.insert(h,f),u.Ru[u.currentUser.toKey()]=p}(r,s.batchId,t),await Eu(r,s.changes),await ad(r.remoteStore)}catch(s){const a=Zm(s,"Failed to persist write");t.reject(a)}}async function ES(n,e){const t=Ae(n);try{const r=await JN(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.Eu.get(a);u&&(Be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.lu=!0:s.modifiedDocuments.size>0?Be(u.lu,14607):s.removedDocuments.size>0&&(Be(u.lu,42227),u.lu=!1))}),await Eu(t,r,e)}catch(r){await Ea(r)}}function C0(n,e,t){const r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Pu.forEach((a,u)=>{const h=u.view.va(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=Ae(u);f.onlineState=h;let p=!1;f.queries.forEach((v,_)=>{for(const E of _.wa)E.va(h)&&(p=!0)}),p&&eg(f)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $D(n,e,t){const r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Eu.get(e),a=s&&s.key;if(a){let u=new st(ye.comparator);u=u.insert(a,Gt.newNoDocument(a,Ie.min()));const h=Ne().add(a),f=new id(Ie.min(),new Map,new st(Pe),u,h);await ES(r,f),r.du=r.du.remove(a),r.Eu.delete(e),ng(r)}else await jp(r.localStore,e,!1).then(()=>zp(r,e,t)).catch(Ea)}async function WD(n,e){const t=Ae(n),r=e.batch.batchId;try{const s=await YN(t.localStore,e);SS(t,r,null),TS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Eu(t,s)}catch(s){await Ea(s)}}async function HD(n,e,t){const r=Ae(n);try{const s=await function(u,h){const f=Ae(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return f.mutationQueue.lookupMutationBatch(p,h).next(_=>(Be(_!==null,37113),v=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>f.localDocuments.getDocuments(p,v))})}(r.localStore,e);SS(r,e,t),TS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Eu(r,s)}catch(s){await Ea(s)}}function TS(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function SS(n,e,t){const r=Ae(n);let s=r.Ru[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function zp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||IS(n,r)})}function IS(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Km(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),ng(n))}function P0(n,e,t){for(const r of t)r instanceof vS?(n.Au.addReference(r.key,e),qD(n,r)):r instanceof _S?(ue(tg,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||IS(n,r.key)):Ee(19791,{yu:r})}function qD(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(ue(tg,"New document in limbo: "+t),n.Iu.add(r),ng(n))}function ng(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new ye(Xe.fromString(e)),r=n.mu.next();n.Eu.set(r,new LD(t)),n.du=n.du.insert(t,r),dS(n.remoteStore,new ji(yr(OT(t.path)),r,"TargetPurposeLimboResolution",Xh.ue))}}async function Eu(n,e,t){const r=Ae(n),s=[],a=[],u=[];r.Pu.isEmpty()||(r.Pu.forEach((h,f)=>{u.push(r.gu(f,e,t).then(p=>{var v;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){s.push(p);const _=qm.Es(f.targetId,p);a.push(_)}}))}),await Promise.all(u),r.hu.J_(s),await async function(f,p){const v=Ae(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>X.forEach(p,E=>X.forEach(E.Is,x=>v.persistence.referenceDelegate.addReference(_,E.targetId,x)).next(()=>X.forEach(E.ds,x=>v.persistence.referenceDelegate.removeReference(_,E.targetId,x)))))}catch(_){if(!Ta(_))throw _;ue(Gm,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const x=v.Fs.get(E),P=x.snapshotVersion,V=x.withLastLimboFreeSnapshotVersion(P);v.Fs=v.Fs.insert(E,V)}}}(r.localStore,a))}async function GD(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){ue(tg,"User change. New user:",e.toKey());const r=await lS(t.localStore,e);t.currentUser=e,function(a,u){a.Vu.forEach(h=>{h.forEach(f=>{f.reject(new pe(ee.CANCELLED,u))})}),a.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Eu(t,r.Bs)}}function KD(n,e){const t=Ae(n),r=t.Eu.get(e);if(r&&r.lu)return Ne().add(r.key);{let s=Ne();const a=t.Tu.get(e);if(!a)return s;for(const u of a){const h=t.Pu.get(u);s=s.unionWith(h.view.tu)}return s}}function xS(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ES.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$D.bind(null,e),e.hu.J_=kD.bind(null,e.eventManager),e.hu.pu=bD.bind(null,e.eventManager),e}function QD(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HD.bind(null,e),e}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return XN(this.persistence,new GN,e.initialUser,this.serializer)}Du(e){return new aS(Hm.Vi,this.serializer)}bu(e){return new rD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class XD extends Oh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Be(this.persistence.referenceDelegate instanceof Vh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new NN(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new aS(r=>Vh.Vi(r,t),this.serializer)}}class $p{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>C0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GD.bind(null,this.syncEngine),await xD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CD}()}createDatastore(e){const t=sd(e.databaseInfo.databaseId),r=function(a){return new lD(a)}(e.databaseInfo);return function(a,u,h,f){return new dD(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,h){return new pD(r,s,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>C0(this.syncEngine,t,0),function(){return E0.C()?new E0:new iD}())}createSyncEngine(e,t){return function(s,a,u,h,f,p,v){const _=new OD(s,a,u,h,f,p);return v&&(_.fu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Ae(s);ue(Gs,"RemoteStore shutting down."),a.Ia.add(5),await wu(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}$p.provider={build:()=>new $p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ti("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="FirestoreClient";class JD{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=qt.UNAUTHENTICATED,this.clientId=Dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ue(Ji,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ue(Ji,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Zm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rp(n,e){n.asyncQueue.verifyOperationInProgress(),ue(Ji,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await lS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{qi("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{ue("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{qi("Terminating Firestore due to IndexedDb database deletion failed",s)})}),n._offlineComponents=e}async function R0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ZD(n);ue(Ji,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>S0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>S0(e.remoteStore,s)),n._onlineComponents=e}async function ZD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Ji,"Using user provided OfflineComponentProvider");try{await rp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;qi("Error using user provided cache. Falling back to memory cache: "+t),await rp(n,new Oh)}}else ue(Ji,"Using default OfflineComponentProvider"),await rp(n,new XD(void 0));return n._offlineComponents}async function AS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Ji,"Using user provided OnlineComponentProvider"),await R0(n,n._uninitializedComponentsProvider._online)):(ue(Ji,"Using default OnlineComponentProvider"),await R0(n,new $p))),n._onlineComponents}function e2(n){return AS(n).then(e=>e.syncEngine)}async function t2(n){const e=await AS(n),t=e.eventManager;return t.onListen=MD.bind(null,e.syncEngine),t.onUnlisten=UD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=FD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=BD.bind(null,e.syncEngine),t}function n2(n,e,t={}){const r=new Wi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const v=new YD({next:E=>{v.Ou(),u.enqueueAndForget(()=>RD(a,_)),E.fromCache&&f.source==="server"?p.reject(new pe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new ND(h,v,{includeMetadataChanges:!0,ka:!0});return PD(a,_)}(await t2(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firestore.googleapis.com",b0=!0;class N0{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PS,this.ssl=b0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:b0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kN)throw new pe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ld{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ib;switch(r.type){case"firstParty":return new lb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=k0.get(t);r&&(ue("ComponentProvider","Removing Datastore"),k0.delete(t),r.terminate())}(this),Promise.resolve()}}function r2(n,e,t,r={}){var s;n=Ah(n,ld);const a=ya(e),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a&&(EE(`https://${f}`),TE("Firestore",!0)),u.host!==PS&&u.host!==f&&qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:f,ssl:a,emulatorOptions:r});if(!zs(p,h)&&(n._setSettings(p),r.mockUserToken)){let v,_;if(typeof r.mockUserToken=="string")v=r.mockUserToken,_=qt.MOCK_USER;else{v=mC(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new pe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new qt(E)}n._authCredentials=new sb(new gT(v,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ud(this.firestore,e,this._query)}}class jt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(yu(t,jt._jsonSchema))return new jt(e,r||null,new ye(Xe.fromString(t.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:yt("string",jt._jsonSchemaVersion),referencePath:yt("string")};class Hi extends ud{constructor(e,t,r){super(e,t,OT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new ye(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function Zl(n,e,...t){if(n=wn(n),vT("collection","path",e),n instanceof ld){const r=Xe.fromString(e,...t);return q_(r),new Hi(n,null,r)}{if(!(n instanceof jt||n instanceof Hi))throw new pe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return q_(r),new Hi(n.firestore,null,r)}}function i2(n,e,...t){if(n=wn(n),arguments.length===1&&(e=Dm.newId()),vT("doc","path",e),n instanceof ld){const r=Xe.fromString(e,...t);return H_(r),new jt(n,null,new ye(r))}{if(!(n instanceof jt||n instanceof Hi))throw new pe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return H_(r),new jt(n.firestore,n instanceof Hi?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="AsyncQueue";class V0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new cS(this,"async_queue_retry"),this.oc=()=>{const r=np();r&&ue(D0,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=np();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=np();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Wi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ta(e))throw e;ue(D0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ti("INTERNAL UNHANDLED ERROR: ",L0(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const s=Jm.createAndSchedule(this,e,t,r,a=>this.lc(a));return this.ec.push(s),s}ac(){this.tc&&Ee(47125,{hc:L0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function L0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class rg extends ld{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new V0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V0(e),this._firestoreClient=void 0,await e}}}function s2(n,e){const t=typeof n=="object"?n:AE(),r=typeof n=="string"?n:Ph,s=wm(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=fC("firestore");a&&r2(s,...a)}return s}function RS(n){if(n._terminated)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||o2(n),n._firestoreClient}function o2(n){var e,t,r;const s=n._freezeSettings(),a=function(h,f,p,v){return new Ib(h,f,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,CS(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new JD(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Ut.fromBase64String(e))}catch(t){throw new pe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vn(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:yt("string",Vn._jsonSchemaVersion),bytes:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_r._jsonSchemaVersion}}static fromJSON(e){if(yu(e,_r._jsonSchema))return new _r(e.latitude,e.longitude)}}_r._jsonSchemaVersion="firestore/geoPoint/1.0",_r._jsonSchema={type:yt("string",_r._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new wr(e.vectorValues);throw new pe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:yt("string",wr._jsonSchemaVersion),vectorValues:yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=/^__.*__$/;class l2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new vu(e,this.data,t,this.fieldTransforms)}}function kS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ec:n})}}class og{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Mh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(kS(this.Ec)&&a2.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class u2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||sd(e)}Dc(e,t,r,s=!1){return new og({Ec:e,methodName:t,bc:r,path:Ft.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c2(n){const e=n._freezeSettings(),t=sd(n._databaseId);return new u2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function h2(n,e,t,r,s,a={}){const u=n.Dc(a.merge||a.mergeFields?2:0,e,t,s);VS("Data must be an object, but it was:",u,r);const h=NS(r,u);let f,p;if(a.merge)f=new er(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const _ of a.mergeFields){const E=d2(e,_,t);if(!u.contains(E))throw new pe(ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);p2(v,E)||v.push(E)}f=new er(v),p=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=u.fieldTransforms;return new l2(new Dn(h),f,p)}class ag extends sg{_toFieldTransform(e){return new Yb(e.path,new Xl)}isEqual(e){return e instanceof ag}}function bS(n,e){if(DS(n=wn(n)))return VS("Unsupported field value:",e,n),NS(n,e);if(n instanceof sg)return function(r,s){if(!kS(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const h of r){let f=bS(h,s.yc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Kb(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ye.fromDate(r);return{timestampValue:Dh(s.serializer,a)}}if(r instanceof Ye){const a=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dh(s.serializer,a)}}if(r instanceof _r)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vn)return{bytesValue:ZT(s.serializer,r._byteString)};if(r instanceof jt){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:$m(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof wr)return function(u,h){return{mapValue:{fields:{[CT]:{stringValue:PT},[Rh]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.wc("VectorValues must only contain numeric values.");return Um(h.serializer,p)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${Vm(r)}`)}(n,e)}function NS(n,e){const t={};return ET(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(n,(r,s)=>{const a=bS(s,e.Vc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function DS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ye||n instanceof _r||n instanceof Vn||n instanceof jt||n instanceof sg||n instanceof wr)}function VS(n,e,t){if(!DS(t)||!_T(t)){const r=Vm(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function d2(n,e,t){if((e=wn(e))instanceof ig)return e._internalPath;if(typeof e=="string")return LS(n,e);throw Mh("Field path arguments must be of type string or ",n,!1,void 0,t)}const f2=new RegExp("[~\\*/\\[\\]]");function LS(n,e,t){if(e.search(f2)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ig(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mh(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new pe(ee.INVALID_ARGUMENT,h+n+f)}function p2(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(MS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class m2 extends OS{data(){return super.data()}}function MS(n,e){return typeof e=="string"?LS(n,e):e instanceof ig?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y2{convertValue(e,t="none"){switch(Xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ks(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Rh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>ht(u.doubleValue));return new wr(a)}convertGeoPoint(e){return new _r(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Jh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const t=Ki(e);return new Ye(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xe.fromString(e);Be(sS(r),9688,{name:e});const s=new Kl(r.get(1),r.get(3)),a=new ye(r.popFirst(5));return s.isEqual(t)||ti(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Qc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends OS{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(MS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ia._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:yt("string",ia._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};class dh extends ia{data(e={}){return super.data(e)}}class sa{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Qc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new dh(this._firestore,this._userDataWriter,r.key,r,new Qc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const f=new dh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Qc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new dh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Qc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,v=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:_2(h.type),doc:f,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}sa._jsonSchemaVersion="firestore/querySnapshot/1.0",sa._jsonSchema={type:yt("string",sa._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};class w2 extends y2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,t)}}function Fh(n){n=Ah(n,ud);const e=Ah(n.firestore,rg),t=RS(e),r=new w2(e);return g2(n._query),n2(t,n._query).then(s=>new sa(e,r,n,s))}function E2(n,e){const t=Ah(n.firestore,rg),r=i2(n),s=v2(n.converter,e);return T2(t,[h2(c2(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Yr.exists(!1))]).then(()=>r)}function T2(n,e){return function(r,s){const a=new Wi;return r.asyncQueue.enqueueAndForget(async()=>zD(await e2(r),s,a)),a.promise}(RS(n),e)}function S2(){return new ag("serverTimestamp")}(function(e,t=!0){(function(s){wa=s})(va),oa(new $s("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new rg(new ob(r.getProvider("auth-internal")),new ub(u,r.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(p.options.projectId,v)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),zi(U_,B_,e),zi(U_,B_,"esm2017")})();const I2={apiKey:"AIzaSyBfqkLLys811x-OFnZOSjtZYfI69FpvBBw",authDomain:"fiverr-managment.firebaseapp.com",projectId:"fiverr-managment",storageBucket:"fiverr-managment.appspot.com",messagingSenderId:"863919386714",appId:"1:863919386714:web:ae7ebc45e89e7a34f1a863",measurementId:"G-2TSM52QLWX"},FS=xE(I2),ri=eb(FS),jS=new qr,eu=s2(FS),US="/fiverr_management/assets/signup-mZHClsrs.jpg",x2=()=>{const[n,e]=M.useState(""),[t,r]=M.useState(""),[s,a]=M.useState(""),[u,h]=M.useState(!1),f=oi(),p=async _=>{_.preventDefault(),a("");try{await BR(ri,n,t),f("/fiverr")}catch{a("Invalid email or password.")}},v=async()=>{try{await aT(ri,jS),f("/fiverr")}catch(_){console.error(_),a(_.message)}};return A.jsxs("div",{className:"flex min-h-screen",children:[A.jsx("div",{className:"w-1/2 bg-cover bg-center text-white flex flex-col justify-center px-10 relative",style:{backgroundImage:`url(${US})`}}),A.jsx("div",{className:"w-1/2 flex items-center justify-center bg-white",children:A.jsxs("form",{onSubmit:p,className:"w-full max-w-sm px-6 py-10",children:[A.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Log in to your account"}),A.jsxs("p",{className:"mb-4 text-sm text-gray-600",children:["Dont have an account?"," ",A.jsx("a",{href:"/signup",className:"text-green-700 font-medium underline",children:"Sign Up"})]}),s&&A.jsx("p",{className:"text-red-600 mb-4 text-sm",children:s}),A.jsxs("button",{type:"button",onClick:v,className:"w-full border border-gray-300 py-2 rounded mb-3 flex items-center justify-center gap-2 hover:bg-gray-100",children:[A.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),"Continue with Google"]}),!u&&A.jsx("div",{onClick:()=>h(!0),className:"w-full border border-gray-300 py-2 rounded mb-3 text-center cursor-pointer hover:bg-gray-100",children:"Continue with email/username"}),!u&&A.jsxs("div",{className:"flex gap-2 mb-3",children:[A.jsxs("button",{type:"button",className:"w-1/2 flex justify-center gap-2 border border-gray-300 py-2 rounded hover:bg-gray-100",children:[A.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"currentColor",children:A.jsx("path",{d:"M318.7 268.7c-.3-56.6 46.2-83.7 48.2-85-26.4-38.6-67.6-43.9-82.2-44.4-35.1-3.6-68.5 20.7-86.2 20.7-17.7 0-45.1-20.2-74.3-19.6-38.2.5-73.5 22.1-93.2 56.2-40 69.3-10.2 171.8 28.7 228.1 19 27.6 41.6 58.6 71.3 57.4 28.3-1.1 39.1-18.4 73.2-18.4s44.3 18.4 74.7 17.9c30.9-.5 50.4-28.1 69.3-55.9 21.8-31.9 30.7-62.9 31-64.5-.7-.3-59.4-22.9-59.7-90.2zm-56.1-175.6c15.7-19 26.3-45.3 23.3-71.6-22.5.9-49.8 14.9-65.8 33.9-14.4 16.7-26.9 43.6-23.6 69 25.1 1.9 50.5-12.7 66.1-31.3z"})}),"Apple"]}),A.jsxs("button",{type:"button",className:"w-1/2 flex justify-center gap-2 border border-gray-300 py-2 rounded hover:bg-gray-100",children:[A.jsx("svg",{className:"w-5 h-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",fill:"currentColor",children:A.jsx("path",{d:"M279.1 288l14.2-92.7h-88.9V132.3c0-25.4 12.4-50.1 52.2-50.1h40.4V6.3S271.2 0 240.6 0C174.5 0 135.8 38.7 135.8 109.3v58H48v92.7h87.8V512h107.6V288z"})}),"Facebook"]})]}),u&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"my-4 text-center text-sm text-gray-500",children:"Log in with email:"}),A.jsx("input",{type:"email",placeholder:"Email",className:"w-full mb-3 px-4 py-2 border rounded",value:n,onChange:_=>e(_.target.value),required:!0}),A.jsx("input",{type:"password",placeholder:"Password",className:"w-full mb-4 px-4 py-2 border rounded",value:t,onChange:_=>r(_.target.value),required:!0}),A.jsx("button",{type:"submit",className:"w-full bg-green-700 text-white py-2 rounded hover:bg-green-600",children:"Log In"})]}),A.jsxs("p",{className:"text-xs text-gray-500 mt-6",children:["By logging in, you agree to the Fiverr"," ",A.jsx("a",{href:"#",className:"underline",children:"Terms of Service"})," ","and to occasionally receive emails from us. Please read our"," ",A.jsx("a",{href:"#",className:"underline",children:"Privacy Policy"})," ","to learn how we use your personal data."]})]})})]})},A2=()=>{const[n,e]=M.useState(""),[t,r]=M.useState(""),[s,a]=M.useState(""),[u,h]=M.useState(!1),f=oi(),p=async _=>{_.preventDefault(),a("");try{await UR(ri,n,t),f("/fiverr")}catch(E){a(E.message)}},v=async()=>{try{await aT(ri,jS),f("/fiverr")}catch(_){console.error(_),a(_.message)}};return A.jsxs("div",{className:"flex min-h-screen",children:[A.jsx("div",{className:"w-1/2 bg-cover bg-center text-white flex flex-col justify-center px-10 relative",style:{backgroundImage:`url(${US})`}}),A.jsx("div",{className:"w-1/2 flex items-center justify-center bg-white",children:A.jsxs("form",{onSubmit:p,className:"w-full max-w-sm px-6 py-10",children:[A.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sign in to your account"}),A.jsxs("p",{className:"mb-4 text-sm text-gray-600",children:["Already have an account?"," ",A.jsx("a",{href:"/login",className:"text-green-700 font-medium underline",children:"Login"})]}),s&&A.jsx("p",{className:"text-red-600 mb-4 text-sm",children:s}),A.jsxs("button",{type:"button",onClick:v,className:"w-full border border-gray-300 py-2 rounded mb-3 flex items-center justify-center gap-2 hover:bg-gray-100",children:[A.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),"Continue with Google"]}),!u&&A.jsx("div",{onClick:()=>h(!0),className:"w-full border border-gray-300 py-2 rounded mb-3 text-center cursor-pointer hover:bg-gray-100",children:"Continue with email/username"}),!u&&A.jsxs("div",{className:"flex gap-2 mb-3",children:[A.jsxs("button",{type:"button",className:"w-1/2 flex justify-center gap-2 border border-gray-300 py-2 rounded hover:bg-gray-100",children:[A.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"currentColor",children:A.jsx("path",{d:"M318.7 268.7c-.3-56.6 46.2-83.7 48.2-85-26.4-38.6-67.6-43.9-82.2-44.4-35.1-3.6-68.5 20.7-86.2 20.7-17.7 0-45.1-20.2-74.3-19.6-38.2.5-73.5 22.1-93.2 56.2-40 69.3-10.2 171.8 28.7 228.1 19 27.6 41.6 58.6 71.3 57.4 28.3-1.1 39.1-18.4 73.2-18.4s44.3 18.4 74.7 17.9c30.9-.5 50.4-28.1 69.3-55.9 21.8-31.9 30.7-62.9 31-64.5-.7-.3-59.4-22.9-59.7-90.2zm-56.1-175.6c15.7-19 26.3-45.3 23.3-71.6-22.5.9-49.8 14.9-65.8 33.9-14.4 16.7-26.9 43.6-23.6 69 25.1 1.9 50.5-12.7 66.1-31.3z"})}),"Apple"]}),A.jsxs("button",{type:"button",className:"w-1/2 flex justify-center gap-2 border border-gray-300 py-2 rounded hover:bg-gray-100",children:[A.jsx("svg",{className:"w-5 h-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",fill:"currentColor",children:A.jsx("path",{d:"M279.1 288l14.2-92.7h-88.9V132.3c0-25.4 12.4-50.1 52.2-50.1h40.4V6.3S271.2 0 240.6 0C174.5 0 135.8 38.7 135.8 109.3v58H48v92.7h87.8V512h107.6V288z"})}),"Facebook"]})]}),u&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"my-4 text-center text-sm text-gray-500",children:"Create an account with email:"}),A.jsx("input",{type:"email",placeholder:"Email",className:"w-full mb-3 px-4 py-2 border rounded",value:n,onChange:_=>e(_.target.value),required:!0}),A.jsx("input",{type:"password",placeholder:"Password",className:"w-full mb-4 px-4 py-2 border rounded",value:t,onChange:_=>r(_.target.value),required:!0}),A.jsx("button",{type:"submit",className:"w-full bg-green-700 text-white py-2 rounded hover:bg-green-600",children:"Sign Up"})]}),A.jsxs("p",{className:"text-xs text-gray-500 mt-6",children:["By joining, you agree to the Fiverr"," ",A.jsx("a",{href:"#",className:"underline",children:"Terms of Service"})," ","and to occasionally receive emails from us. Please read our"," ",A.jsx("a",{href:"#",className:"underline",children:"Privacy Policy"})," ","to learn how we use your personal data."]})]})})]})},C2="/fiverr_management/assets/services1-D9BRGpEA.webp",P2="/fiverr_management/assets/services2-B2hm5r6F.webp",O0="/fiverr_management/assets/services3-C60lw3D2.webp",M0="/fiverr_management/assets/services4-fkWrNB6w.webp",F0="/fiverr_management/assets/services5-Ca5njv2H.webp",R2="/fiverr_management/assets/hero%20section-MckhJzhy.webp",k2="/fiverr_management/assets/fiverr-DQplk_-X.webp",b2="/fiverr_management/assets/profile-BobKqOdC.webp",N2="/fiverr_management/assets/bg-U0h71G6d.mp4",Xc="/fiverr_management/assets/freelancer-DljtnZrN.webp",D2="/fiverr_management/assets/buyersec-SNJORSst.webp";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),L2=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),j0=n=>{const e=L2(n);return e.charAt(0).toUpperCase()+e.slice(1)},BS=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),O2=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=M.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:u,...h},f)=>M.createElement("svg",{ref:f,...M2,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:BS("lucide",s),...!a&&!O2(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,v])=>M.createElement(p,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=(n,e)=>{const t=M.forwardRef(({className:r,...s},a)=>M.createElement(F2,{ref:a,iconNode:e,className:BS(`lucide-${V2(j0(n))}`,`lucide-${n}`,r),...s}));return t.displayName=j0(n),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],B2=j2("search",U2),z2=n=>n?n.split(" ").map(r=>r[0].toUpperCase()).slice(0,2).join(""):"",lg=({user:n})=>{const e=oi(),t=Cr(),[r,s]=M.useState(!1),a=M.useRef();if(["/signup","/login"].includes(t.pathname))return null;const h=new URLSearchParams(t.search).get("tag")||"",[f,p]=M.useState(h);M.useEffect(()=>{const B=Q=>{a.current&&!a.current.contains(Q.target)&&s(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]);const v=()=>{WR(ri).then(()=>e("/signup"))},_=()=>{t.pathname==="/seller"?e("/"):e("/seller"),s(!1)},E=()=>{const B=f?`tag=${f}`:"";e(`/search?${B}`)},x=B=>{B.key==="Enter"&&E()},[P,V]=M.useState([]),[N,F]=M.useState([]);M.useEffect(()=>{(async()=>{const Q=await Fh(Zl(eu,"promotedGigs")),J=new Set;Q.docs.forEach(se=>{const b=se.data();b.tags&&Array.isArray(b.tags)&&b.tags.forEach(S=>J.add(S.toLowerCase())),b.gigTitle&&J.add(b.gigTitle.toLowerCase())}),F([...J])})()},[]);const O=M.useRef();return M.useEffect(()=>{const B=Q=>{O.current&&!O.current.contains(Q.target)&&V([])};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]),A.jsxs("nav",{className:"bg-white shadow-md py-3 px-6 flex justify-between items-center sticky top-0 z-50",children:[A.jsxs("div",{className:"text-green-600 font-extrabold text-2xl cursor-pointer",onClick:()=>e("/"),children:["fiverr",A.jsx("sup",{className:"text-xs text-gray-500 font-normal ml-1",children:""})]}),A.jsxs("div",{ref:O,className:"relative w-full sm:w-96",children:[A.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-full pl-4 pr-10 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-600",placeholder:"Search by tags...",value:f,onChange:B=>{const Q=B.target.value;p(Q);const J=N.filter(se=>se.includes(Q.toLowerCase())).slice(0,5);V(J)},onKeyDown:x}),P.length>0&&A.jsx("ul",{className:"absolute z-50 bg-white border border-gray-300 w-full mt-1 rounded-md shadow-md",children:P.map((B,Q)=>A.jsx("li",{onClick:()=>{p(B),V([]),e(`/search?tag=${encodeURIComponent(B)}`)},className:"px-4 py-2 cursor-pointer hover:bg-gray-100 text-sm text-gray-700",children:B},Q))}),A.jsx("button",{onClick:E,className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-green-600",children:A.jsx(B2,{className:"w-5 h-5"})})]}),n&&A.jsxs("div",{className:"relative ml-4",ref:a,children:[A.jsx("div",{onClick:()=>s(!r),className:"w-9 h-9 rounded-full bg-green-600 text-white flex items-center justify-center font-semibold cursor-pointer",children:z2(n.displayName||n.email)}),r&&A.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white border rounded-md shadow-lg z-50",children:[A.jsx("button",{onClick:_,className:"block w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100",children:t.pathname==="/seller"?"Switch to Buyer":"Switch to Seller"}),A.jsx("button",{onClick:v,className:"block w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-gray-100",children:"Logout"})]})]})]})},zS=M.createContext({});function $2(n){const e=M.useRef(null);return e.current===null&&(e.current=n()),e.current}const ug=typeof window<"u",W2=ug?M.useLayoutEffect:M.useEffect,cg=M.createContext(null);function hg(n,e){n.indexOf(e)===-1&&n.push(e)}function dg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ii=(n,e,t)=>t>e?e:t<n?n:t;let fg=()=>{};const si={},$S=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function WS(n){return typeof n=="object"&&n!==null}const HS=n=>/^0[^.\s]+$/u.test(n);function pg(n){let e;return()=>(e===void 0&&(e=n()),e)}const Ln=n=>n,H2=(n,e)=>t=>e(n(t)),Tu=(...n)=>n.reduce(H2),tu=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class mg{constructor(){this.subscriptions=[]}add(e){return hg(this.subscriptions,e),()=>dg(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Er=n=>n*1e3,Tr=n=>n/1e3;function qS(n,e){return e?n*(1e3/e):0}const GS=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,q2=1e-7,G2=12;function K2(n,e,t,r,s){let a,u,h=0;do u=e+(t-e)/2,a=GS(u,r,s)-n,a>0?t=u:e=u;while(Math.abs(a)>q2&&++h<G2);return u}function Su(n,e,t,r){if(n===e&&t===r)return Ln;const s=a=>K2(a,0,1,n,t);return a=>a===0||a===1?a:GS(s(a),e,r)}const KS=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,QS=n=>e=>1-n(1-e),XS=Su(.33,1.53,.69,.99),gg=QS(XS),YS=KS(gg),JS=n=>(n*=2)<1?.5*gg(n):.5*(2-Math.pow(2,-10*(n-1))),yg=n=>1-Math.sin(Math.acos(n)),ZS=QS(yg),eI=KS(yg),Q2=Su(.42,0,1,1),X2=Su(0,0,.58,1),tI=Su(.42,0,.58,1),Y2=n=>Array.isArray(n)&&typeof n[0]!="number",nI=n=>Array.isArray(n)&&typeof n[0]=="number",J2={linear:Ln,easeIn:Q2,easeInOut:tI,easeOut:X2,circIn:yg,circInOut:eI,circOut:ZS,backIn:gg,backInOut:YS,backOut:XS,anticipate:JS},Z2=n=>typeof n=="string",U0=n=>{if(nI(n)){fg(n.length===4);const[e,t,r,s]=n;return Su(e,t,r,s)}else if(Z2(n))return J2[n];return n},Yc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],B0={value:null};function eV(n,e){let t=new Set,r=new Set,s=!1,a=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},f=0;function p(_){u.has(_)&&(v.schedule(_),n()),f++,_(h)}const v={schedule:(_,E=!1,x=!1)=>{const V=x&&s?t:r;return E&&u.add(_),V.has(_)||V.add(_),_},cancel:_=>{r.delete(_),u.delete(_)},process:_=>{if(h=_,s){a=!0;return}s=!0,[t,r]=[r,t],t.forEach(p),e&&B0.value&&B0.value.frameloop[e].push(f),f=0,t.clear(),s=!1,a&&(a=!1,v.process(_))}};return v}const tV=40;function rI(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=Yc.reduce((B,Q)=>(B[Q]=eV(a,e?Q:void 0),B),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:v,update:_,preRender:E,render:x,postRender:P}=u,V=()=>{const B=si.useManualTiming?s.timestamp:performance.now();t=!1,si.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(B-s.timestamp,tV),1)),s.timestamp=B,s.isProcessing=!0,h.process(s),f.process(s),p.process(s),v.process(s),_.process(s),E.process(s),x.process(s),P.process(s),s.isProcessing=!1,t&&e&&(r=!1,n(V))},N=()=>{t=!0,r=!0,s.isProcessing||n(V)};return{schedule:Yc.reduce((B,Q)=>{const J=u[Q];return B[Q]=(se,b=!1,S=!1)=>(t||N(),J.schedule(se,b,S)),B},{}),cancel:B=>{for(let Q=0;Q<Yc.length;Q++)u[Yc[Q]].cancel(B)},state:s,steps:u}}const{schedule:et,cancel:Zi,state:Ot,steps:ip}=rI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ln,!0);let fh;function nV(){fh=void 0}const hn={now:()=>(fh===void 0&&hn.set(Ot.isProcessing||si.useManualTiming?Ot.timestamp:performance.now()),fh),set:n=>{fh=n,queueMicrotask(nV)}},iI=n=>e=>typeof e=="string"&&e.startsWith(n),vg=iI("--"),rV=iI("var(--"),_g=n=>rV(n)?iV.test(n.split("/*")[0].trim()):!1,iV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ia={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},nu={...Ia,transform:n=>ii(0,1,n)},Jc={...Ia,default:1},Ml=n=>Math.round(n*1e5)/1e5,wg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sV(n){return n==null}const oV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Eg=(n,e)=>t=>!!(typeof t=="string"&&oV.test(t)&&t.startsWith(n)||e&&!sV(t)&&Object.prototype.hasOwnProperty.call(t,e)),sI=(n,e,t)=>r=>{if(typeof r!="string")return r;const[s,a,u,h]=r.match(wg);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},aV=n=>ii(0,255,n),sp={...Ia,transform:n=>Math.round(aV(n))},Fs={test:Eg("rgb","red"),parse:sI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+sp.transform(n)+", "+sp.transform(e)+", "+sp.transform(t)+", "+Ml(nu.transform(r))+")"};function lV(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Wp={test:Eg("#"),parse:lV,transform:Fs.transform},Iu=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Li=Iu("deg"),Sr=Iu("%"),Te=Iu("px"),uV=Iu("vh"),cV=Iu("vw"),z0={...Sr,parse:n=>Sr.parse(n)/100,transform:n=>Sr.transform(n*100)},Qo={test:Eg("hsl","hue"),parse:sI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Sr.transform(Ml(e))+", "+Sr.transform(Ml(t))+", "+Ml(nu.transform(r))+")"},gt={test:n=>Fs.test(n)||Wp.test(n)||Qo.test(n),parse:n=>Fs.test(n)?Fs.parse(n):Qo.test(n)?Qo.parse(n):Wp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Fs.transform(n):Qo.transform(n),getAnimatableNone:n=>{const e=gt.parse(n);return e.alpha=0,gt.transform(e)}},hV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function dV(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(wg))==null?void 0:e.length)||0)+(((t=n.match(hV))==null?void 0:t.length)||0)>0}const oI="number",aI="color",fV="var",pV="var(",$0="${}",mV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ru(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},s=[];let a=0;const h=e.replace(mV,f=>(gt.test(f)?(r.color.push(a),s.push(aI),t.push(gt.parse(f))):f.startsWith(pV)?(r.var.push(a),s.push(fV),t.push(f)):(r.number.push(a),s.push(oI),t.push(parseFloat(f))),++a,$0)).split($0);return{values:t,split:h,indexes:r,types:s}}function lI(n){return ru(n).values}function uI(n){const{split:e,types:t}=ru(n),r=e.length;return s=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],s[u]!==void 0){const h=t[u];h===oI?a+=Ml(s[u]):h===aI?a+=gt.transform(s[u]):a+=s[u]}return a}}const gV=n=>typeof n=="number"?0:gt.test(n)?gt.getAnimatableNone(n):n;function yV(n){const e=lI(n);return uI(n)(e.map(gV))}const es={test:dV,parse:lI,createTransformer:uI,getAnimatableNone:yV};function op(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function vV({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,a=0,u=0;if(!e)s=a=u=t;else{const h=t<.5?t*(1+e):t+e-t*e,f=2*t-h;s=op(f,h,n+1/3),a=op(f,h,n),u=op(f,h,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function jh(n,e){return t=>t>0?e:n}const it=(n,e,t)=>n+(e-n)*t,ap=(n,e,t)=>{const r=n*n,s=t*(e*e-r)+r;return s<0?0:Math.sqrt(s)},_V=[Wp,Fs,Qo],wV=n=>_V.find(e=>e.test(n));function W0(n){const e=wV(n);if(!e)return!1;let t=e.parse(n);return e===Qo&&(t=vV(t)),t}const H0=(n,e)=>{const t=W0(n),r=W0(e);if(!t||!r)return jh(n,e);const s={...t};return a=>(s.red=ap(t.red,r.red,a),s.green=ap(t.green,r.green,a),s.blue=ap(t.blue,r.blue,a),s.alpha=it(t.alpha,r.alpha,a),Fs.transform(s))},Hp=new Set(["none","hidden"]);function EV(n,e){return Hp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function TV(n,e){return t=>it(n,e,t)}function Tg(n){return typeof n=="number"?TV:typeof n=="string"?_g(n)?jh:gt.test(n)?H0:xV:Array.isArray(n)?cI:typeof n=="object"?gt.test(n)?H0:SV:jh}function cI(n,e){const t=[...n],r=t.length,s=n.map((a,u)=>Tg(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=s[u](a);return t}}function SV(n,e){const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=Tg(n[s])(n[s],e[s]));return s=>{for(const a in r)t[a]=r[a](s);return t}}function IV(n,e){const t=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],u=n.indexes[a][r[a]],h=n.values[u]??0;t[s]=h,r[a]++}return t}const xV=(n,e)=>{const t=es.createTransformer(e),r=ru(n),s=ru(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Hp.has(n)&&!s.values.length||Hp.has(e)&&!r.values.length?EV(n,e):Tu(cI(IV(r,s),s.values),t):jh(n,e)};function hI(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?it(n,e,t):Tg(n)(n,e)}const AV=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>et.update(e,t),stop:()=>Zi(e),now:()=>Ot.isProcessing?Ot.timestamp:hn.now()}},dI=(n,e,t=10)=>{let r="";const s=Math.max(Math.round(e/t),2);for(let a=0;a<s;a++)r+=Math.round(n(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Uh=2e4;function Sg(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Uh;)e+=t,r=n.next(e);return e>=Uh?1/0:e}function CV(n,e=100,t){const r=t({...n,keyframes:[0,e]}),s=Math.min(Sg(r),Uh);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:Tr(s)}}const PV=5;function fI(n,e,t){const r=Math.max(e-PV,0);return qS(t-n(r),e-r)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lp=.001;function RV({duration:n=at.duration,bounce:e=at.bounce,velocity:t=at.velocity,mass:r=at.mass}){let s,a,u=1-e;u=ii(at.minDamping,at.maxDamping,u),n=ii(at.minDuration,at.maxDuration,Tr(n)),u<1?(s=p=>{const v=p*u,_=v*n,E=v-t,x=qp(p,u),P=Math.exp(-_);return lp-E/x*P},a=p=>{const _=p*u*n,E=_*t+t,x=Math.pow(u,2)*Math.pow(p,2)*n,P=Math.exp(-_),V=qp(Math.pow(p,2),u);return(-s(p)+lp>0?-1:1)*((E-x)*P)/V}):(s=p=>{const v=Math.exp(-p*n),_=(p-t)*n+1;return-lp+v*_},a=p=>{const v=Math.exp(-p*n),_=(t-p)*(n*n);return v*_});const h=5/n,f=bV(s,a,h);if(n=Er(n),isNaN(f))return{stiffness:at.stiffness,damping:at.damping,duration:n};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:n}}}const kV=12;function bV(n,e,t){let r=t;for(let s=1;s<kV;s++)r=r-n(r)/e(r);return r}function qp(n,e){return n*Math.sqrt(1-e*e)}const NV=["duration","bounce"],DV=["stiffness","damping","mass"];function q0(n,e){return e.some(t=>n[t]!==void 0)}function VV(n){let e={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...n};if(!q0(n,DV)&&q0(n,NV))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),s=r*r,a=2*ii(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:at.mass,stiffness:s,damping:a}}else{const t=RV(n);e={...e,...t,mass:at.mass},e.isResolvedFromDuration=!0}return e}function Bh(n=at.visualDuration,e=at.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:s}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:v,duration:_,velocity:E,isResolvedFromDuration:x}=VV({...t,velocity:-Tr(t.velocity||0)}),P=E||0,V=p/(2*Math.sqrt(f*v)),N=u-a,F=Tr(Math.sqrt(f/v)),O=Math.abs(N)<5;r||(r=O?at.restSpeed.granular:at.restSpeed.default),s||(s=O?at.restDelta.granular:at.restDelta.default);let B;if(V<1){const J=qp(F,V);B=se=>{const b=Math.exp(-V*F*se);return u-b*((P+V*F*N)/J*Math.sin(J*se)+N*Math.cos(J*se))}}else if(V===1)B=J=>u-Math.exp(-F*J)*(N+(P+F*N)*J);else{const J=F*Math.sqrt(V*V-1);B=se=>{const b=Math.exp(-V*F*se),S=Math.min(J*se,300);return u-b*((P+V*F*N)*Math.sinh(S)+J*N*Math.cosh(S))/J}}const Q={calculatedDuration:x&&_||null,next:J=>{const se=B(J);if(x)h.done=J>=_;else{let b=J===0?P:0;V<1&&(b=J===0?Er(P):fI(B,J,se));const S=Math.abs(b)<=r,C=Math.abs(u-se)<=s;h.done=S&&C}return h.value=h.done?u:se,h},toString:()=>{const J=Math.min(Sg(Q),Uh),se=dI(b=>Q.next(J*b).value,J,30);return J+"ms "+se},toTransition:()=>{}};return Q}Bh.applyToOptions=n=>{const e=CV(n,100,Bh);return n.ease=e.ease,n.duration=Er(e.duration),n.type="keyframes",n};function Gp({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:v}){const _=n[0],E={done:!1,value:_},x=S=>h!==void 0&&S<h||f!==void 0&&S>f,P=S=>h===void 0?f:f===void 0||Math.abs(h-S)<Math.abs(f-S)?h:f;let V=t*e;const N=_+V,F=u===void 0?N:u(N);F!==N&&(V=F-_);const O=S=>-V*Math.exp(-S/r),B=S=>F+O(S),Q=S=>{const C=O(S),D=B(S);E.done=Math.abs(C)<=p,E.value=E.done?F:D};let J,se;const b=S=>{x(E.value)&&(J=S,se=Bh({keyframes:[E.value,P(E.value)],velocity:fI(B,S,E.value),damping:s,stiffness:a,restDelta:p,restSpeed:v}))};return b(0),{calculatedDuration:null,next:S=>{let C=!1;return!se&&J===void 0&&(C=!0,Q(S),b(S)),J!==void 0&&S>=J?se.next(S-J):(!C&&Q(S),E)}}}function LV(n,e,t){const r=[],s=t||si.mix||hI,a=n.length-1;for(let u=0;u<a;u++){let h=s(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||Ln:e;h=Tu(f,h)}r.push(h)}return r}function OV(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const a=n.length;if(fg(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=LV(e,r,s),f=h.length,p=v=>{if(u&&v<n[0])return e[0];let _=0;if(f>1)for(;_<n.length-2&&!(v<n[_+1]);_++);const E=tu(n[_],n[_+1],v);return h[_](E)};return t?v=>p(ii(n[0],n[a-1],v)):p}function MV(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=tu(0,e,r);n.push(it(t,1,s))}}function FV(n){const e=[0];return MV(e,n.length-1),e}function jV(n,e){return n.map(t=>t*e)}function UV(n,e){return n.map(()=>e||tI).splice(0,n.length-1)}function Fl({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=Y2(r)?r.map(U0):U0(r),a={done:!1,value:e[0]},u=jV(t&&t.length===e.length?t:FV(e),n),h=OV(u,e,{ease:Array.isArray(s)?s:UV(e,s)});return{calculatedDuration:n,next:f=>(a.value=h(f),a.done=f>=n,a)}}const BV=n=>n!==null;function Ig(n,{repeat:e,repeatType:t="loop"},r,s=1){const a=n.filter(BV),h=s<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!h||r===void 0?a[h]:r}const zV={decay:Gp,inertia:Gp,tween:Fl,keyframes:Fl,spring:Bh};function pI(n){typeof n.type=="string"&&(n.type=zV[n.type])}class xg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const $V=n=>n/100;class Ag extends xg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:t}=this.options;t&&t.updatedAt!==hn.now()&&this.tick(hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;pI(e);const{type:t=Fl,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:u=0}=e;let{keyframes:h}=e;const f=t||Fl;f!==Fl&&typeof h[0]!="number"&&(this.mixKeyframes=Tu($V,hI(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Sg(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:v,repeat:_,repeatType:E,repeatDelay:x,type:P,onUpdate:V,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const F=this.currentTime-p*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?F<0:F>s;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let B=this.currentTime,Q=r;if(_){const S=Math.min(this.currentTime,s)/h;let C=Math.floor(S),D=S%1;!D&&S>=1&&(D=1),D===1&&C--,C=Math.min(C,_+1),!!(C%2)&&(E==="reverse"?(D=1-D,x&&(D-=x/h)):E==="mirror"&&(Q=u)),B=ii(0,1,D)*h}const J=O?{done:!1,value:v[0]}:Q.next(B);a&&(J.value=a(J.value));let{done:se}=J;!O&&f!==null&&(se=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&se);return b&&P!==Gp&&(J.value=Ig(v,this.options,N,this.speed)),V&&V(J.value),b&&this.finish(),J}then(e,t){return this.finished.then(e,t)}get duration(){return Tr(this.calculatedDuration)}get time(){return Tr(this.currentTime)}set time(e){var t;e=Er(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(hn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Tr(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:e=AV,startTime:t}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(a=(s=this.options).onPlay)==null||a.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function WV(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const js=n=>n*180/Math.PI,Kp=n=>{const e=js(Math.atan2(n[1],n[0]));return Qp(e)},HV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Kp,rotateZ:Kp,skewX:n=>js(Math.atan(n[1])),skewY:n=>js(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Qp=n=>(n=n%360,n<0&&(n+=360),n),G0=Kp,K0=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Q0=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),qV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:K0,scaleY:Q0,scale:n=>(K0(n)+Q0(n))/2,rotateX:n=>Qp(js(Math.atan2(n[6],n[5]))),rotateY:n=>Qp(js(Math.atan2(-n[2],n[0]))),rotateZ:G0,rotate:G0,skewX:n=>js(Math.atan(n[4])),skewY:n=>js(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Xp(n){return n.includes("scale")?1:0}function Yp(n,e){if(!n||n==="none")return Xp(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(t)r=qV,s=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=HV,s=h}if(!s)return Xp(e);const a=r[e],u=s[1].split(",").map(KV);return typeof a=="function"?a(u):u[a]}const GV=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Yp(t,e)};function KV(n){return parseFloat(n.trim())}const xa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Aa=new Set(xa),X0=n=>n===Ia||n===Te,QV=new Set(["x","y","z"]),XV=xa.filter(n=>!QV.has(n));function YV(n){const e=[];return XV.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Us={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Yp(e,"x"),y:(n,{transform:e})=>Yp(e,"y")};Us.translateX=Us.x;Us.translateY=Us.y;const Bs=new Set;let Jp=!1,Zp=!1,em=!1;function mI(){if(Zp){const n=Array.from(Bs).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const s=YV(r);s.length&&(t.set(r,s),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=t.get(r);s&&s.forEach(([a,u])=>{var h;(h=r.getValue(a))==null||h.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zp=!1,Jp=!1,Bs.forEach(n=>n.complete(em)),Bs.clear()}function gI(){Bs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Zp=!0)})}function JV(){em=!0,gI(),mI(),em=!1}class Cg{constructor(e,t,r,s,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Bs.add(this),Jp||(Jp=!0,et.read(gI),et.resolveKeyframes(mI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const h=r.readValue(t,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),s&&a===void 0&&s.set(e[0])}WV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Bs.delete(this)}cancel(){this.state==="scheduled"&&(Bs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ZV=n=>n.startsWith("--");function eL(n,e,t){ZV(e)?n.style.setProperty(e,t):n.style[e]=t}const tL=pg(()=>window.ScrollTimeline!==void 0),nL={};function rL(n,e){const t=pg(n);return()=>nL[e]??t()}const yI=rL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kl=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Y0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kl([0,.65,.55,1]),circOut:kl([.55,0,1,.45]),backIn:kl([.31,.01,.66,-.59]),backOut:kl([.33,1.53,.69,.99])};function vI(n,e){if(n)return typeof n=="function"?yI()?dI(n,e):"ease-out":nI(n)?kl(n):Array.isArray(n)?n.map(t=>vI(t,e)||Y0.easeOut):Y0[n]}function iL(n,e,t,{delay:r=0,duration:s=300,repeat:a=0,repeatType:u="loop",ease:h="easeOut",times:f}={},p=void 0){const v={[e]:t};f&&(v.offset=f);const _=vI(h,s);Array.isArray(_)&&(v.easing=_);const E={delay:r,duration:s,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),n.animate(v,E)}function _I(n){return typeof n=="function"&&"applyToOptions"in n}function sL({type:n,...e}){return _I(n)&&yI()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class oL extends xg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:s,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,fg(typeof e.type!="string");const p=sL(e);this.animation=iL(t,r,s,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const v=Ig(s,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(v):eL(t,r,v),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return Tr(Number(e))}get time(){return Tr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Er(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&tL()?(this.animation.timeline=e,Ln):t(this)}}const wI={anticipate:JS,backInOut:YS,circInOut:eI};function aL(n){return n in wI}function lL(n){typeof n.ease=="string"&&aL(n.ease)&&(n.ease=wI[n.ease])}const J0=10;class uL extends oL{constructor(e){lL(e),pI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:s,element:a,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new Ag({...u,autoplay:!1}),f=Er(this.finishedTime??this.time);t.setWithVelocity(h.sample(f-J0).value,h.sample(f).value,J0),h.stop()}}const Z0=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(es.test(n)||n==="0")&&!n.startsWith("url("));function cL(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function hL(n,e,t,r){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=Z0(s,e),h=Z0(a,e);return!u||!h?!1:cL(n)||(t==="spring"||_I(t))&&r}function EI(n){return WS(n)&&"offsetHeight"in n}const dL=new Set(["opacity","clipPath","filter","transform"]),fL=pg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pL(n){var p;const{motionValue:e,name:t,repeatDelay:r,repeatType:s,damping:a,type:u}=n;if(!EI((p=e==null?void 0:e.owner)==null?void 0:p.current))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return fL()&&t&&dL.has(t)&&(t!=="transform"||!f)&&!h&&!r&&s!=="mirror"&&a!==0&&u!=="inertia"}const mL=40;class gL extends xg{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u="loop",keyframes:h,name:f,motionValue:p,element:v,..._}){var P;super(),this.stop=()=>{var V,N;this._animation&&(this._animation.stop(),(V=this.stopTimeline)==null||V.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=hn.now();const E={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:a,repeatType:u,name:f,motionValue:p,element:v,..._},x=(v==null?void 0:v.KeyframeResolver)||Cg;this.keyframeResolver=new x(h,(V,N,F)=>this.onKeyframesResolved(V,N,E,!F),f,p,v),(P=this.keyframeResolver)==null||P.scheduleResolve()}onKeyframesResolved(e,t,r,s){this.keyframeResolver=void 0;const{name:a,type:u,velocity:h,delay:f,isHandoff:p,onUpdate:v}=r;this.resolvedAt=hn.now(),hL(e,a,u,h)||((si.instantAnimations||!f)&&(v==null||v(Ig(e,r,t))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const E={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>mL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},x=!p&&pL(E)?new uL({...E,element:E.motionValue.owner.current}):new Ag(E);x.finished.then(()=>this.notifyFinished()).catch(Ln),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),JV()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const yL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vL(n){const e=yL.exec(n);if(!e)return[,];const[,t,r,s]=e;return[`--${t??r}`,s]}function TI(n,e,t=1){const[r,s]=vL(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return $S(u)?parseFloat(u):u}return _g(s)?TI(s,e,t+1):s}function Pg(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const SI=new Set(["width","height","top","left","right","bottom",...xa]),_L={test:n=>n==="auto",parse:n=>n},II=n=>e=>e.test(n),xI=[Ia,Te,Sr,Li,cV,uV,_L],ew=n=>xI.find(II(n));function wL(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||HS(n):!0}const EL=new Set(["brightness","contrast","saturate","opacity"]);function TL(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(wg)||[];if(!r)return n;const s=t.replace(r,"");let a=EL.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+s+")"}const SL=/\b([a-z-]*)\(.*?\)/gu,tm={...es,getAnimatableNone:n=>{const e=n.match(SL);return e?e.map(TL).join(" "):n}},tw={...Ia,transform:Math.round},IL={rotate:Li,rotateX:Li,rotateY:Li,rotateZ:Li,scale:Jc,scaleX:Jc,scaleY:Jc,scaleZ:Jc,skew:Li,skewX:Li,skewY:Li,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:nu,originX:z0,originY:z0,originZ:Te},Rg={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...IL,zIndex:tw,fillOpacity:nu,strokeOpacity:nu,numOctaves:tw},xL={...Rg,color:gt,backgroundColor:gt,outlineColor:gt,fill:gt,stroke:gt,borderColor:gt,borderTopColor:gt,borderRightColor:gt,borderBottomColor:gt,borderLeftColor:gt,filter:tm,WebkitFilter:tm},AI=n=>xL[n];function CI(n,e){let t=AI(n);return t!==tm&&(t=es),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const AL=new Set(["auto","none","0"]);function CL(n,e,t){let r=0,s;for(;r<n.length&&!s;){const a=n[r];typeof a=="string"&&!AL.has(a)&&ru(a).values.length&&(s=n[r]),r++}if(s&&t)for(const a of e)n[a]=CI(t,s)}class PL extends Cg{constructor(e,t,r,s,a){super(e,t,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),_g(p))){const v=TI(p,t.current);v!==void 0&&(e[f]=v),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!SI.has(r)||e.length!==2)return;const[s,a]=e,u=ew(s),h=ew(a);if(u!==h)if(X0(u)&&X0(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Us[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||wL(e[s]))&&r.push(s);r.length&&CL(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Us[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var h;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,u=r[a];r[a]=Us[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function RL(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const s=(t==null?void 0:t[n])??r.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const PI=(n,e)=>e&&typeof n=="number"?e.transform(n):n,nw=30,kL=n=>!isNaN(parseFloat(n));class bL{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var u,h;const a=hn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();s&&((h=this.events.renderRequest)==null||h.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=kL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new mg);const r=this.events[e].add(t);return e==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>nw)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,nw);return qS(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function da(n,e){return new bL(n,e)}const{schedule:kg}=rI(queueMicrotask,!1),Jn={x:!1,y:!1};function RI(){return Jn.x||Jn.y}function NL(n){return n==="x"||n==="y"?Jn[n]?null:(Jn[n]=!0,()=>{Jn[n]=!1}):Jn.x||Jn.y?null:(Jn.x=Jn.y=!0,()=>{Jn.x=Jn.y=!1})}function kI(n,e){const t=RL(n),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[t,s,()=>r.abort()]}function rw(n){return!(n.pointerType==="touch"||RI())}function DL(n,e,t={}){const[r,s,a]=kI(n,t),u=h=>{if(!rw(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const v=_=>{rw(_)&&(p(_),f.removeEventListener("pointerleave",v))};f.addEventListener("pointerleave",v,s)};return r.forEach(h=>{h.addEventListener("pointerenter",u,s)}),a}const bI=(n,e)=>e?n===e?!0:bI(n,e.parentElement):!1,bg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,VL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function LL(n){return VL.has(n.tagName)||n.tabIndex!==-1}const ph=new WeakSet;function iw(n){return e=>{e.key==="Enter"&&n(e)}}function up(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const OL=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=iw(()=>{if(ph.has(t))return;up(t,"down");const s=iw(()=>{up(t,"up")}),a=()=>up(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function sw(n){return bg(n)&&!RI()}function ML(n,e,t={}){const[r,s,a]=kI(n,t),u=h=>{const f=h.currentTarget;if(!sw(h))return;ph.add(f);const p=e(f,h),v=(x,P)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),ph.has(f)&&ph.delete(f),sw(x)&&typeof p=="function"&&p(x,{success:P})},_=x=>{v(x,f===window||f===document||t.useGlobalTarget||bI(f,x.target))},E=x=>{v(x,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",E,s)};return r.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",u,s),EI(h)&&(h.addEventListener("focus",p=>OL(p,s)),!LL(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),a}function NI(n){return WS(n)&&"ownerSVGElement"in n}function FL(n){return NI(n)&&n.tagName==="svg"}const Kt=n=>!!(n&&n.getVelocity),jL=[...xI,gt,es],UL=n=>jL.find(II(n)),DI=M.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function BL(n=!0){const e=M.useContext(cg);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,a=M.useId();M.useEffect(()=>{if(n)return s(a)},[n]);const u=M.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,u]:[!0]}const VI=M.createContext({strict:!1}),ow={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fa={};for(const n in ow)fa[n]={isEnabled:e=>ow[n].some(t=>!!e[t])};function zL(n){for(const e in n)fa[e]={...fa[e],...n[e]}}const $L=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||$L.has(n)}let LI=n=>!zh(n);function WL(n){typeof n=="function"&&(LI=e=>e.startsWith("on")?!zh(e):n(e))}try{WL(require("@emotion/is-prop-valid").default)}catch{}function HL(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(LI(s)||t===!0&&zh(s)||!e&&!zh(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function qL(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const cd=M.createContext({});function hd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function iu(n){return typeof n=="string"||Array.isArray(n)}const Ng=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dg=["initial",...Ng];function dd(n){return hd(n.animate)||Dg.some(e=>iu(n[e]))}function OI(n){return!!(dd(n)||n.variants)}function GL(n,e){if(dd(n)){const{initial:t,animate:r}=n;return{initial:t===!1||iu(t)?t:void 0,animate:iu(r)?r:void 0}}return n.inherit!==!1?e:{}}function KL(n){const{initial:e,animate:t}=GL(n,M.useContext(cd));return M.useMemo(()=>({initial:e,animate:t}),[aw(e),aw(t)])}function aw(n){return Array.isArray(n)?n.join(" "):n}const QL=Symbol.for("motionComponentSymbol");function Xo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function XL(n,e,t){return M.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Xo(t)&&(t.current=r))},[e])}const Vg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YL="framerAppearId",MI="data-"+Vg(YL),FI=M.createContext({});function JL(n,e,t,r,s){var V,N;const{visualElement:a}=M.useContext(cd),u=M.useContext(VI),h=M.useContext(cg),f=M.useContext(DI).reducedMotion,p=M.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(n,{visualState:e,parent:a,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const v=p.current,_=M.useContext(FI);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&ZL(p.current,t,s,_);const E=M.useRef(!1);M.useInsertionEffect(()=>{v&&E.current&&v.update(t,h)});const x=t[MI],P=M.useRef(!!x&&!((V=window.MotionHandoffIsComplete)!=null&&V.call(window,x))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,x)));return W2(()=>{v&&(E.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),kg.render(v.render),P.current&&v.animationState&&v.animationState.animateChanges())}),M.useEffect(()=>{v&&(!P.current&&v.animationState&&v.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)==null||F.call(window,x)}),P.current=!1))}),v}function ZL(n,e,t,r){const{layoutId:s,layout:a,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:v}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:jI(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!u||h&&Xo(h),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:f,layoutRoot:p})}function jI(n){if(n)return n.options.allowProjection!==!1?n.projection:jI(n.parent)}function eO({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){n&&zL(n);function a(h,f){let p;const v={...M.useContext(DI),...h,layoutId:tO(h)},{isStatic:_}=v,E=KL(h),x=r(h,_);if(!_&&ug){nO();const P=rO(v);p=P.MeasureLayout,E.visualElement=JL(s,x,v,e,P.ProjectionNode)}return A.jsxs(cd.Provider,{value:E,children:[p&&E.visualElement?A.jsx(p,{visualElement:E.visualElement,...v}):null,t(s,h,XL(x,E.visualElement,f),x,_,E.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const u=M.forwardRef(a);return u[QL]=s,u}function tO({layoutId:n}){const e=M.useContext(zS).id;return e&&n!==void 0?e+"-"+n:n}function nO(n,e){M.useContext(VI).strict}function rO(n){const{drag:e,layout:t}=fa;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const su={};function iO(n){for(const e in n)su[e]=n[e],vg(e)&&(su[e].isCSSVariable=!0)}function UI(n,{layout:e,layoutId:t}){return Aa.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!su[n]||n==="opacity")}const sO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oO=xa.length;function aO(n,e,t){let r="",s=!0;for(let a=0;a<oO;a++){const u=xa[a],h=n[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||t){const p=PI(h,Rg[u]);if(!f){s=!1;const v=sO[u]||u;r+=`${v}(${p}) `}t&&(e[u]=p)}}return r=r.trim(),t?r=t(e,s?"":r):s&&(r="none"),r}function Lg(n,e,t){const{style:r,vars:s,transformOrigin:a}=n;let u=!1,h=!1;for(const f in e){const p=e[f];if(Aa.has(f)){u=!0;continue}else if(vg(f)){s[f]=p;continue}else{const v=PI(p,Rg[f]);f.startsWith("origin")?(h=!0,a[f]=v):r[f]=v}}if(e.transform||(u||t?r.transform=aO(e,n.transform,t):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:v=0}=a;r.transformOrigin=`${f} ${p} ${v}`}}const Og=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BI(n,e,t){for(const r in e)!Kt(e[r])&&!UI(r,t)&&(n[r]=e[r])}function lO({transformTemplate:n},e){return M.useMemo(()=>{const t=Og();return Lg(t,e,n),Object.assign({},t.vars,t.style)},[e])}function uO(n,e){const t=n.style||{},r={};return BI(r,t,n),Object.assign(r,lO(n,e)),r}function cO(n,e){const t={},r=uO(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const hO={offset:"stroke-dashoffset",array:"stroke-dasharray"},dO={offset:"strokeDashoffset",array:"strokeDasharray"};function fO(n,e,t=1,r=0,s=!0){n.pathLength=1;const a=s?hO:dO;n[a.offset]=Te.transform(-r);const u=Te.transform(e),h=Te.transform(t);n[a.array]=`${u} ${h}`}function zI(n,{attrX:e,attrY:t,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:u=0,...h},f,p,v){if(Lg(n,h,p),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:E}=n;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),t!==void 0&&(_.y=t),r!==void 0&&(_.scale=r),s!==void 0&&fO(_,s,a,u,!1)}const $I=()=>({...Og(),attrs:{}}),WI=n=>typeof n=="string"&&n.toLowerCase()==="svg";function pO(n,e,t,r){const s=M.useMemo(()=>{const a=$I();return zI(a,e,WI(r),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};BI(a,n.style,n),s.style={...a,...s.style}}return s}const mO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mg(n){return typeof n!="string"||n.includes("-")?!1:!!(mO.indexOf(n)>-1||/[A-Z]/u.test(n))}function gO(n=!1){return(t,r,s,{latestValues:a},u)=>{const f=(Mg(t)?pO:cO)(r,a,u,t),p=HL(r,typeof t=="string",n),v=t!==M.Fragment?{...p,...f,ref:s}:{},{children:_}=r,E=M.useMemo(()=>Kt(_)?_.get():_,[_]);return M.createElement(t,{...v,children:E})}}function lw(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Fg(n,e,t,r){if(typeof e=="function"){const[s,a]=lw(r);e=e(t!==void 0?t:n.custom,s,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,a]=lw(r);e=e(t!==void 0?t:n.custom,s,a)}return e}function mh(n){return Kt(n)?n.get():n}function yO({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,s){return{latestValues:vO(t,r,s,n),renderState:e()}}const HI=n=>(e,t)=>{const r=M.useContext(cd),s=M.useContext(cg),a=()=>yO(n,e,r,s);return t?a():$2(a)};function vO(n,e,t,r){const s={},a=r(n,{});for(const E in a)s[E]=mh(a[E]);let{initial:u,animate:h}=n;const f=dd(n),p=OI(n);e&&p&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let v=t?t.initial===!1:!1;v=v||u===!1;const _=v?h:u;if(_&&typeof _!="boolean"&&!hd(_)){const E=Array.isArray(_)?_:[_];for(let x=0;x<E.length;x++){const P=Fg(n,E[x]);if(P){const{transitionEnd:V,transition:N,...F}=P;for(const O in F){let B=F[O];if(Array.isArray(B)){const Q=v?B.length-1:0;B=B[Q]}B!==null&&(s[O]=B)}for(const O in V)s[O]=V[O]}}}return s}function jg(n,e,t){var a;const{style:r}=n,s={};for(const u in r)(Kt(r[u])||e.style&&Kt(e.style[u])||UI(u,n)||((a=t==null?void 0:t.getValue(u))==null?void 0:a.liveStyle)!==void 0)&&(s[u]=r[u]);return s}const _O={useVisualState:HI({scrapeMotionValuesFromProps:jg,createRenderState:Og})};function qI(n,e,t){const r=jg(n,e,t);for(const s in n)if(Kt(n[s])||Kt(e[s])){const a=xa.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=n[s]}return r}const wO={useVisualState:HI({scrapeMotionValuesFromProps:qI,createRenderState:$I})};function EO(n,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const u={...Mg(r)?wO:_O,preloadedFeatures:n,useRender:gO(s),createVisualElement:e,Component:r};return eO(u)}}function ou(n,e,t){const r=n.getProps();return Fg(r,e,t!==void 0?t:r.custom,n)}const nm=n=>Array.isArray(n);function TO(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,da(t))}function SO(n){return nm(n)?n[n.length-1]||0:n}function IO(n,e){const t=ou(n,e);let{transitionEnd:r={},transition:s={},...a}=t||{};a={...a,...r};for(const u in a){const h=SO(a[u]);TO(n,u,h)}}function xO(n){return!!(Kt(n)&&n.add)}function rm(n,e){const t=n.getValue("willChange");if(xO(t))return t.add(e);if(!t&&si.WillChange){const r=new si.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function GI(n){return n.props[MI]}const AO=n=>n!==null;function CO(n,{repeat:e,repeatType:t="loop"},r){const s=n.filter(AO),a=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[a]}const PO={type:"spring",stiffness:500,damping:25,restSpeed:10},RO=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),kO={type:"keyframes",duration:.8},bO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},NO=(n,{keyframes:e})=>e.length>2?kO:Aa.has(n)?n.startsWith("scale")?RO(e[1]):PO:bO;function DO({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:u,repeatDelay:h,from:f,elapsed:p,...v}){return!!Object.keys(v).length}const Ug=(n,e,t,r={},s,a)=>u=>{const h=Pg(r,n)||{},f=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Er(f);const v={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:a?void 0:s};DO(h)||Object.assign(v,NO(n,v)),v.duration&&(v.duration=Er(v.duration)),v.repeatDelay&&(v.repeatDelay=Er(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let _=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(_=!0)),(si.instantAnimations||si.skipAnimations)&&(_=!0,v.duration=0,v.delay=0),v.allowFlatten=!h.type&&!h.ease,_&&!a&&e.get()!==void 0){const E=CO(v.keyframes,h);if(E!==void 0){et.update(()=>{v.onUpdate(E),v.onComplete()});return}}return h.isSync?new Ag(v):new gL(v)};function VO({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function KI(n,e,{delay:t=0,transitionOverride:r,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(a=r);const f=[],p=s&&n.animationState&&n.animationState.getState()[s];for(const v in h){const _=n.getValue(v,n.latestValues[v]??null),E=h[v];if(E===void 0||p&&VO(p,v))continue;const x={delay:t,...Pg(a||{},v)},P=_.get();if(P!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===P&&!x.velocity)continue;let V=!1;if(window.MotionHandoffAnimation){const F=GI(n);if(F){const O=window.MotionHandoffAnimation(F,v,et);O!==null&&(x.startTime=O,V=!0)}}rm(n,v),_.start(Ug(v,_,E,n.shouldReduceMotion&&SI.has(v)?{type:!1}:x,n,V));const N=_.animation;N&&f.push(N)}return u&&Promise.all(f).then(()=>{et.update(()=>{u&&IO(n,u)})}),f}function im(n,e,t={}){var f;const r=ou(n,e,t.type==="exit"?(f=n.presenceContext)==null?void 0:f.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const a=r?()=>Promise.all(KI(n,r,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:_,staggerDirection:E}=s;return LO(n,e,p,v,_,E,t)}:()=>Promise.resolve(),{when:h}=s;if(h){const[p,v]=h==="beforeChildren"?[a,u]:[u,a];return p().then(()=>v())}else return Promise.all([a(),u(t.delay)])}function LO(n,e,t=0,r=0,s=0,a=1,u){const h=[],f=n.variantChildren.size,p=(f-1)*s,v=typeof r=="function",_=v?E=>r(E,f):a===1?(E=0)=>E*s:(E=0)=>p-E*s;return Array.from(n.variantChildren).sort(OO).forEach((E,x)=>{E.notify("AnimationStart",e),h.push(im(E,e,{...u,delay:t+(v?0:r)+_(x)}).then(()=>E.notify("AnimationComplete",e)))}),Promise.all(h)}function OO(n,e){return n.sortNodePosition(e)}function MO(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>im(n,a,t));r=Promise.all(s)}else if(typeof e=="string")r=im(n,e,t);else{const s=typeof e=="function"?ou(n,e,t.custom):e;r=Promise.all(KI(n,s,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function QI(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const FO=Dg.length;function XI(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?XI(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<FO;t++){const r=Dg[t],s=n.props[r];(iu(s)||s===!1)&&(e[r]=s)}return e}const jO=[...Ng].reverse(),UO=Ng.length;function BO(n){return e=>Promise.all(e.map(({animation:t,options:r})=>MO(n,t,r)))}function zO(n){let e=BO(n),t=uw(),r=!0;const s=f=>(p,v)=>{var E;const _=ou(n,v,f==="exit"?(E=n.presenceContext)==null?void 0:E.custom:void 0);if(_){const{transition:x,transitionEnd:P,...V}=_;p={...p,...V,...P}}return p};function a(f){e=f(n)}function u(f){const{props:p}=n,v=XI(n.parent)||{},_=[],E=new Set;let x={},P=1/0;for(let N=0;N<UO;N++){const F=jO[N],O=t[F],B=p[F]!==void 0?p[F]:v[F],Q=iu(B),J=F===f?O.isActive:null;J===!1&&(P=N);let se=B===v[F]&&B!==p[F]&&Q;if(se&&r&&n.manuallyAnimateOnMount&&(se=!1),O.protectedKeys={...x},!O.isActive&&J===null||!B&&!O.prevProp||hd(B)||typeof B=="boolean")continue;const b=$O(O.prevProp,B);let S=b||F===f&&O.isActive&&!se&&Q||N>P&&Q,C=!1;const D=Array.isArray(B)?B:[B];let j=D.reduce(s(F),{});J===!1&&(j={});const{prevResolvedValues:z={}}=O,k={...z,...j},$e=xe=>{S=!0,E.has(xe)&&(C=!0,E.delete(xe)),O.needsAnimating[xe]=!0;const ie=n.getValue(xe);ie&&(ie.liveStyle=!1)};for(const xe in k){const ie=j[xe],me=z[xe];if(x.hasOwnProperty(xe))continue;let ae=!1;nm(ie)&&nm(me)?ae=!QI(ie,me):ae=ie!==me,ae?ie!=null?$e(xe):E.add(xe):ie!==void 0&&E.has(xe)?$e(xe):O.protectedKeys[xe]=!0}O.prevProp=B,O.prevResolvedValues=j,O.isActive&&(x={...x,...j}),r&&n.blockInitialAnimation&&(S=!1),S&&(!(se&&b)||C)&&_.push(...D.map(xe=>({animation:xe,options:{type:F}})))}if(E.size){const N={};if(typeof p.initial!="boolean"){const F=ou(n,Array.isArray(p.initial)?p.initial[0]:p.initial);F&&F.transition&&(N.transition=F.transition)}E.forEach(F=>{const O=n.getBaseTarget(F),B=n.getValue(F);B&&(B.liveStyle=!0),N[F]=O??null}),_.push({animation:N})}let V=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(V=!1),r=!1,V?e(_):Promise.resolve()}function h(f,p){var _;if(t[f].isActive===p)return Promise.resolve();(_=n.variantChildren)==null||_.forEach(E=>{var x;return(x=E.animationState)==null?void 0:x.setActive(f,p)}),t[f].isActive=p;const v=u(f);for(const E in t)t[E].protectedKeys={};return v}return{animateChanges:u,setActive:h,setAnimateFunction:a,getState:()=>t,reset:()=>{t=uw(),r=!0}}}function $O(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!QI(e,n):!1}function Ds(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uw(){return{animate:Ds(!0),whileInView:Ds(),whileHover:Ds(),whileTap:Ds(),whileDrag:Ds(),whileFocus:Ds(),exit:Ds()}}class is{constructor(e){this.isMounted=!1,this.node=e}update(){}}class WO extends is{constructor(e){super(e),e.animationState||(e.animationState=zO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let HO=0;class qO extends is{constructor(){super(...arguments),this.id=HO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const GO={animation:{Feature:WO},exit:{Feature:qO}};function au(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function xu(n){return{point:{x:n.pageX,y:n.pageY}}}const KO=n=>e=>bg(e)&&n(e,xu(e));function jl(n,e,t,r){return au(n,e,KO(t),r)}function YI({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function QO({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function XO(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const JI=1e-4,YO=1-JI,JO=1+JI,ZI=.01,ZO=0-ZI,eM=0+ZI;function en(n){return n.max-n.min}function tM(n,e,t){return Math.abs(n-e)<=t}function cw(n,e,t,r=.5){n.origin=r,n.originPoint=it(e.min,e.max,n.origin),n.scale=en(t)/en(e),n.translate=it(t.min,t.max,n.origin)-n.originPoint,(n.scale>=YO&&n.scale<=JO||isNaN(n.scale))&&(n.scale=1),(n.translate>=ZO&&n.translate<=eM||isNaN(n.translate))&&(n.translate=0)}function Ul(n,e,t,r){cw(n.x,e.x,t.x,r?r.originX:void 0),cw(n.y,e.y,t.y,r?r.originY:void 0)}function hw(n,e,t){n.min=t.min+e.min,n.max=n.min+en(e)}function nM(n,e,t){hw(n.x,e.x,t.x),hw(n.y,e.y,t.y)}function dw(n,e,t){n.min=e.min-t.min,n.max=n.min+en(e)}function Bl(n,e,t){dw(n.x,e.x,t.x),dw(n.y,e.y,t.y)}const fw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yo=()=>({x:fw(),y:fw()}),pw=()=>({min:0,max:0}),ct=()=>({x:pw(),y:pw()});function Nn(n){return[n("x"),n("y")]}function cp(n){return n===void 0||n===1}function sm({scale:n,scaleX:e,scaleY:t}){return!cp(n)||!cp(e)||!cp(t)}function Ls(n){return sm(n)||e1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function e1(n){return mw(n.x)||mw(n.y)}function mw(n){return n&&n!=="0%"}function $h(n,e,t){const r=n-t,s=e*r;return t+s}function gw(n,e,t,r,s){return s!==void 0&&(n=$h(n,s,r)),$h(n,t,r)+e}function om(n,e=0,t=1,r,s){n.min=gw(n.min,e,t,r,s),n.max=gw(n.max,e,t,r,s)}function t1(n,{x:e,y:t}){om(n.x,e.translate,e.scale,e.originPoint),om(n.y,t.translate,t.scale,t.originPoint)}const yw=.999999999999,vw=1.0000000000001;function rM(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,u;for(let h=0;h<s;h++){a=t[h],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Zo(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,t1(n,u)),r&&Ls(a.latestValues)&&Zo(n,a.latestValues))}e.x<vw&&e.x>yw&&(e.x=1),e.y<vw&&e.y>yw&&(e.y=1)}function Jo(n,e){n.min=n.min+e,n.max=n.max+e}function _w(n,e,t,r,s=.5){const a=it(n.min,n.max,s);om(n,e,t,a,r)}function Zo(n,e){_w(n.x,e.x,e.scaleX,e.scale,e.originX),_w(n.y,e.y,e.scaleY,e.scale,e.originY)}function n1(n,e){return YI(XO(n.getBoundingClientRect(),e))}function iM(n,e,t){const r=n1(n,t),{scroll:s}=e;return s&&(Jo(r.x,s.offset.x),Jo(r.y,s.offset.y)),r}const r1=({current:n})=>n?n.ownerDocument.defaultView:null,ww=(n,e)=>Math.abs(n-e);function sM(n,e){const t=ww(n.x,e.x),r=ww(n.y,e.y);return Math.sqrt(t**2+r**2)}class i1{constructor(e,t,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=dp(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,P=sM(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!P)return;const{point:V}=E,{timestamp:N}=Ot;this.history.push({...V,timestamp:N});const{onStart:F,onMove:O}=this.handlers;x||(F&&F(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,E)},this.handlePointerMove=(E,x)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=hp(x,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(E,x)=>{this.end();const{onEnd:P,onSessionEnd:V,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=dp(E.type==="pointercancel"?this.lastMoveEventInfo:hp(x,this.transformPagePoint),this.history);this.startEvent&&P&&P(E,F),V&&V(E,F)},!bg(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=s||window;const h=xu(e),f=hp(h,this.transformPagePoint),{point:p}=f,{timestamp:v}=Ot;this.history=[{...p,timestamp:v}];const{onSessionStart:_}=t;_&&_(e,dp(f,this.history)),this.removeListeners=Tu(jl(this.contextWindow,"pointermove",this.handlePointerMove),jl(this.contextWindow,"pointerup",this.handlePointerUp),jl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zi(this.updatePoint)}}function hp(n,e){return e?{point:e(n.point)}:n}function Ew(n,e){return{x:n.x-e.x,y:n.y-e.y}}function dp({point:n},e){return{point:n,delta:Ew(n,s1(e)),offset:Ew(n,oM(e)),velocity:aM(e,.1)}}function oM(n){return n[0]}function s1(n){return n[n.length-1]}function aM(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=s1(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>Er(e)));)t--;if(!r)return{x:0,y:0};const a=Tr(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function lM(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?it(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?it(t,n,r.max):Math.min(n,t)),n}function Tw(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function uM(n,{top:e,left:t,bottom:r,right:s}){return{x:Tw(n.x,t,s),y:Tw(n.y,e,r)}}function Sw(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function cM(n,e){return{x:Sw(n.x,e.x),y:Sw(n.y,e.y)}}function hM(n,e){let t=.5;const r=en(n),s=en(e);return s>r?t=tu(e.min,e.max-r,n.min):r>s&&(t=tu(n.min,n.max-s,e.min)),ii(0,1,t)}function dM(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const am=.35;function fM(n=am){return n===!1?n=0:n===!0&&(n=am),{x:Iw(n,"left","right"),y:Iw(n,"top","bottom")}}function Iw(n,e,t){return{min:xw(n,e),max:xw(n,t)}}function xw(n,e){return typeof n=="number"?n:n[e]||0}const pM=new WeakMap;class mM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=_=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(xu(_).point)},u=(_,E)=>{const{drag:x,dragPropagation:P,onDragStart:V}=this.getProps();if(x&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NL(x),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nn(F=>{let O=this.getAxisMotionValue(F).get()||0;if(Sr.test(O)){const{projection:B}=this.visualElement;if(B&&B.layout){const Q=B.layout.layoutBox[F];Q&&(O=en(Q)*(parseFloat(O)/100))}}this.originPoint[F]=O}),V&&et.postRender(()=>V(_,E)),rm(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:x,dragDirectionLock:P,onDirectionLock:V,onDrag:N}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:F}=E;if(P&&this.currentDirection===null){this.currentDirection=gM(F),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",E.point,F),this.updateAxis("y",E.point,F),this.visualElement.render(),N&&N(_,E)},f=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Nn(_=>{var E;return this.getAnimationState(_)==="paused"&&((E=this.getAxisMotionValue(_).animation)==null?void 0:E.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new i1(e,{onSessionStart:a,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:r1(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,s=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:u}=s;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&et.postRender(()=>h(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!Zc(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=lM(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&Xo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=uM(r.layoutBox,e):this.constraints=!1,this.elastic=fM(t),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Nn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=dM(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Xo(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=iM(r,s.root,this.visualElement.getTransformPagePoint());let u=cM(s.layout.layoutBox,a);if(t){const h=t(QO(u));this.hasMutatedConstraints=!!h,h&&(u=YI(h))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Nn(v=>{if(!Zc(v,t,this.currentDirection))return;let _=f&&f[v]||{};u&&(_={min:0,max:0});const E=s?200:1e6,x=s?40:1e7,P={type:"inertia",velocity:r?e[v]:0,bounceStiffness:E,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(v,P)});return Promise.all(p).then(h)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return rm(this.visualElement,e),r.start(Ug(e,r,0,t,this.visualElement,!1))}stopAnimation(){Nn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Nn(t=>{const{drag:r}=this.getProps();if(!Zc(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:u,max:h}=s.layout.layoutBox[t];a.set(e[t]-it(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Xo(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Nn(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();s[u]=hM({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Nn(u=>{if(!Zc(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(it(f,p,s[u]))})}addListeners(){if(!this.visualElement.current)return;pM.set(this.visualElement,this);const e=this.visualElement.current,t=jl(e,"pointerdown",f=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Xo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),et.read(r);const u=au(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Nn(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=f[v].translate,_.set(_.get()+f[v].translate))}),this.visualElement.render())});return()=>{u(),t(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:u=am,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:u,dragMomentum:h}}}function Zc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function gM(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class yM extends is{constructor(e){super(e),this.removeGroupControls=Ln,this.removeListeners=Ln,this.controls=new mM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const Aw=n=>(e,t)=>{n&&et.postRender(()=>n(e,t))};class vM extends is{constructor(){super(...arguments),this.removePointerDownListener=Ln}onPointerDown(e){this.session=new i1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:r1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Aw(e),onStart:Aw(t),onMove:r,onEnd:(a,u)=>{delete this.session,s&&et.postRender(()=>s(a,u))}}}mount(){this.removePointerDownListener=jl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Cw(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Il={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Te.test(n))n=parseFloat(n);else return n;const t=Cw(n,e.target.x),r=Cw(n,e.target.y);return`${t}% ${r}%`}},_M={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=es.parse(n);if(s.length>5)return r;const a=es.createTransformer(n),u=typeof s[0]!="number"?1:0,h=t.x.scale*e.x,f=t.y.scale*e.y;s[0+u]/=h,s[1+u]/=f;const p=it(h,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=p),typeof s[3+u]=="number"&&(s[3+u]/=p),a(s)}};let Pw=!1;class wM extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;iO(EM),a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),Pw&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),gh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,{projection:u}=r;return u&&(u.isPresent=a,Pw=!0,s||e.layoutDependency!==t||t===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||et.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),kg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function o1(n){const[e,t]=BL(),r=M.useContext(zS);return A.jsx(wM,{...n,layoutGroup:r,switchLayoutGroup:M.useContext(FI),isPresent:e,safeToRemove:t})}const EM={borderRadius:{...Il,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Il,borderTopRightRadius:Il,borderBottomLeftRadius:Il,borderBottomRightRadius:Il,boxShadow:_M};function TM(n,e,t){const r=Kt(n)?n:da(n);return r.start(Ug("",r,e,t)),r.animation}const SM=(n,e)=>n.depth-e.depth;class IM{constructor(){this.children=[],this.isDirty=!1}add(e){hg(this.children,e),this.isDirty=!0}remove(e){dg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(SM),this.isDirty=!1,this.children.forEach(e)}}function xM(n,e){const t=hn.now(),r=({timestamp:s})=>{const a=s-t;a>=e&&(Zi(r),n(a-e))};return et.setup(r,!0),()=>Zi(r)}const a1=["TopLeft","TopRight","BottomLeft","BottomRight"],AM=a1.length,Rw=n=>typeof n=="string"?parseFloat(n):n,kw=n=>typeof n=="number"||Te.test(n);function CM(n,e,t,r,s,a){s?(n.opacity=it(0,t.opacity??1,PM(r)),n.opacityExit=it(e.opacity??1,0,RM(r))):a&&(n.opacity=it(e.opacity??1,t.opacity??1,r));for(let u=0;u<AM;u++){const h=`border${a1[u]}Radius`;let f=bw(e,h),p=bw(t,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||kw(f)===kw(p)?(n[h]=Math.max(it(Rw(f),Rw(p),r),0),(Sr.test(p)||Sr.test(f))&&(n[h]+="%")):n[h]=p}(e.rotate||t.rotate)&&(n.rotate=it(e.rotate||0,t.rotate||0,r))}function bw(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const PM=l1(0,.5,ZS),RM=l1(.5,.95,Ln);function l1(n,e,t){return r=>r<n?0:r>e?1:t(tu(n,e,r))}function Nw(n,e){n.min=e.min,n.max=e.max}function bn(n,e){Nw(n.x,e.x),Nw(n.y,e.y)}function Dw(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Vw(n,e,t,r,s){return n-=e,n=$h(n,1/t,r),s!==void 0&&(n=$h(n,1/s,r)),n}function kM(n,e=0,t=1,r=.5,s,a=n,u=n){if(Sr.test(e)&&(e=parseFloat(e),e=it(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=it(a.min,a.max,r);n===a&&(h-=e),n.min=Vw(n.min,e,t,h,s),n.max=Vw(n.max,e,t,h,s)}function Lw(n,e,[t,r,s],a,u){kM(n,e[t],e[r],e[s],e.scale,a,u)}const bM=["x","scaleX","originX"],NM=["y","scaleY","originY"];function Ow(n,e,t,r){Lw(n.x,e,bM,t?t.x:void 0,r?r.x:void 0),Lw(n.y,e,NM,t?t.y:void 0,r?r.y:void 0)}function Mw(n){return n.translate===0&&n.scale===1}function u1(n){return Mw(n.x)&&Mw(n.y)}function Fw(n,e){return n.min===e.min&&n.max===e.max}function DM(n,e){return Fw(n.x,e.x)&&Fw(n.y,e.y)}function jw(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function c1(n,e){return jw(n.x,e.x)&&jw(n.y,e.y)}function Uw(n){return en(n.x)/en(n.y)}function Bw(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class VM{constructor(){this.members=[]}add(e){hg(this.members,e),e.scheduleRender()}remove(e){if(dg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LM(n,e,t){let r="";const s=n.x.translate/e.x,a=n.y.translate/e.y,u=(t==null?void 0:t.z)||0;if((s||a||u)&&(r=`translate3d(${s}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:v,rotateX:_,rotateY:E,skewX:x,skewY:P}=t;p&&(r=`perspective(${p}px) ${r}`),v&&(r+=`rotate(${v}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),x&&(r+=`skewX(${x}deg) `),P&&(r+=`skewY(${P}deg) `)}const h=n.x.scale*e.x,f=n.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const fp=["","X","Y","Z"],OM=1e3;let MM=0;function pp(n,e,t,r){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),r&&(r[n]=0))}function h1(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=GI(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",et,!(s||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&h1(r)}function d1({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(u={},h=e==null?void 0:e()){this.id=MM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(UM),this.nodes.forEach(WM),this.nodes.forEach(HM),this.nodes.forEach(BM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new IM)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new mg),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=NI(u)&&!FL(u),this.instance=u;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),n){let v,_=0;const E=()=>this.root.updateBlockedByResize=!1;et.read(()=>{_=window.innerWidth}),n(u,()=>{const x=window.innerWidth;x!==_&&(_=x,this.root.updateBlockedByResize=!0,v&&v(),v=xM(E,250),gh.hasAnimatedSinceResize&&(gh.hasAnimatedSinceResize=!1,this.nodes.forEach(Ww)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||p.getDefaultTransition()||XM,{onLayoutAnimationStart:V,onLayoutAnimationComplete:N}=p.getProps(),F=!this.targetLayout||!c1(this.targetLayout,x),O=!_&&E;if(this.options.layoutRoot||this.resumeFrom||O||_&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...Pg(P,"layout"),onPlay:V,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(v,O)}else _||Ww(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qM),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&h1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const _=this.path[v];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($w);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach($M),this.nodes.forEach(FM),this.nodes.forEach(jM)):this.nodes.forEach($w),this.clearAllSnapshots();const h=hn.now();Ot.delta=ii(0,1e3/60,h-Ot.timestamp),Ot.timestamp=h,Ot.isProcessing=!0,ip.update.process(Ot),ip.preRender.process(Ot),ip.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zM),this.sharedNodes.forEach(GM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!en(this.snapshot.measuredBox.x)&&!en(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!u1(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ls(this.latestValues)||v)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),YM(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return ct();const h=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(JM))){const{scroll:v}=this.root;v&&(Jo(h.x,v.offset.x),Jo(h.y,v.offset.y))}return h}removeElementScroll(u){var f;const h=ct();if(bn(h,u),(f=this.scroll)!=null&&f.wasRoot)return h;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:_,options:E}=v;v!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&bn(h,u),Jo(h.x,_.offset.x),Jo(h.y,_.offset.y))}return h}applyTransform(u,h=!1){const f=ct();bn(f,u);for(let p=0;p<this.path.length;p++){const v=this.path[p];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Zo(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ls(v.latestValues)&&Zo(f,v.latestValues)}return Ls(this.latestValues)&&Zo(f,this.latestValues),f}removeTransform(u){const h=ct();bn(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Ls(p.latestValues))continue;sm(p.latestValues)&&p.updateSnapshot();const v=ct(),_=p.measurePageBox();bn(v,_),Ow(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Ls(this.latestValues)&&Ow(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var E;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),Bl(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ct(),this.targetWithTransforms=ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bn(this.target,this.layout.layoutBox),t1(this.target,this.targetDelta)):bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),Bl(this.relativeTargetOrigin,this.target,x.target),bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||sm(this.parent.latestValues)||e1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var P;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||(P=this.parent)!=null&&P.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(f=!1),f)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;bn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;rM(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ct());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Dw(this.prevProjectionDelta.x,this.projectionDelta.x),Dw(this.prevProjectionDelta.y,this.projectionDelta.y)),Ul(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!Bw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Bw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yo(),this.projectionDelta=Yo(),this.projectionDeltaWithTransform=Yo()}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},v={...this.latestValues},_=Yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=ct(),x=f?f.source:void 0,P=this.layout?this.layout.source:void 0,V=x!==P,N=this.getStack(),F=!N||N.members.length<=1,O=!!(V&&!F&&this.options.crossfade===!0&&!this.path.some(QM));this.animationProgress=0;let B;this.mixTargetDelta=Q=>{const J=Q/1e3;Hw(_.x,u.x,J),Hw(_.y,u.y,J),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bl(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KM(this.relativeTarget,this.relativeTargetOrigin,E,J),B&&DM(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=ct()),bn(B,this.relativeTarget)),V&&(this.animationValues=v,CM(v,p,this.latestValues,J,O,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,f,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{gh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=da(0)),this.currentAnimation=TM(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),u.onUpdate&&u.onUpdate(v)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:v}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&f1(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||ct();const _=en(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+_;const E=en(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}bn(h,f),Zo(h,v),Ul(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new VM),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&pp("z",u,p,this.animationValues);for(let v=0;v<fp.length;v++)pp(`rotate${fp[v]}`,u,p,this.animationValues),pp(`skew${fp[v]}`,u,p,this.animationValues);u.render();for(const v in p)u.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=mh(h==null?void 0:h.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=mh(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Ls(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=LM(this.projectionDeltaWithTransform,this.treeScale,v);f&&(_=f(v,_)),u.transform=_;const{x:E,y:x}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${x.origin*100}% 0`,p.animationValues?u.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const P in su){if(v[P]===void 0)continue;const{correct:V,applyTo:N,isCSSVariable:F}=su[P],O=_==="none"?v[P]:V(v[P],p);if(N){const B=N.length;for(let Q=0;Q<B;Q++)u[N[Q]]=O}else F?this.options.visualElement.renderState.vars[P]=O:u[P]=O}this.options.layoutId&&(u.pointerEvents=p===this?mh(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(zw),this.root.sharedNodes.clear()}}}function FM(n){n.updateLayout()}function jM(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:a}=n.options,u=e.source!==n.layout.source;a==="size"?Nn(_=>{const E=u?e.measuredBox[_]:e.layoutBox[_],x=en(E);E.min=r[_].min,E.max=E.min+x}):f1(a,e.layoutBox,r)&&Nn(_=>{const E=u?e.measuredBox[_]:e.layoutBox[_],x=en(r[_]);E.max=E.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[_].max=n.relativeTarget[_].min+x)});const h=Yo();Ul(h,r,e.layoutBox);const f=Yo();u?Ul(f,n.applyTransform(s,!0),e.measuredBox):Ul(f,r,e.layoutBox);const p=!u1(h);let v=!1;if(!n.resumeFrom){const _=n.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:x}=_;if(E&&x){const P=ct();Bl(P,e.layoutBox,E.layoutBox);const V=ct();Bl(V,r,x.layoutBox),c1(P,V)||(v=!0),_.options.layoutRoot&&(n.relativeTarget=V,n.relativeTargetOrigin=P,n.relativeParent=_)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function UM(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function BM(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function zM(n){n.clearSnapshot()}function zw(n){n.clearMeasurements()}function $w(n){n.isLayoutDirty=!1}function $M(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Ww(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function WM(n){n.resolveTargetDelta()}function HM(n){n.calcProjection()}function qM(n){n.resetSkewAndRotation()}function GM(n){n.removeLeadSnapshot()}function Hw(n,e,t){n.translate=it(e.translate,0,t),n.scale=it(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function qw(n,e,t,r){n.min=it(e.min,t.min,r),n.max=it(e.max,t.max,r)}function KM(n,e,t,r){qw(n.x,e.x,t.x,r),qw(n.y,e.y,t.y,r)}function QM(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const XM={duration:.45,ease:[.4,0,.1,1]},Gw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Kw=Gw("applewebkit/")&&!Gw("chrome/")?Math.round:Ln;function Qw(n){n.min=Kw(n.min),n.max=Kw(n.max)}function YM(n){Qw(n.x),Qw(n.y)}function f1(n,e,t){return n==="position"||n==="preserve-aspect"&&!tM(Uw(e),Uw(t),.2)}function JM(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const ZM=d1({attachResizeListener:(n,e)=>au(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mp={current:void 0},p1=d1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!mp.current){const n=new ZM({});n.mount(window),n.setOptions({layoutScroll:!0}),mp.current=n}return mp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),e4={pan:{Feature:vM},drag:{Feature:yM,ProjectionNode:p1,MeasureLayout:o1}};function Xw(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,a=r[s];a&&et.postRender(()=>a(e,xu(e)))}class t4 extends is{mount(){const{current:e}=this.node;e&&(this.unmount=DL(e,(t,r)=>(Xw(this.node,r,"Start"),s=>Xw(this.node,s,"End"))))}unmount(){}}class n4 extends is{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tu(au(this.node.current,"focus",()=>this.onFocus()),au(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Yw(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),a=r[s];a&&et.postRender(()=>a(e,xu(e)))}class r4 extends is{mount(){const{current:e}=this.node;e&&(this.unmount=ML(e,(t,r)=>(Yw(this.node,r,"Start"),(s,{success:a})=>Yw(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lm=new WeakMap,gp=new WeakMap,i4=n=>{const e=lm.get(n.target);e&&e(n)},s4=n=>{n.forEach(i4)};function o4({root:n,...e}){const t=n||document;gp.has(t)||gp.set(t,{});const r=gp.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(s4,{root:n,...e})),r[s]}function a4(n,e,t){const r=o4(e);return lm.set(n,t),r.observe(n),()=>{lm.delete(n),r.unobserve(n)}}const l4={some:0,all:1};class u4 extends is{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:l4[s]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:_}=this.node.getProps(),E=p?v:_;E&&E(f)};return a4(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(c4(e,t))&&this.startObserver()}unmount(){}}function c4({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const h4={inView:{Feature:u4},tap:{Feature:r4},focus:{Feature:n4},hover:{Feature:t4}},d4={layout:{ProjectionNode:p1,MeasureLayout:o1}},um={current:null},m1={current:!1};function f4(){if(m1.current=!0,!!ug)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>um.current=n.matches;n.addEventListener("change",e),e()}else um.current=!1}const p4=new WeakMap;function m4(n,e,t){for(const r in e){const s=e[r],a=t[r];if(Kt(s))n.addValue(r,s);else if(Kt(a))n.addValue(r,da(s,{owner:n}));else if(a!==s)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=n.getStaticValue(r);n.addValue(r,da(u!==void 0?u:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const Jw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class g4{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=hn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,et.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=dd(t),this.isVariantNode=OI(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(t,{},this);for(const E in _){const x=_[E];f[E]!==void 0&&Kt(x)&&x.set(f[E],!1)}}mount(e){this.current=e,p4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),m1.current||f4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:um.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zi(this.notifyUpdate),Zi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Aa.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),a(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fa){const t=fa[e];if(!t)continue;const{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<Jw.length;r++){const s=Jw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,u=e[a];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=m4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=da(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&($S(r)||HS(r))?r=parseFloat(r):!UL(r)&&es.test(t)&&(r=CI(e,t)),this.setBaseTarget(e,Kt(r)?r.get():r)),Kt(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var a;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const u=Fg(this.props,t,(a=this.presenceContext)==null?void 0:a.custom);u&&(r=u[e])}if(t&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Kt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new mg),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class g1 extends g4{constructor(){super(...arguments),this.KeyframeResolver=PL}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function y1(n,{style:e,vars:t},r,s){const a=n.style;let u;for(u in e)a[u]=e[u];s==null||s.applyProjectionStyles(a,r);for(u in t)a.setProperty(u,t[u])}function y4(n){return window.getComputedStyle(n)}class v4 extends g1{constructor(){super(...arguments),this.type="html",this.renderInstance=y1}readValueFromInstance(e,t){var r;if(Aa.has(t))return(r=this.projection)!=null&&r.isProjecting?Xp(t):GV(e,t);{const s=y4(e),a=(vg(t)?s.getPropertyValue(t):s[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return n1(e,t)}build(e,t,r){Lg(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return jg(e,t,r)}}const v1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _4(n,e,t,r){y1(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(v1.has(s)?s:Vg(s),e.attrs[s])}class w4 extends g1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ct}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Aa.has(t)){const r=AI(t);return r&&r.default||0}return t=v1.has(t)?t:Vg(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return qI(e,t,r)}build(e,t,r){zI(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,s){_4(e,t,r,s)}mount(e){this.isSVGTag=WI(e.tagName),super.mount(e)}}const E4=(n,e)=>Mg(n)?new w4(e):new v4(e,{allowProjection:n!==M.Fragment}),T4=EO({...GO,...h4,...e4,...d4},E4),eh=qL(T4),_1=()=>{const n={Categories:["Graphics & Design","Digital Marketing","Writing & Translation","Video & Animation","Music & Audio","Programming & Tech","AI Services","Consulting","Data","Business","Personal Growth & Hobbies","Photography","Finance","End-to-End Projects","Service Catalog"],"For Clients":["How Fiverr Works","Customer Success Stories","Trust & Safety","Quality Guide","Fiverr Learn  Online Courses","Fiverr Guides","Fiverr Answers"],"For Freelancers":["Become a Fiverr Freelancer","Become an Agency","Freelancer Equity Program","Community Hub","Forum","Events"],"Business Solutions":["Fiverr Pro","Project Management Service","Expert Sourcing Service","ClearVoice  Content Marketing","Working Not Working  Creative Talent","AutoDS  Dropshipping Tool","AI store builder","Fiverr Logo Maker","Contact Sales","Fiverr Go"],Company:["About Fiverr","Help & Support","Social Impact","Careers","Terms of Service","Privacy Policy","Do not sell or share my personal information","Partnerships","Creator Network","Affiliates","Invite a Friend","Press & News","Investor Relations"]};return A.jsxs("footer",{className:"bg-white border-t text-sm text-gray-700",children:[A.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:Object.entries(n).map(([e,t])=>A.jsxs("div",{children:[A.jsx("h3",{className:"font-semibold mb-3",children:e}),A.jsx("ul",{className:"space-y-2",children:t.map((r,s)=>A.jsx("li",{className:"hover:underline cursor-pointer",children:r},s))})]},e))}),A.jsxs("div",{className:"border-t py-4 px-4 flex flex-col md:flex-row justify-between items-center text-xs text-gray-500 max-w-7xl mx-auto",children:[A.jsx("div",{className:"mb-2 md:mb-0",children:" Fiverr International Ltd. 2025"}),A.jsxs("div",{className:"flex gap-3 text-gray-600 text-xl",children:[A.jsx("i",{className:"fab fa-tiktok"}),A.jsx("i",{className:"fab fa-instagram"}),A.jsx("i",{className:"fab fa-linkedin"}),A.jsx("i",{className:"fab fa-facebook"}),A.jsx("i",{className:"fab fa-pinterest"}),A.jsx("i",{className:"fab fa-x-twitter"}),A.jsx("i",{className:"fab fa-apple"})]})]})]})},lu={_origin:"https://api.emailjs.com"},S4=(n,e="https://api.emailjs.com")=>{lu._userID=n,lu._origin=e},w1=(n,e,t)=>{if(!n)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class Zw{constructor(e){this.status=e.status,this.text=e.responseText}}const E1=(n,e,t={})=>new Promise((r,s)=>{const a=new XMLHttpRequest;a.addEventListener("load",({target:u})=>{const h=new Zw(u);h.status===200||h.text==="OK"?r(h):s(h)}),a.addEventListener("error",({target:u})=>{s(new Zw(u))}),a.open("POST",lu._origin+n,!0),Object.keys(t).forEach(u=>{a.setRequestHeader(u,t[u])}),a.send(e)}),I4=(n,e,t,r)=>{const s=r||lu._userID;return w1(s,n,e),E1("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:s,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},x4=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},A4=(n,e,t,r)=>{const s=r||lu._userID,a=x4(t);w1(s,n,e);const u=new FormData(a);return u.append("lib_version","3.2.0"),u.append("service_id",n),u.append("template_id",e),u.append("user_id",s),E1("/api/v1.0/email/send-form",u)},C4={init:S4,send:I4,sendForm:A4},P4=[{name:"Programming & Tech",sub:["Web Development","App Development","Automation"]},{name:"Marketing & Sales",sub:["Email Marketing","Social Media","SEO"]},{name:"Photography & Editing",sub:["Photo Editing","Retouching","Color Grading"]},{name:"Graphics & Design",sub:["Logo Design","Branding","Illustration"]},{name:"Virtual Assistant",sub:["Admin Tasks","Data Entry","Scheduling"]},{name:"Content Writing",sub:["Blogs","Product Descriptions","Proofreading"]},{name:"UI/UX Design",sub:["Wireframes","Prototypes","User Research"]},{name:"Customer Support",sub:["Live Chat","Email Support","CRM Management"]}],T1=({selectedCategory:n,setSelectedCategory:e})=>{const t=oi();return A.jsx("div",{className:"relative",children:A.jsx("ul",{className:"flex flex-wrap gap-4 text-sm font-medium",children:P4.map(r=>A.jsxs("li",{className:"relative group cursor-pointer",children:[A.jsx("button",{onClick:()=>{e(r.name);const s=r.name?`category=${r.name}`:"";t(`/search?${s}`)},className:`px-4 py-2 rounded hover:bg-gray-100 transition ${n===r.name?" text-white":"text-gray-700"}`,children:r.name}),A.jsx("ul",{className:"absolute hidden group-hover:block top-full left-0 bg-white shadow-lg border rounded z-10 min-w-[180px]",children:r.sub.map(s=>A.jsx("li",{children:A.jsx("button",{onClick:()=>{e(r.name);const a=r.name?`category=${r.name}`:"";t(`/search?${a}&subcategory=${encodeURIComponent(s)}`)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-sm text-gray-600",children:s})},s))})]},r.name))})})},R4=()=>{const[n,e]=M.useState([]);M.useEffect(()=>{(async()=>{const Q=(await Fh(Zl(eu,"promotedGigs"))).docs.map(J=>({id:J.id,...J.data()}));e(Q)})()},[]);const t=[{title:"Programming & Tech",image:C2},{title:"Marketing & Sales",image:P2},{title:"Photography & Editing",image:O0},{title:"Graphics & Design",image:M0},{title:"Virtual Assistant",image:F0},{title:"Content Writing",image:O0},{title:"UI/UX Design",image:M0},{title:"Customer Support",image:F0}],[r,s]=M.useState(!1),a=r?t:t.slice(0,5),[u,h]=M.useState(null),f=oi();M.useEffect(()=>{const O=ri.onAuthStateChanged(B=>{B?h(B):f("/signup")});return()=>O()},[]);const p=()=>{const O="FVR",B=Math.random().toString(36).substring(2,8).toUpperCase();return`${O}-${B}`},v=O=>{var J;const B=(J=ri.currentUser)==null?void 0:J.email;if(!B){alert("Please log in to receive your coupon.");return}const Q={user_email:B,gig_title:(O==null?void 0:O.gigTitle)||"Fiverr Gig",discount:(O==null?void 0:O.discount)||"0",coupon:(O==null?void 0:O.couponCode)||p(),gig_link:(O==null?void 0:O.gigLink)||"#",name:"Fiverr Deals Bot",email:B};C4.send("service_bi2xmdb","template_d5k9y4k",Q,"j8VnXuRx-HiUjs4h1").then(()=>{alert(" Coupon sent to your email!")}).catch(se=>{console.error("Email send error:",se),alert("Failed to send coupon. Please try again.")})},[_,E]=M.useState(0);M.useEffect(()=>{let O=0;const B=128e3,J=Math.ceil(B/(2e3/16)),se=setInterval(()=>{O+=J,O>=B?(E(B.toLocaleString()),clearInterval(se)):E(O.toLocaleString())},16);return()=>clearInterval(se)},[]);const x=[{name:"Awais Nadeem",title:"Virtual Assistant",image:Xc,rate:"$25/hr"},{name:"Abdul Basit",title:"WordPress Developer",image:Xc,rate:"$20/hr"},{name:"Khurram Nadeem",title:"Graphics Designer",image:Xc,rate:"$20/hr"},{name:"Fateh Ali",title:"Digital Marketer",image:Xc,rate:"$20/hr"}],[P,V]=M.useState([]);M.useEffect(()=>{(async()=>{try{const Q=(await Fh(Zl(eu,"promotedGigs"))).docs.map(J=>J.data());V(Q)}catch(B){console.error("Error fetching gigs:",B)}})()},[]);const[N,F]=M.useState("");return A.jsxs(A.Fragment,{children:[A.jsx(lg,{user:u}),A.jsx("div",{className:"px-4 py-2",children:A.jsx(T1,{selectedCategory:N,setSelectedCategory:F})}),A.jsxs("section",{className:"relative bg-green-950 text-white py-28 px-4 sm:px-8 lg:px-16 overflow-hidden text-center",children:[A.jsxs("div",{className:"absolute inset-0",children:[A.jsx("img",{src:R2,alt:"Background",className:"w-full h-full object-cover opacity-30"}),A.jsx("div",{className:"absolute inset-0 bg-green-950 opacity-60"})]}),A.jsxs(eh.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},transition:{duration:1,ease:"easeOut"},className:"relative max-w-3xl mx-auto z-10",children:[A.jsx("span",{className:"inline-block text-green-300 text-sm font-semibold border border-green-300 px-4 py-1 rounded-full mb-6",children:"Unlock Coupons  Reveal & Save!"}),A.jsxs("h2",{className:"text-4xl sm:text-5xl font-extrabold text-white mb-8 leading-tight drop-shadow-md",children:["Get Exclusive Fiverr",A.jsx("span",{className:"text-green-400",children:"."}),A.jsx("br",{}),"Coupon Codes"]}),A.jsxs("div",{className:"flex justify-center gap-16 mb-10",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-green-400 text-4xl font-extrabold",children:"7M+"}),A.jsx("p",{className:"text-gray-300 text-base mt-1",children:"Monthly visits"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-green-400 text-4xl font-extrabold",children:"3M"}),A.jsx("p",{className:"text-gray-300 text-base mt-1",children:"Social Followers"})]})]}),A.jsx("button",{className:"mt-4 bg-green-800 text-white py-2 px-4 rounded hover:bg-green-700 transition ",children:"Contact us"})]})]}),A.jsxs(eh.section,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"relative overflow-hidden text-white px-4 py-10 md:px-10",children:[A.jsx("video",{src:N2,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover z-0"}),A.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-70 z-10"}),A.jsxs("div",{className:"relative z-20 max-w-7xl mx-auto grid md:grid-cols-3 items-center",children:[A.jsx("div",{className:"p-6 flex items-center justify-center",children:A.jsx("img",{src:k2,alt:"Fiverr Coupon",className:"h-full w-full object-contain rounded-2xl"})}),A.jsxs("div",{className:"text-center md:text-left space-y-4 px-10 border-r border-white/20",children:[A.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 text-base text-gray-300 font-medium",children:[A.jsx("span",{className:"text-yellow-400 text-xl",children:""}),A.jsx("span",{children:"Google Rating"}),A.jsx("span",{className:"text-white font-semibold text-lg",children:"4.8"})]}),A.jsxs("h2",{className:"text-5xl font-extrabold tracking-tight leading-tight",children:[_," +"]}),A.jsxs("p",{className:"text-gray-300 text-lg leading-snug",children:["customers in over 120 countries growing ",A.jsx("br",{})," their businesses with us"]})]}),A.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left pl-6",children:[A.jsxs("div",{className:"flex items-center mb-4",children:[A.jsx("img",{src:b2,alt:"Awais Nadeem",className:"w-14 h-14 rounded-full mr-4"}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-lg text-white",children:"Awais Nadeem"}),A.jsx("p",{className:"text-sm text-gray-400",children:"Business Owner"})]})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Strategic Planning"}),A.jsx("p",{className:"text-gray-300 text-base max-w-xs leading-relaxed",children:"This platform provides exclusive coupon codes that help you save big on your purchases."})]})]})]})]}),A.jsx("section",{className:"px-10 py-10 bg-white",children:A.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[A.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Service Categories"}),A.jsx("p",{className:"text-gray-600 text-lg mb-10",children:"Browse and buy services quickly & get a discount on Fiverr."}),A.jsx("div",{className:"flex flex-wrap justify-center gap-5",children:a.map((O,B)=>A.jsxs(eh.div,{whileHover:{scale:1.08},whileTap:{scale:.98},className:"w-56 cursor-pointer transition-all duration-300",onClick:()=>f(`/search?category=${encodeURIComponent(O.title)}`),children:[A.jsx("div",{className:"w-full overflow-hidden rounded-xl mb-4",children:A.jsx("img",{src:O.image,alt:O.title,className:"w-full h-full object-cover"})}),A.jsx("p",{className:"font-semibold text-2xl text-gray-800 text-center",children:O.title})]},B))}),A.jsx("div",{className:"mt-12",children:A.jsx("button",{onClick:()=>s(!r),className:"bg-green-900 text-white text-lg px-8 py-3 rounded-lg hover:bg-green-800 transition",children:r?"Show Less":"View All Services"})})]})}),A.jsxs("section",{className:"py-10 px-10 text-center bg-white",children:[A.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Latest Services"}),A.jsx("p",{className:"text-gray-600 mb-8",children:"Explore the best services that suit you & Get a discount on Fiverr."}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:P.map((O,B)=>A.jsxs("div",{className:"relative bg-white rounded-xl shadow-md overflow-hidden transition-transform hover:scale-105 flex flex-col",children:[A.jsxs("div",{className:"absolute top-2 right-2 bg-green-600 text-white text-xs font-semibold px-3 py-1 rounded-full shadow",children:["-",O.discount,"%"]}),A.jsx("a",{href:O.gigLink,target:"_blank",rel:"noopener noreferrer",children:A.jsx("img",{src:O.gigImage,alt:O.gigTitle,className:"w-full h-40 object-cover"})}),A.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[A.jsx("a",{href:O.gigLink,target:"_blank",rel:"noopener noreferrer",className:"text-md font-semibold text-gray-800 hover:underline mb-4",children:O.gigTitle}),A.jsxs("p",{className:"text-sm text-gray-500",children:[O.category," / ",O.subcategory||"No subcategory"]}),A.jsx("div",{className:"mt-auto",children:A.jsx("button",{onClick:()=>v(O),className:"w-full bg-green-700 hover:bg-green-800 text-white text-sm font-medium py-2 px-4 rounded transition-colors",children:"Get a Coupon Code"})})]})]},B))})]}),A.jsx("section",{className:"bg-green-50 py-10 px-10 md:px-12",children:A.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-10 items-center",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"text-sm text-gray-700 font-semibold mb-2",children:"Opportunity for Buyers"}),A.jsxs("h2",{className:"text-4xl font-extrabold text-gray-900 mb-6 leading-tight",children:["Unlock Exclusive Deals ",A.jsx("br",{})," on Fiverr Services!"]}),A.jsx("p",{className:"text-gray-700 text-base mb-6 leading-relaxed",children:"Looking for top-quality services at unbeatable prices? Nows your chance to grab amazing deals on Fiverr! Whether you need graphic design, website development, marketing strategies, or content writing, get professional services at a fraction of the cost."}),A.jsxs("ul",{className:"space-y-3 text-gray-700 text-base mb-6",children:[A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"text-green-700 mr-2 mt-1",children:""}),"High-quality work from top-rated freelancers"]}),A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"text-green-700 mr-2 mt-1",children:""}),"Quick delivery to meet your deadlines"]}),A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"text-green-700 mr-2 mt-1",children:""}),"Secure and reliable transactions"]}),A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"text-green-700 mr-2 mt-1",children:""}),"24/7 support for a hassle-free experience"]})]}),A.jsx("p",{className:"text-gray-800 mb-6",children:"Dont miss out on limited-time savingsbrowse, hire, and save on your next project today! "}),A.jsx("button",{className:"bg-green-900 text-white px-10 py-3 rounded-md hover:bg-green-800 transition",children:"Get Started Now"})]}),A.jsx("div",{className:"flex justify-center",children:A.jsx("img",{src:D2,alt:"Fiverr buyer deals",className:"rounded-2xl shadow-lg object-cover w-full h-auto max-w-md"})})]})}),A.jsxs(eh.section,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"bg-gray-50 py-10 px-6",children:[A.jsxs("div",{className:"max-w-7xl mx-auto text-center mb-10",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Top Rated Freelancers"}),A.jsx("p",{className:"text-gray-600 mt-2",children:"Explore the best services that suit you & Get a discount on Fiverr."})]}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 max-w-7xl mx-20",children:x.map((O,B)=>A.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-md border hover:shadow-lg transition duration-300",children:[A.jsx("img",{src:O.image,alt:O.name,className:"w-full h-64 object-cover"}),A.jsxs("div",{className:"p-4 text-center",children:[A.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:O.name}),A.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[A.jsx("span",{className:"inline-block mr-1",children:""})," 5.0 "," ",A.jsx("span",{className:"text-gray-500",children:O.title})]}),A.jsxs("p",{className:"font-medium text-md text-gray-800 mt-2",children:["From ",A.jsx("span",{className:"text-green-800",children:O.rate})]}),A.jsx("button",{className:"mt-4 bg-green-900 text-white px-4 py-2 rounded hover:bg-green-800 transition",children:"Order Now"})]})]},B))})]}),A.jsx(_1,{})]})},k4="/fiverr_management/assets/seller-DDFon243.mp4",b4="/fiverr_management/assets/seller-JpQm_GQf.jpg",N4=()=>{const[n,e]=M.useState(null),[t,r]=M.useState(!1),[s,a]=M.useState(""),[u,h]=M.useState(""),[f,p]=M.useState(""),[v,_]=M.useState(""),[E,x]=M.useState(""),[P,V]=M.useState(""),[N,F]=M.useState(""),[O,B]=M.useState(""),Q=oi();M.useEffect(()=>{const S=ri.onAuthStateChanged(C=>{C?e(C):Q("/signup")});return()=>S()},[Q]);const J=async S=>{if(S.preventDefault(),!n){alert("User not logged in.");return}const C=s.startsWith("http")?s:`https://www.fiverr.com/${s}`;try{await E2(Zl(eu,"promotedGigs"),{gigLink:C,gigTitle:N,gigImage:O,category:u,subcategory:f,tags:v.split(",").map(D=>D.trim().toLowerCase()),discount:E,duration:P,couponCode:se(),sellerEmail:n.email,createdAt:S2()}),alert("Promotion submitted!"),a(""),x(""),V(""),F(""),B(""),h(""),p(""),_(""),r(!1)}catch(D){console.error(" Firestore error:",D),alert("Failed to submit promotion.")}},se=()=>{const S="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";return Array.from({length:8},()=>S[Math.floor(Math.random()*S.length)]).join("")},b={"Programming & Tech":["Web Development","App Development","Automation"],"Marketing & Sales":["Email Marketing","Social Media","SEO"],"Photography & Editing":["Photo Editing","Retouching","Color Grading"],"Graphics & Design":["Logo Design","Branding","Illustration"],"Virtual Assistant":["Admin Tasks","Data Entry","Scheduling"],"Content Writing":["Blogs","Product Descriptions","Proofreading"],"UI/UX Design":["Wireframes","Prototypes","User Research"],"Customer Support":["Live Chat","Email Support","CRM Management"]};return A.jsxs(A.Fragment,{children:[A.jsx(lg,{user:n}),A.jsxs("div",{className:"relative h-[80vh] w-full overflow-hidden",children:[A.jsx("video",{className:"absolute top-0 left-0 w-full h-full object-cover z-0",src:k4,autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),A.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full text-white text-center px-4",children:[A.jsx("h1",{className:"text-5xl font-extrabold mb-4 drop-shadow-md",children:"Promote Your Gig"}),A.jsx("p",{className:"text-lg mb-6 max-w-xl drop-shadow-md font-medium",children:"Share your best services with the world. Add discounts and set your promotion duration easily."}),A.jsx("button",{onClick:()=>r(!0),className:"bg-green-700 text-white px-6 py-2 rounded hover:bg-green-600 transition",children:"Promote Your Gig"})]})]}),t&&A.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-60",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-6xl flex overflow-hidden relative",children:[A.jsx("div",{className:"hidden md:block w-1/2",children:A.jsx("img",{src:b4,alt:"Seller",className:"object-cover w-full h-full rounded-l-lg"})}),A.jsxs("div",{className:"w-full md:w-1/2 p-6 flex flex-col",children:[A.jsx("button",{onClick:()=>r(!1),className:"absolute top-2 right-3 text-gray-500 text-xl font-bold",children:""}),A.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Promote Gig"}),A.jsxs("form",{onSubmit:J,className:"flex flex-col h-full",children:[A.jsxs("div",{className:"flex-grow overflow-y-auto pr-1",children:[A.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Gig Title"}),A.jsx("input",{type:"text",value:N,onChange:S=>F(S.target.value),required:!0,placeholder:"e.g. I will design a modern logo",className:"w-full mb-4 px-4 py-2 border rounded"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Gig Image URL"}),A.jsx("input",{type:"url",value:O,onChange:S=>B(S.target.value),required:!0,placeholder:"https://example.com/image.jpg",className:"w-full mb-4 px-4 py-2 border rounded"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Gig Link"}),A.jsx("input",{type:"url",value:s,onChange:S=>a(S.target.value),required:!0,placeholder:"https://your-gig-link.com",className:"w-full mb-4 px-4 py-2 border rounded"})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Category"}),A.jsxs("select",{value:u,onChange:S=>{h(S.target.value),p("")},required:!0,className:"w-full mb-4 px-4 py-2 border rounded",children:[A.jsx("option",{value:"",children:"Select a category"}),Object.keys(b).map(S=>A.jsx("option",{value:S,children:S},S))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Subcategory"}),A.jsxs("select",{value:f,onChange:S=>p(S.target.value),required:!0,disabled:!u,className:"w-full mb-4 px-4 py-2 border rounded",children:[A.jsx("option",{value:"",children:"Select a subcategory"}),u&&b[u].map(S=>A.jsx("option",{value:S,children:S},S))]})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Tags (comma-separated)"}),A.jsx("input",{type:"text",value:v,onChange:S=>_(S.target.value),required:!0,placeholder:"e.g. logo, branding, business card",className:"w-full mb-4 px-4 py-2 border rounded"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Discount (%)"}),A.jsx("input",{type:"number",value:E,onChange:S=>x(S.target.value),required:!0,placeholder:"10",className:"w-full mb-4 px-4 py-2 border rounded"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Promotion Duration (days)"}),A.jsx("input",{type:"number",value:P,onChange:S=>V(S.target.value),required:!0,placeholder:"7",className:"w-full mb-4 px-4 py-2 border rounded"})]})]})]}),A.jsx("div",{className:"pt-4",children:A.jsx("button",{type:"submit",className:"w-full bg-green-700 text-white py-2 rounded hover:bg-green-600",children:"Submit Promotion"})})]})]})]})}),A.jsx(_1,{})]})},D4=()=>{var x,P,V;const n=Cr();oi();const[e,t]=M.useState(null),[r,s]=M.useState([]),[a,u]=M.useState(""),[h,f]=M.useState(""),p=new URLSearchParams(n.search),v=(x=p.get("category"))==null?void 0:x.toLowerCase().trim(),_=(P=p.get("subcategory"))==null?void 0:P.toLowerCase().trim(),E=(V=p.get("tag"))==null?void 0:V.toLowerCase().trim();return M.useEffect(()=>{const N=ri.onAuthStateChanged(F=>{t(F)});return()=>N()},[]),M.useEffect(()=>{(async()=>{const B=(await Fh(Zl(eu,"promotedGigs"))).docs.map(Q=>Q.data()).filter(Q=>{var z,k,$e,dt;const J=(z=Q.category)==null?void 0:z.toLowerCase().trim(),se=(k=Q.subcategory)==null?void 0:k.toLowerCase().trim(),b=(($e=Q.gigTitle)==null?void 0:$e.toLowerCase())||"",S=((dt=Q.tags)==null?void 0:dt.map(vt=>vt.toLowerCase().trim()))||[],C=v?J==null?void 0:J.includes(v):!0,D=_?se==null?void 0:se.includes(_):!0,j=E?b.includes(E)||S.includes(E):!0;return C&&D&&j});s(B)})()},[v,_,E]),A.jsxs(A.Fragment,{children:[A.jsx(lg,{user:e}),A.jsx("div",{className:"px-4 py-2",children:A.jsx(T1,{selectedCategory:a,setSelectedCategory:u})}),A.jsxs("div",{className:" bg-white min-h-screen",children:[A.jsxs("h1",{className:"text-3xl font-bold mb-6 text-center text-white bg-green-900 p-4",children:["Search Result: ",v||"All",_&&` / ${_}`,E&&` / ${E}`]}),r.length===0?A.jsx("p",{className:"text-gray-600 text-center",children:"No gigs found for this filter."}):A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 p-4",children:r.map((N,F)=>A.jsxs("div",{className:"bg-white rounded-lg shadow-md border overflow-hidden",children:[A.jsx("a",{href:N.gigLink,target:"_blank",rel:"noopener noreferrer",children:A.jsx("img",{src:N.gigImage,alt:N.gigTitle,className:"w-full h-48 object-cover"})}),A.jsxs("div",{className:"p-4",children:[A.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-2",children:N.gigTitle}),A.jsxs("p",{className:"text-sm text-gray-500",children:[N.category," / ",N.subcategory||"N/A"]})]})]},F))})]})]})},V4=()=>A.jsx(QA,{children:A.jsxs(xA,{children:[A.jsx(Vi,{path:"/",element:A.jsx(a_,{to:"/buyer"})}),A.jsx(Vi,{path:"/signup",element:A.jsx(A2,{})}),A.jsx(Vi,{path:"/login",element:A.jsx(x2,{})}),A.jsx(Vi,{path:"/buyer",element:A.jsx(R4,{})}),A.jsx(Vi,{path:"/seller",element:A.jsx(N4,{})}),A.jsx(Vi,{path:"/search",element:A.jsx(D4,{})}),A.jsx(Vi,{path:"/fiverr",element:A.jsx(a_,{to:"/buyer"})})]})});Vx.createRoot(document.getElementById("root")).render(A.jsx(M.StrictMode,{children:A.jsx(V4,{})}));
